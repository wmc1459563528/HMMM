{"version":3,"sources":["webpack:///./src/module-hmmm/components/articles-add.vue?68b5","webpack:///./src/api/hmmm/articles.js","webpack:///./src/module-hmmm/components/articles-add.vue","webpack:///src/module-hmmm/components/articles-add.vue","webpack:///./src/module-hmmm/components/articles-add.vue?d545","webpack:///./src/module-hmmm/components/articles-add.vue?a739"],"names":["list","data","createAPI","add","update","id","remove","changeState","state","render","_vm","this","_c","_self","staticClass","attrs","show","on","$event","ref","formModel","formRules","model","value","title","callback","$$v","$set","expression","editorOptions","articleBody","videoURL","slot","_v","confirm","staticRenderFns","name","components","quillEditor","props","default","type","required","message","tirgger","placeholder","modules","toolbar","methods","open","flag","component"],"mappings":"kHAAA,W,6PCYaA,EAAO,SAAAC,GAAI,OAAIC,eAAU,YAAa,MAAOD,IAS7CE,EAAM,SAAAF,GAAI,OAAIC,eAAU,YAAa,OAAQD,IAG7CG,EAAS,SAAAH,GAAI,OAAIC,eAAU,aAAD,OAAcD,EAAKI,IAAM,MAAOJ,IAG1DK,EAAS,SAAAL,GAAI,OAAIC,eAAU,aAAD,OAAcD,EAAKI,IAAM,SAAUJ,IAG7DM,EAAc,SAAAN,GAAI,OAC7BC,eAAU,aAAD,OAAcD,EAAKI,GAAnB,YAAyBJ,EAAKO,OAAS,OAAQP,K,yCC/B1D,IAAIQ,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,gBAAWL,EAAIT,KAAKI,GAAG,KAAK,KAA5B,MAAqC,QAAUK,EAAIM,KAAK,MAAQ,SAASC,GAAG,CAAC,iBAAiB,SAASC,GAAQR,EAAIM,KAAKE,KAAU,CAACN,EAAG,UAAU,CAACO,IAAI,OAAOJ,MAAM,CAAC,KAAO,QAAQ,cAAc,QAAQ,MAAQL,EAAIU,UAAU,MAAQV,EAAIW,YAAY,CAACT,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,WAAWO,MAAM,CAACC,MAAOb,EAAIU,UAAUI,MAAOC,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIU,UAAW,QAASM,IAAME,WAAW,sBAAsB,GAAGhB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,gBAAgB,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,QAAUL,EAAImB,eAAeP,MAAM,CAACC,MAAOb,EAAIU,UAAUU,YAAaL,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIU,UAAW,cAAeM,IAAME,WAAW,4BAA4B,GAAGhB,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,WAAWO,MAAM,CAACC,MAAOb,EAAIU,UAAUW,SAAUN,SAAS,SAAUC,GAAMhB,EAAIiB,KAAKjB,EAAIU,UAAW,WAAYM,IAAME,WAAW,yBAAyB,IAAI,GAAGhB,EAAG,MAAM,CAACG,MAAM,CAAC,KAAO,UAAUiB,KAAK,UAAU,CAACpB,EAAG,YAAY,CAACK,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIM,MAAK,KAAS,CAACN,EAAIuB,GAAG,QAAQrB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIwB,aAAa,CAACxB,EAAIuB,GAAG,SAAS,IAAI,IAAI,IAEl3CE,EAAkB,G,gFC2BP,GACfC,mBACAC,YAEAC,8BAEAC,OACAtC,MACAuC,qBACAC,cAGAxC,KAZA,WAaA,OACAe,QACAI,WACAf,QACAmB,WACAM,iBACAC,eAEAV,WAEAG,OACA,CAAAkB,YAAAC,kBAAAC,4BAEAd,aACA,CAAAY,YAAAC,kBAAAC,6BAGAf,eACAgB,oBACAC,SACAC,SACA,uCACA,4BACA,EAAA/C,gBAAA,CAAAA,gBAGA,8BASAgD,SACAC,KADA,WACA,WAEA,GADA,aACA,cACA,gBAAI,EAAJ,KAAI,EAAJ,QAAI,EAAJ,cAAI,EAAJ,WACA,gBAAA5C,KAAAmB,QAAAM,cAAAC,iBAEA,gBACA1B,QACAmB,WACAM,iBACAC,eAIA,2BACA,iCAGAG,QAnBA,WAmBA,oJACA,6KACAgB,EADA,oDAGA,UAHA,gCAKA/C,4BALA,qCAQA,yBARA,UASAC,4BATA,QAWA,2BACA,UACA,sBAbA,mGADA,gDChGqW,I,wBCQjW+C,EAAY,eACd,EACA1C,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAgB,E","file":"js/chunk-d4df7c82.368820af.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=style&index=0&id=54a36e56&prod&lang=scss&scoped=true&\"","/*\r\n * @Author: taoshiwei\r\n * @Date: 2019-04-09 14:39:32\r\n * @Last Modified by: taoshiwei\r\n * @Last Modified time: 2019-04-29 15:16:53\r\n *\r\n * 文章\r\n */\r\n\r\nimport { createAPI } from '@/utils/request'\r\n\r\n// 文章列表\r\nexport const list = data => createAPI('/articles', 'get', data)\r\n\r\n// 文章简单列表\r\nexport const simple = data => createAPI('/articles/simple', 'get', data)\r\n\r\n// 文章详情\r\nexport const detail = data => createAPI(`/articles/${data.id}`, 'get', data)\r\n\r\n// 文章添加\r\nexport const add = data => createAPI('/articles', 'post', data)\r\n\r\n// 文章修改\r\nexport const update = data => createAPI(`/articles/${data.id}`, 'put', data)\r\n\r\n// 文章删除\r\nexport const remove = data => createAPI(`/articles/${data.id}`, 'delete', data)\r\n\r\n// 文章状态\r\nexport const changeState = data =>\r\n  createAPI(`/articles/${data.id}/${data.state}`, 'post', data)\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"articles-add\"},[_c('el-dialog',{attrs:{\"title\":`${_vm.data.id?'修改':'新增'}文章`,\"visible\":_vm.show,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.show=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"size\":\"small\",\"label-width\":\"100px\",\"model\":_vm.formModel,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"文章标题：\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入文章标签\"},model:{value:(_vm.formModel.title),callback:function ($$v) {_vm.$set(_vm.formModel, \"title\", $$v)},expression:\"formModel.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章内容：\",\"prop\":\"articleBody\"}},[_c('quill-editor',{attrs:{\"options\":_vm.editorOptions},model:{value:(_vm.formModel.articleBody),callback:function ($$v) {_vm.$set(_vm.formModel, \"articleBody\", $$v)},expression:\"formModel.articleBody\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频地址：\",\"prop\":\"videoURL\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入视频地址\"},model:{value:(_vm.formModel.videoURL),callback:function ($$v) {_vm.$set(_vm.formModel, \"videoURL\", $$v)},expression:\"formModel.videoURL\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.show=false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirm()}}},[_vm._v(\"确认\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"articles-add\">\r\n    <el-dialog :title=\"`${data.id?'修改':'新增'}文章`\" :visible.sync=\"show\" width=\"800px\">\r\n      <el-form ref=\"form\" size=\"small\" label-width=\"100px\" :model=\"formModel\" :rules=\"formRules\">\r\n        <el-form-item label=\"文章标题：\" prop=\"title\">\r\n          <el-input v-model=\"formModel.title\" placeholder=\"请输入文章标签\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章内容：\" prop=\"articleBody\">\r\n          <!-- 富文本编辑器 -->\r\n          <quill-editor v-model=\"formModel.articleBody\" :options=\"editorOptions\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"视频地址：\" prop=\"videoURL\">\r\n          <el-input v-model=\"formModel.videoURL\" placeholder=\"请输入视频地址\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"show=false\">取消</el-button>\r\n        <el-button @click=\"confirm()\" type=\"primary\">确认</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { add, update } from '@/api/hmmm/articles'\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { quillEditor } from 'vue-quill-editor'\r\nexport default {\r\n  name: 'ArticlesAdd',\r\n  components: {\r\n    // 富文本编辑器\r\n    quillEditor\r\n  },\r\n  props: {\r\n    data: {\r\n      default: () => {},\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      formModel: {\r\n        id: null,\r\n        title: null,\r\n        articleBody: null,\r\n        videoURL: null\r\n      },\r\n      formRules: {\r\n        // 校验表单必填项\r\n        title: [\r\n          { required: true, message: '请输入文章标题', tirgger: ['blur', 'change'] }\r\n        ],\r\n        articleBody: [\r\n          { required: true, message: '请输入文章内容', tirgger: ['blur', 'change'] }\r\n        ]\r\n      },\r\n      editorOptions: {\r\n        placeholder: '请输入正文',\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'], // 加粗 斜体 下划线 删除线\r\n            ['blockquote', 'code-block'], // 引用 代码块\r\n            [{ list: 'ordered' }, { list: 'bullet' }], // 有序、无序列表\r\n\r\n            // [{ header: 1 }, { header: 2 }], // 1、2 级标题\r\n            ['image', 'video', 'link'] // 图片、视频、链接\r\n            // [{ indent: '-1' }, { indent: '+1' }], // 缩进\r\n            // ['clean'] // 清除文本格式\r\n          ]\r\n\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    open () {\r\n      this.show = true\r\n      if (this.data.id) {\r\n        const { id, title, articleBody, videoURL } = this.data\r\n        this.formModel = { id, title, articleBody, videoURL }\r\n      } else {\r\n        this.formModel = {\r\n          id: null,\r\n          title: null,\r\n          articleBody: null,\r\n          videoURL: null\r\n        }\r\n      }\r\n      // 清除校验效果\r\n      this.$nextTick(() => {\r\n        this.$refs.form.clearValidate()\r\n      })\r\n    },\r\n    async confirm () {\r\n      this.$refs.form.validate(async flag => {\r\n        if (!flag) return\r\n        // 提交\r\n        if (!this.data.id) {\r\n          // 新增\r\n          await add(this.formModel)\r\n        } else {\r\n          // 修改\r\n          this.formModel.id = this.data.id\r\n          await update(this.formModel)\r\n        }\r\n        this.$message.success('操作成功')\r\n        this.show = false\r\n        this.$emit('updateList')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.articles-add ::v-deep .ql-editor{\r\n  height: 200px;\r\n}\r\n.articles-add ::v-deep .ql-toolbar.ql-snow{\r\n  padding: 0 8px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articles-add.vue?vue&type=template&id=54a36e56&scoped=true&\"\nimport script from \"./articles-add.vue?vue&type=script&lang=js&\"\nexport * from \"./articles-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articles-add.vue?vue&type=style&index=0&id=54a36e56&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54a36e56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}