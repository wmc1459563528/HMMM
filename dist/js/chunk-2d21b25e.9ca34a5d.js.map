{"version":3,"sources":["webpack:///./src/module-hmmm/pages/companys/citys.vue","webpack:///src/module-hmmm/pages/companys/citys.vue","webpack:///./src/module-hmmm/pages/companys/citys.vue?85e5","webpack:///./src/module-hmmm/pages/companys/citys.vue?a35f"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","attrs","on","handleProvince","model","value","provAndCity","province","callback","$$v","$set","expression","_l","provinceList","item","key","_v","handleCity","city","cityList","staticRenderFns","name","props","data","created","methods","getCityData","watch","handler","newVal","oldVal","deep","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,cAAc,aAAa,CAACF,EAAG,YAAY,CAACG,YAAY,cAAcD,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,UAAY,IAAIC,GAAG,CAAC,OAASP,EAAIQ,gBAAgBC,MAAM,CAACC,MAAOV,EAAIW,YAAYC,SAAUC,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIW,YAAa,WAAYG,IAAME,WAAW,yBAAyBhB,EAAIiB,GAAIjB,EAAIkB,cAAc,SAASC,GAAM,OAAOjB,EAAG,YAAY,CAACkB,IAAID,EAAKb,MAAM,CAAC,MAAQa,EAAK,MAAQA,QAAU,GAAGjB,EAAG,QAAQ,CAACE,YAAY,CAAC,OAAS,SAAS,cAAc,WAAW,CAACJ,EAAIqB,GAAG,OAAOnB,EAAG,YAAY,CAACG,YAAY,cAAcD,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,UAAY,IAAIC,GAAG,CAAC,OAASP,EAAIsB,YAAYb,MAAM,CAACC,MAAOV,EAAIW,YAAYY,KAAMV,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIW,YAAa,OAAQG,IAAME,WAAW,qBAAqBhB,EAAIiB,GAAIjB,EAAIwB,UAAU,SAASL,GAAM,OAAOjB,EAAG,YAAY,CAACkB,IAAID,EAAKb,MAAM,CAAC,MAAQa,EAAK,MAAQA,QAAU,IAAI,IAEz8BM,EAAkB,G,YCuBP,GACfC,aACAC,gBACAC,KAHA,WAIA,OACAjB,aACAC,6BACAW,sBAEAL,gBACAM,cAGAK,QAbA,WAcA,oBAEAC,SAEAC,uBACA,mCACA,4BACA,0DAIAT,uBACA,gCAEA,oBACAV,mCACAW,UAIAf,2BACA,gCACA,oBACAI,mCACAW,0BAIAS,OAaAtB,OACAuB,QADA,SACAC,EAAAC,GAEA,qCAEA,yCAEA,8BAEAC,WCzF6W,I,YCOzWC,EAAY,eACd,EACAtC,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAY,E","file":"js/chunk-2d21b25e.9ca34a5d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.handleProvince},model:{value:(_vm.provAndCity.province),callback:function ($$v) {_vm.$set(_vm.provAndCity, \"province\", $$v)},expression:\"provAndCity.province\"}},_vm._l((_vm.provinceList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('label',{staticStyle:{\"margin\":\"0 10px\",\"font-weight\":\"normal\"}},[_vm._v(\"市\")]),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.handleCity},model:{value:(_vm.provAndCity.city),callback:function ($$v) {_vm.$set(_vm.provAndCity, \"city\", $$v)},expression:\"provAndCity.city\"}},_vm._l((_vm.cityList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"display: flex;align-items: baseline;\">\r\n    <el-select\r\n      class=\"filter-item\"\r\n      style=\"width: 130px;\"\r\n      v-model=\"provAndCity.province\"\r\n      @change=\"handleProvince\"\r\n      clearable\r\n    >\r\n      <el-option v-for=\"item in provinceList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n    </el-select><label style=\"margin:0 10px; font-weight:normal\">市</label>\r\n    <el-select\r\n      class=\"filter-item\"\r\n      style=\"width: 130px;\"\r\n      v-model=\"provAndCity.city\"\r\n      @change=\"handleCity\"\r\n      clearable\r\n    >\r\n      <el-option v-for=\"item in cityList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n    </el-select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { provinces as getProvinces, citys as getCitys } from '@/api/hmmm/citys.js'\r\nexport default {\r\n  name: 'citys',\r\n  props: ['value'],\r\n  data () {\r\n    return {\r\n      provAndCity: {\r\n        province: this.value.province,\r\n        city: this.value.city\r\n      },\r\n      provinceList: [],\r\n      cityList: []\r\n    }\r\n  },\r\n  created () {\r\n    this.getCityData()\r\n  },\r\n  methods: {\r\n    // 获取省\r\n    getCityData: function () {\r\n      this.provinceList = getProvinces()\r\n      if (this.provAndCity.province) {\r\n        this.cityList = getCitys(this.provAndCity.province)\r\n      }\r\n    },\r\n    // 选省获取到市\r\n    handleCity: function (e) {\r\n      this.cityList = getCitys(e)\r\n      // this.value.city = this.cityList[0]\r\n      this.$emit('input', {\r\n        province: this.provAndCity.province,\r\n        city: e\r\n      })\r\n    },\r\n    // 选省获取到市\r\n    handleProvince: function (e) {\r\n      this.cityList = getCitys(e)\r\n      this.$emit('input', {\r\n        province: this.provAndCity.province,\r\n        city: this.cityList[0]\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    // 由于父组件中传入的v-model=\"XXXX\",这里的xxxx是通过ajax取回来的数据\r\n    // 所以，在传值的过程中是有一个变化：\r\n    // 1. 初始值是\"\"\r\n    // 2. ajax回来之后，取到了，自动传入子组件（v-model是响应式）\r\n    // 所以，要用watch监听这个变化\r\n    // 格式是：\r\n    // 字符段： {\r\n    //   handler:(newVal, oldVal) {\r\n\r\n    //   },\r\n    //   deep: true\r\n    // }\r\n    value: {\r\n      handler (newVal, oldVal) {\r\n        // 更新省份\r\n        this.provAndCity.province = newVal.province\r\n        // 获取对应市级的数据\r\n        this.cityList = getCitys(newVal.province)\r\n        // 更新市\r\n        this.provAndCity.city = newVal.city\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citys.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citys.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./citys.vue?vue&type=template&id=377cded4&\"\nimport script from \"./citys.vue?vue&type=script&lang=js&\"\nexport * from \"./citys.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}