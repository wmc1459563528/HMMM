{"version":3,"sources":["webpack:///./src/module-hmmm/components/uploda-image.vue?7f58","webpack:///./node_modules/cos-js-sdk-v5/dist/cos-js-sdk-v5.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/module-hmmm/components/uploda-image.vue","webpack:///src/module-hmmm/components/uploda-image.vue","webpack:///./src/module-hmmm/components/uploda-image.vue?8b48","webpack:///./src/module-hmmm/components/uploda-image.vue?a84f"],"names":["root","factory","module","exports","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","COS","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","e","undefined","this","_t","setPrototypeOf","__proto__","Array","_e","assign","arguments","length","apply","Promise","a","next","throw","done","then","label","sent","trys","ops","return","iterator","TypeError","pop","push","u","emit","__EventsList","slice","callback","type","remove","indexOf","on","one","splice","h","keys","f","Error","String","replace","RegExp","A99","A100","v","lifeCycle","uploadJobQueue","additionalParams","delayTime","_normalLogPipeline","reduce","send","url","strategy","getUploadUrl","data","method","contentType","config","onReportSuccess","JSON","stringify","events","onReportFail","Boolean","appkey","onUserAction","preReport","onDirectUserAction","isEventUpOnOff","isBlackEvent","isSampleEvent","onReport","errorReport","reportError","addAdditionalParams","setChannelId","commonInfo","channelID","setOpenId","openid","setUnionid","unid","getDeviceId","deviceId","getCommonInfo","removeSendingId","parse","storage","getItem","setItem","y","requestParams","network","attaid","token","product_id","platform","uin","model","os","app_version","appVersion","sdk_version","sdkVersion","error_stack","uploadUrl","isOversea","_dc","Math","random","error_msg","error_code","params","catch","g","httpsUploadUrl","requestInterval","blacklist","samplelist","realSample","processData","needRequestConfig","requestConfig","Date","now","toString","post","platformId","wx","mainAppKey","osVersion","userAgent","packageName","A3","ret","beaconConfig","split","Number","floor","w","beacon","duration","getSession","createSession","sessionId","sessionStart","A21","b","navigator","test","parseFloat","$1","E","_S","I","reportOptions","canUseDB","indexedDB","openDB","message","version","stores","open","onsuccess","db","result","func","onerror","target","error","onupgradeneeded","forEach","createStore","useStore","storeName","deleteDB","closeDB","deleteDatabase","close","getStoreCount","getStore","count","clearStore","clear","add","put","getStoreAllData","openCursor","continue","getDataRangeByIndex","index","IDBKeyRange","bound","removeDataByIndex","delete","indexes","options","objectStoreNames","contains","deleteObjectStore","createObjectStore","createIndex","indexName","keyPath","transaction","objectStore","O","k","x","isReady","taskQueue","resolve","unique","getCount","readyExec","eventId","removeItem","updateItem","iterate","C","keyObject","_","dbEventCount","store","reject","insertEvent","mapValue","getEvents","all","removeEvent","_A","P","decodeURIComponent","j","NaN","includes","isSkipEmpty","encode","encodeURIComponent","D","query","hash","T","join","N","document","querySelectorAll","createElement","charset","getAttribute","setAttribute","dataset","tag","onload","onreadystatechange","readyState","body","appendChild","equal","low","high","_U","q","R","L","interceptors","use","resolved","rejected","traverse","reduceRight","eject","B","defaults","timeout","redirect","credentials","headers","common","Accept","POST","PUT","PATCH","baseURL","polyfillUrl","request","response","J","M","V","fetch","src","Image","comps","ua","location","href","map","G","toUpperCase","getPrototypeOf","F","signal","setTimeout","AbortController","race","clearTimeout","abort","Q","onReportBeforeSend","json","status","statusText","K","localStorage","getStoreKey","setSessionItem","sessionStorage","getSessionItem","createDeviceId","charAt","substr","globalThis","self","W","configurable","writable","asyncIterator","_invoke","arg","delegate","resultName","nextLoc","_sent","dispatchException","abrupt","wrap","S","__await","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","completion","reset","isNaN","constructor","displayName","isGeneratorFunction","mark","awrap","AsyncIterator","async","reverse","values","prev","stop","rval","complete","finish","delegateYield","regeneratorRuntime","Function","hasher","each","getHid","substring","XMLHttpRequest","setRequestHeader","DONE","responseText","appKey","hid","sign","screen","width","devicePixelRatio","height","sort","availWidth","availHeight","deviceMemory","productSub","hardwareConcurrency","getWebglVendorAndRenderer","getTimezoneOffset","getFactor","x64hash128","JSInterface","getUserAgent","getContext","getExtension","getParameter","UNMASKED_VENDOR_WEBGL","UNMASKED_RENDERER_WEBGL","loseContext","RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","iceServers","createDataChannel","reliable","onicecandidate","candidate","concat","createOffer","sdp","setLocalDescription","filter","charCodeAt","H","z","qimei36","uselessCycleTaskNum","underWeakNet","doCustomCycleTask","code","monitorUploadFailed","isUnderIE8","isUnderIE","needInitQimei","initQimei","initCommonInfo","logidStartTime","initSession","initDelayTime","delay","cycleTask","getQimei36","q36","sessionDuration","beaconSession","language","search","pixel","unionid","versionCode","strictMode","intervalID","setInterval","assembleData","generateData","shift","onSendBeacon","sendBeacon","A72","A88","eventCode","eventTime","sdkId","A2","A8","A12","A17","A23","A50","A76","A101","A102","A104","referrer","A119","A153","clearInterval","CryptoJS","lib","Base","extend","mixIn","init","$super","clone","WordArray","words","sigBytes","clamp","ceil","enc","Hex","parseInt","Latin1","fromCharCode","Utf8","escape","unescape","BufferedBlockAlgorithm","_data","_nDataBytes","_append","_process","blockSize","max","_minBufferSize","min","_doProcessBlock","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","SHA1","_hash","HmacSHA1","_hasher","_oKey","_iKey","C_lib","C_enc","Base64","wordArray","_map","base64Chars","byte1","byte2","byte3","triplet","paddingChar","base64Str","base64StrLength","paddingIndex","nBytes","bits1","bits2","element_start_char","element_non_start_char","element_replace","not_safe_in_xml","objKeys","obj","process_to_xml","node_data","makeNode","content","attributes","level","hasSubNodes","indent_value","indent","prettyPrint","removeIllegalNameCharacters","node","fn","node_descriptor","isArray","toJSON","nodes","esc","xml_header","standalone","str","xmlHeader","xmlheader","docType","process","ERROR","WINDOW","JS_MD5_NO_WINDOW","WEB_WORKER","NODE_JS","JS_MD5_NO_NODE_JS","versions","COMMON_JS","JS_MD5_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_MD5_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","BASE64_ENCODE_CHAR","blocks","buffer8","buffer","Uint8Array","Uint32Array","JS_MD5_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","outputType","isBinStr","Md5","createMethod","nodeWrap","getCtx","crypto","eval","Buffer","nodeMethod","createHash","digest","sharedMemory","h0","h1","h2","h3","start","bytes","hBytes","finalized","hashed","first","lastByteIndex","bc","da","hex","format","res","array","arrayBuffer","base64","v1","v2","v3","md5","stringifyPrimitive","isFinite","queryStringify","sep","eq","ks","xhrRes","err","xhr","getAllResponseHeaders","trim","item","toLowerCase","val","statusCode","statusMessage","xhrBody","dataType","opt","qs","qsStr","responseType","xhrFields","xhrField","onProgress","upload","onprogress","onDownloadProgress","ontimeout","event","DOMParser","xmlToJSON","mergeCDATA","normalize","stripElemPrefix","prefixMatch","grokType","sValue","parseString","xmlString","xml","stringToXML","getElementsByTagName","parseXML","oXMLParent","vResult","nLength","sCollectedTxt","childNum","childNodes","oNode","sProp","vContent","nItem","nodeType","nodeValue","nodeName","xmlToString","xmlDoc","XMLSerializer","serializeToString","parser","parseFromString","ActiveXObject","loadXML","xml2json","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","freeze","oc","source","MIME_TYPE","HTML","isHTML","XML_APPLICATION","XML_TEXT","XML_XHTML_APPLICATION","XML_SVG_IMAGE","NAMESPACE","uri","SVG","XML","XMLNS","conventions","dom","entities","sax","DOMImplementation","ParseError","XMLReader","normalizeLineEndings","input","locator","buildErrorHandler","errorImpl","domBuilder","DOMHandler","errorHandler","isCallback","build","msg","_locator","cdata","position","lineNumber","columnNumber","systemId","_toString","chars","java","lang","appendElement","hander","currentElement","doc","mimeType","defaultNSMap","xmlns","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","startDocument","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","el","createElementNS","len","getURI","getValue","attr","getQName","createAttributeNS","getLocator","setAttributeNode","endElement","current","tagName","parentNode","startPrefixMapping","prefix","endPrefixMapping","processingInstruction","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","charNode","createCDATASection","createTextNode","skippedEntity","endDocument","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","console","warn","fatalError","__DOMHandler","notEmptyString","splitOnASCIIWhitespace","orderedSetReducer","element","toOrderedSet","list","arrayIncludes","copy","dest","_extends","Class","Super","pt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","lastIndex","Node","_xmlEncoder","_visitNode","firstChild","nextSibling","Document","_nsMap","_onUpdateChild","newChild","cs","child","_removeChild","previous","previousSibling","lastChild","_insertBefore","nextChild","cp","removeChild","newFirst","newLast","pre","_appendSingleChild","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","lookupPrefix","visibleNamespaces","namespace","needNamespaceDefine","addSerializedAttribute","qualifiedName","prefixedNodeName","defaultNS","ai","nsi","pubid","sysid","sub","internalSubset","importNode","deep","node2","cloneNode","attrs2","_ownerElement","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","id","rtv","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","matches","nodeClassNamesSet","every","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagNameNS","substringData","offset","text","insertData","replaceData","deleteData","end","splitText","newText","newNode","getTextContent","$$length","set","amp","apos","gt","lt","quot","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","lineEnd","linePattern","exec","lineStart","parseStack","currentNSMap","closeMap","tagStart","match","localNSMap","endMatch","endIgnoreCaseMach","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","closed","fixSelfClosed","locator2","copyLocator","parseHtmlSpecialContent","addAttribute","qname","startIndex","attributeNames","addValue","attrName","setTagName","nsp","nsPrefix","_copy","elStartEnd","elEndStart","pos","lastIndexOf","matchs","lastMatch","endDTD","getLocalName","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","Item","noop","nextTick","args","title","browser","env","argv","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","__webpack_amd_options__","webpackPolyfill","deprecate","paths","children","session","Async","EventProxy","util","Tracker","sliceUploadFile","FileSize","ep","TaskId","Bucket","Region","Key","Body","ChunkSize","SliceSize","AsyncLimit","StorageClass","ServerSideEncryption","onHashProgress","tracker","setParams","chunkSize","_isRunningTask","UploadId","UploadData","UploadCompleteData","_UploadCompleteData","metaHeaders","Headers","shortKey","uploadSliceComplete","SliceList","removeUsing","removeUploadId","loaded","total","uuid","getFileId","saveUploadId","UploadIdCacheLimit","setUsing","uploadSliceList","throttleOnProgress","_params","getUploadIdAndPartList","PartList","ContentLength","SIZE","AutoChunkSize","MaxPartNumber","SkipTask","putObject","ETagMap","SliceCount","FinishSize","getChunkETag","PartNumber","ETag","Size","fileSlice","chunkItem","getFileMd5","isAvailableUploadList","PartCount","PartSliceSize","Part","chunk","errData","Uploaded","Query","calledBySdk","multipartInit","UploadIdList","eachLimit","asyncCallback","using","wholeMultipartListPart","PartListData","isAvailable","AvailableUploadData","RemoteUploadIdList","LocalUploadIdList","getUploadIdList","isInArray","wholeMultipartList","UploadList","UploadID","sendParams","Prefix","multipartList","Upload","IsTruncated","KeyMarker","NextKeyMarker","UploadIdMarker","NextUploadIdMarker","multipartListPart","PartNumberMarker","NextPartNumberMarker","cb","ChunkParallel","ChunkParallelLimit","needUploadSlices","SliceItem","_onProgress2","currentSize","preAddSize","uploadSliceItem","FileBody","ChunkRetryTimes","headersWhiteList","PartItem","retry","tryCallback","multipartUpload","Parts","multipartComplete","abortUploadTask","Level","AbortArray","abortUploadTaskArray","resultList","AbortItem","nextItem","eachIndex","KeyNotMatch","multipartAbort","task","successList","errorList","uploadFile","taskList","size","fileInfo","EnableTracker","accelerate","UseAccelerate","Domain","bucket","region","apiName","fileKey","fileSize","deepTracker","DeepTracker","customId","CustomId","TrackerDelay","_onTaskReady","onTaskReady","tid","api","_onFileFinish","onFileFinish","formatResult","_addTasks","uploadFiles","TotalSize","TotalFinish","onTotalProgress","unFinishCount","files","_onTotalFileFinish","onTotalFileFinish","Index","fileParams","PreAddSize","_onProgress","info","sliceCopyFile","CopySource","getSourceParams","SourceBucket","SourceRegion","SourceKey","CopySliceSize","CopyChunkSize","CopyChunkParallelLimit","ChunkCount","SourceResHeaders","SourceHeaders","TargetHeader","getCopyFileId","needCopySlices","CopySourceRange","copySliceItem","createNewUploadId","finishETagMap","partNumber","clearKey","restoreHeader","headObject","ErrorStatus","putObjectCopy","resHeaders","metaPrefix","uploadPartCopy","API_MAP","transferToTaskMethod","apiWrapper","arr","limit","completed","started","running","replenish","REQUEST","getService","protocol","Protocol","isBrowser","domain","ServiceDomain","appId","AppId","SignHost","standardHost","urlHost","submitRequest","Action","buckets","ListAllMyBucketsResult","Buckets","owner","Owner","putBucket","CreateBucketConfiguration","BucketAZConfig","json2xml","getUrl","isLocation","Location","headBucket","getBucket","reqParams","ResourceKey","ListBucketResult","Contents","CommonPrefixes","deleteBucket","putBucketAcl","AccessControlPolicy","Grants","Grant","AccessControlList","binaryBase64","uniqGrant","action","getBucketAcl","decodeAcl","ACL","putBucketCors","CORSConfiguration","CORSRules","rule","sKey","Conf","CORSRule","ResponseVary","getBucketCors","Code","deleteBucketCors","getBucketLocation","putBucketPolicy","Policy","PolicyStr","getBucketPolicy","rawBody","deleteBucketPolicy","putBucketTagging","Tagging","Tags","TagSet","Tag","getBucketTagging","deleteBucketTagging","putBucketLifecycle","LifecycleConfiguration","Rules","Rule","getBucketLifecycle","deleteBucketLifecycle","putBucketVersioning","VersioningConfiguration","getBucketVersioning","putBucketReplication","ReplicationConfiguration","getBucketReplication","makeArray","deleteBucketReplication","putBucketWebsite","WebsiteConfiguration","RoutingRules","RoutingRule","getBucketWebsite","deleteBucketWebsite","putBucketReferer","RefererConfiguration","DomainList","Domains","getBucketReferer","putBucketDomain","DomainConfiguration","DomainRule","getBucketDomain","deleteBucketDomain","putBucketOrigin","OriginConfiguration","OriginRule","getBucketOrigin","deleteBucketOrigin","putBucketLogging","BucketLoggingStatus","getBucketLogging","putBucketInventory","InventoryConfiguration","OptionalFields","Field","Destination","COSBucketDestination","Encryption","getBucketInventory","listBucketInventory","ListInventoryConfigurationResult","InventoryConfigurations","deleteBucketInventory","putBucketAccelerate","configuration","AccelerateConfiguration","getBucketAccelerate","putBucketEncryption","conf","ServerSideEncryptionConfiguration","getBucketEncryption","EncryptionConfiguration","deleteBucketEncryption","VersionId","NotModified","listObjectVersions","ListVersionsResult","DeleteMarkers","DeleteMarker","Versions","Version","getObject","reqParamsStr","QueryString","signStartTime","getTime","DataType","needCalcMd5","UploadAddMetaMd5","UploadCheckContentMd5","md5StartTime","getBodyMd5","md5EndTime","ForcePathStyle","deleteObject","Recursive","BucketNotFound","getObjectAcl","GrantWrite","putObjectAcl","optionsObject","OptionsForbidden","AccessControlAllowOrigin","AccessControlAllowMethods","AccessControlAllowHeaders","AccessControlExposeHeaders","AccessControlMaxAge","Scope","CopyObjectResult","uploadId","CopyPartResult","deleteMultipleObject","Objects","Quiet","Delete","DeleteResult","Deleted","Errors","restoreObject","RestoreRequest","putObjectTagging","getObjectTagging","deleteObjectTagging","selectObjectContent","SelectType","SelectRequest","parseSelectPayload","Payload","payload","parent","errorNode","InitiateMultipartUploadResult","getFileSize","CompleteMultipartUpload","CompleteMultipartUploadResult","ProcessResults","UploadResult","OriginalInfo","ImageInfo","ListMultipartUploadsResult","ListPartsResult","Method","Url","RawBody","appendObject","Position","getAuth","SecretId","SecretKey","Expires","UseRawKey","SystemClockOffset","getObjectUrl","useAccelerate","queryParamsStr","obj2str","syncUrl","Sign","getSignHost","AuthData","getAuthorizationAsync","ForceSignHost","replaceUrlParamList","urlParams","encodedParams","replacedUrl","signUrl","Authorization","SecurityToken","ClientIP","ClientUA","Token","GrantFullControl","GrantRead","GrantReadAcp","GrantWriteAcp","GrantMap","PublicAcl","READ","WRITE","FULL_CONTROL","Grantee","ID","URI","Permission","longBucket","shortBucket","camSafeUrlEncode","standardHostReg","headerHost","forceSignHost","Host","cbDone","XCosSecurityToken","KeyName","Pathname","StsData","ScopeKey","_StsCache","compareTime","round","getSkewTime","StartTime","ExpiredTime","ScopeLimit","calcAuthByTmpKey","KeyTime","TmpSecretId","TmpSecretKey","checkAuthError","formatAllow","auth","atob","getAuthorization","AuthError","getSTS","allowRetry","isTimeError","serverDate","date","ServerTime","errorCode","errorMessage","Message","serverTime","CorrectClockSkew","abs","versionId","paramsUrl","tryTimes","oldClockOffset","retryTimes","signEndTime","httpStartTime","_submitRequest","httpEndTime","isCIHost","contentLength","Timeout","pathStyle","queryString","fullUrl","reqUrl","sender","Request","receive","hasReturned","killTask","statusSuccess","xmlError","warnOldApi","proto","suffix","oldName","apiFn","warned","advance","pkg","defaultOptions","FileParallelLimit","ProgressInterval","CompatibilityMode","UploadQueueSize","isNode","initEvent","cos","getList","cache","timer","cacheKey","expires","getCache","setCache","changed","mtime","save","mod","file","lastModifiedDate","copySource","sourceHeaders","etag","lastModified","unshift","originApiMap","apiMap","_addTask","initTask","tasks","uploadingFileCount","nextUploadIndex","formatTask","FilePath","state","speed","percent","hashPercent","_custom","emitListUpdate","clearQueue","isActive","startNextTask","onTaskStart","apiParams","formatParams","switchToState","waiting","pipe","toState","isTaskReadyWarning","ignoreAddEvent","TaskReady","getTaskList","cancelTask","pauseTask","restartTask","isUploadRunning","BeaconAction","getBeacon","utils","getUid","S4","getNetType","connection","mozConnection","webkitConnection","effectiveType","getOsType","agent","isMac","isMobile","exp","isAndroid","isIOS","isOtherMobile","getDeviceName","explorer","ver","_match","_ver","_match2","_ver2","_match3","_ver3","_match4","_ver4","_match5","_ver5","_match6","_ver6","_match7","_ver7","constant","mobileOsType","pcOsType","deviceInfo","deviceType","devicePlatform","deviceName","sliceUploadMethods","uploadApi","downloadApi","getEventCode","camel2underline","formattedParams","allReporterKeys","successKeys","reporterKeys","formattedKey","traceId","appid","cossdkVersion","networkType","host","requestPath","httpMd5","httpSign","httpFull","tookTime","errorRequestId","errorStatusCode","errorServiceName","tracePlatform","startTime","endTime","_err$error","_err$error2","_err$error3","_err$error4","_err$error5","_err$error6","resource","Resource","requestId","errorType","fullError","execRes","sendEvents","destroy","subParams","getObjectKeys","forKey","lowerCaseKey","keyList","signHeaders","getSignHeaderObj","signHeaderObj","pathname","queryParams","qSignAlgorithm","qAk","qSignTime","qKeyTime","qHeaderList","qUrlParamList","signKey","formatString","stringToSign","qSignature","authorization","readIntBE","8","16","Uint16Array","32","buf2str","isUtf8","charCode","header","records","byteLength","totalLength","headerLength","payloadRestLength","headerNameLength","headerName","headerValueLength","headerValue","stats","Stats","errCode","errMessage","CopySourceParser","retObj","readAsBinaryString","blob","readFun","fr","FileReader","readAsArrayBuffer","fileData","binary","reader","fileSliceNeedCopy","compareVersion","check","ChromeVersion","QBCoreVersion","QQBrowserVersion","need","isUseToUpload","mozSlice","webkitSlice","Blob","md5ChunkSize","md5ctx","defaultValue","flag","iaArr","char","btoa","hasMissingParams","checkBucket","checkRegion","headerMap","paramKey","headerKey","generateSubTracker","RequestId","_callback","checkParams","missingResult","errMsg","isSync","time1","size0","size1","time0","immediately","sourceErr","stack","isWebWorker","FileReaderSync","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","forced","callbackfn","render","_vm","_c","_self","staticClass","class","disabled","isDisabled","staticStyle","fileList","handlePictureCardPreview","handleRemove","handleUpload","handleChange","handleBeforeUpload","staticRenderFns","default","dialogVisible","dialogImageUrl","computed","isUploadAll","methods","component"],"mappings":"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","file":"js/chunk-03f2a9f0.58c2a405.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploda-image.vue?vue&type=style&index=0&id=fda85362&prod&lang=scss&scoped=true&\"","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"COS\"] = factory();\n\telse\n\t\troot[\"COS\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./index.js\":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar COS = __webpack_require__(/*! ./src/cos */ \"./src/cos.js\");\n\nmodule.exports = COS;\n\n/***/ }),\n\n/***/ \"./lib/beacon.min.js\":\n/*!***************************!*\\\n  !*** ./lib/beacon.min.js ***!\n  \\***************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\n!function (t, e) {\n  \"object\" == ( false ? undefined : _typeof(exports)) && \"undefined\" != typeof module ? module.exports = e() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (e),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;\n}(this, function () {\n  \"use strict\";\n\n  var _t = function t(e, r) {\n    return (_t = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (t, e) {\n      t.__proto__ = e;\n    } || function (t, e) {\n      for (var r in e) {\n        Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n      }\n    })(e, r);\n  };\n\n  var _e = function e() {\n    return (_e = Object.assign || function (t) {\n      for (var e, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in e = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n        }\n      }\n\n      return t;\n    }).apply(this, arguments);\n  };\n\n  function r(t, e, r, n) {\n    return new (r || (r = Promise))(function (o, i) {\n      function a(t) {\n        try {\n          c(n.next(t));\n        } catch (t) {\n          i(t);\n        }\n      }\n\n      function s(t) {\n        try {\n          c(n.throw(t));\n        } catch (t) {\n          i(t);\n        }\n      }\n\n      function c(t) {\n        var e;\n        t.done ? o(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {\n          t(e);\n        })).then(a, s);\n      }\n\n      c((n = n.apply(t, e || [])).next());\n    });\n  }\n\n  function n(t, e) {\n    var r,\n        n,\n        o,\n        i,\n        a = {\n      label: 0,\n      sent: function sent() {\n        if (1 & o[0]) throw o[1];\n        return o[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return i = {\n      next: s(0),\n      throw: s(1),\n      return: s(2)\n    }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n      return this;\n    }), i;\n\n    function s(i) {\n      return function (s) {\n        return function (i) {\n          if (r) throw new TypeError(\"Generator is already executing.\");\n\n          for (; a;) {\n            try {\n              if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o;\n\n              switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n                case 0:\n                case 1:\n                  o = i;\n                  break;\n\n                case 4:\n                  return a.label++, {\n                    value: i[1],\n                    done: !1\n                  };\n\n                case 5:\n                  a.label++, n = i[1], i = [0];\n                  continue;\n\n                case 7:\n                  i = a.ops.pop(), a.trys.pop();\n                  continue;\n\n                default:\n                  if (!(o = a.trys, (o = o.length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                    a = 0;\n                    continue;\n                  }\n\n                  if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                    a.label = i[1];\n                    break;\n                  }\n\n                  if (6 === i[0] && a.label < o[1]) {\n                    a.label = o[1], o = i;\n                    break;\n                  }\n\n                  if (o && a.label < o[2]) {\n                    a.label = o[2], a.ops.push(i);\n                    break;\n                  }\n\n                  o[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n\n              i = e.call(t, a);\n            } catch (t) {\n              i = [6, t], n = 0;\n            } finally {\n              r = o = 0;\n            }\n          }\n\n          if (5 & i[0]) throw i[1];\n          return {\n            value: i[0] ? i[1] : void 0,\n            done: !0\n          };\n        }([i, s]);\n      };\n    }\n  }\n\n  var o = \"__BEACON_\",\n      i = \"__BEACON_deviceId\",\n      a = \"last_report_time\",\n      s = \"sending_event_ids\",\n      c = \"beacon_config\",\n      u = \"beacon_config_request_time\",\n      l = function () {\n    function t() {\n      var t = this;\n      this.emit = function (e, r) {\n        if (t) {\n          var n,\n              o = t.__EventsList[e];\n\n          if (null == o ? void 0 : o.length) {\n            o = o.slice();\n\n            for (var i = 0; i < o.length; i++) {\n              n = o[i];\n\n              try {\n                var a = n.callback.apply(t, [r]);\n                if (1 === n.type && t.remove(e, n.callback), !1 === a) break;\n              } catch (t) {\n                throw t;\n              }\n            }\n          }\n\n          return t;\n        }\n      }, this.__EventsList = {};\n    }\n\n    return t.prototype.indexOf = function (t, e) {\n      for (var r = 0; r < t.length; r++) {\n        if (t[r].callback === e) return r;\n      }\n\n      return -1;\n    }, t.prototype.on = function (t, e, r) {\n      if (void 0 === r && (r = 0), this) {\n        var n = this.__EventsList[t];\n\n        if (n || (n = this.__EventsList[t] = []), -1 === this.indexOf(n, e)) {\n          var o = {\n            name: t,\n            type: r || 0,\n            callback: e\n          };\n          return n.push(o), this;\n        }\n\n        return this;\n      }\n    }, t.prototype.one = function (t, e) {\n      this.on(t, e, 1);\n    }, t.prototype.remove = function (t, e) {\n      if (this) {\n        var r = this.__EventsList[t];\n        if (!r) return null;\n\n        if (!e) {\n          try {\n            delete this.__EventsList[t];\n          } catch (t) {}\n\n          return null;\n        }\n\n        if (r.length) {\n          var n = this.indexOf(r, e);\n          r.splice(n, 1);\n        }\n\n        return this;\n      }\n    }, t;\n  }();\n\n  function h(t, e) {\n    for (var r = {}, n = 0, o = Object.keys(t); n < o.length; n++) {\n      var i = o[n],\n          a = t[i];\n      if (\"string\" == typeof a) r[f(i)] = f(a);else {\n        if (e) throw new Error(\"value mast be string  !!!!\");\n        r[f(String(i))] = f(String(a));\n      }\n    }\n\n    return r;\n  }\n\n  function f(t) {\n    if (\"string\" != typeof t) return t;\n\n    try {\n      return t.replace(new RegExp(\"\\\\|\", \"g\"), \"%7C\").replace(new RegExp(\"\\\\&\", \"g\"), \"%26\").replace(new RegExp(\"\\\\=\", \"g\"), \"%3D\").replace(new RegExp(\"\\\\+\", \"g\"), \"%2B\");\n    } catch (t) {\n      return \"\";\n    }\n  }\n\n  function p(t) {\n    return String(t.A99) + String(t.A100);\n  }\n\n  var d = function d() {};\n\n  var v = function () {\n    function t(t) {\n      var r = this;\n      this.lifeCycle = new l(), this.uploadJobQueue = [], this.additionalParams = {}, this.delayTime = 0, this._normalLogPipeline = function (t) {\n        if (!t || !t.reduce || !t.length) throw new TypeError(\"createPipeline 方法需要传入至少有一个 pipe 的数组\");\n        return 1 === t.length ? function (e, r) {\n          t[0](e, r || d);\n        } : t.reduce(function (t, e) {\n          return function (r, n) {\n            return void 0 === n && (n = d), t(r, function (t) {\n              return null == e ? void 0 : e(t, n);\n            });\n          };\n        });\n      }([function (t) {\n        r.send({\n          url: r.strategy.getUploadUrl(),\n          data: t,\n          method: \"post\",\n          contentType: \"application/json;charset=UTF-8\"\n        }, function () {\n          var e = r.config.onReportSuccess;\n          \"function\" == typeof e && e(JSON.stringify(t.events));\n        }, function () {\n          var e = r.config.onReportFail;\n          \"function\" == typeof e && e(JSON.stringify(t.events));\n        });\n      }]), function (t, e) {\n        if (!t) throw e instanceof Error ? e : new Error(e);\n      }(Boolean(t.appkey), \"appkey must be initial\"), this.config = _e({}, t);\n    }\n\n    return t.prototype.onUserAction = function (t, e) {\n      this.preReport(t, e, !1);\n    }, t.prototype.onDirectUserAction = function (t, e) {\n      this.preReport(t, e, !0);\n    }, t.prototype.preReport = function (t, e, r) {\n      t ? this.strategy.isEventUpOnOff() && (this.strategy.isBlackEvent(t) || this.strategy.isSampleEvent(t) || this.onReport(t, e, r)) : this.errorReport.reportError(\"602\", \" no eventCode\");\n    }, t.prototype.addAdditionalParams = function (t) {\n      for (var e = 0, r = Object.keys(t); e < r.length; e++) {\n        var n = r[e];\n        this.additionalParams[n] = t[n];\n      }\n    }, t.prototype.setChannelId = function (t) {\n      this.commonInfo.channelID = String(t);\n    }, t.prototype.setOpenId = function (t) {\n      this.commonInfo.openid = String(t);\n    }, t.prototype.setUnionid = function (t) {\n      this.commonInfo.unid = String(t);\n    }, t.prototype.getDeviceId = function () {\n      return this.commonInfo.deviceId;\n    }, t.prototype.getCommonInfo = function () {\n      return this.commonInfo;\n    }, t.prototype.removeSendingId = function (t) {\n      try {\n        var e = JSON.parse(this.storage.getItem(s)),\n            r = e.indexOf(t);\n        -1 != r && (e.splice(r, 1), this.storage.setItem(s, JSON.stringify(e)));\n      } catch (t) {}\n    }, t;\n  }(),\n      y = function () {\n    function t(t, e, r, n) {\n      this.requestParams = {}, this.network = n, this.requestParams.attaid = \"00400014144\", this.requestParams.token = \"6478159937\", this.requestParams.product_id = t.appkey, this.requestParams.platform = r, this.requestParams.uin = e.deviceId, this.requestParams.model = \"\", this.requestParams.os = r, this.requestParams.app_version = t.appVersion, this.requestParams.sdk_version = e.sdkVersion, this.requestParams.error_stack = \"\", this.uploadUrl = t.isOversea ? \"https://htrace.wetvinfo.com/kv\" : \"https://h.trace.qq.com/kv\";\n    }\n\n    return t.prototype.reportError = function (t, e) {\n      this.requestParams._dc = Math.random(), this.requestParams.error_msg = e, this.requestParams.error_code = t, this.network.get(this.uploadUrl, {\n        params: this.requestParams\n      }).catch(function (t) {});\n    }, t;\n  }(),\n      g = function () {\n    function t(t, e, r, n) {\n      this.strategy = {\n        isEventUpOnOff: !0,\n        httpsUploadUrl: \"https://otheve.beacon.qq.com/analytics/v2_upload\",\n        requestInterval: 30,\n        blacklist: [],\n        samplelist: []\n      }, this.realSample = {}, this.appkey = \"\", this.appkey = t.appkey, this.storage = r;\n\n      try {\n        var o = JSON.parse(this.storage.getItem(c));\n        o && this.processData(o);\n      } catch (t) {}\n\n      t.isOversea && (this.strategy.httpsUploadUrl = \"https://svibeacon.onezapp.com/analytics/v2_upload\"), !t.isOversea && this.needRequestConfig() && this.requestConfig(t.appVersion, e, n);\n    }\n\n    return t.prototype.requestConfig = function (t, e, r) {\n      var n = this;\n      this.storage.setItem(u, Date.now().toString()), r.post(\"https://oth.str.beacon.qq.com/trpc.beacon.configserver.BeaconConfigService/QueryConfig\", {\n        platformId: \"undefined\" == typeof wx ? \"3\" : \"4\",\n        mainAppKey: this.appkey,\n        appVersion: t,\n        sdkVersion: e.sdkVersion,\n        osVersion: e.userAgent,\n        model: \"\",\n        packageName: \"\",\n        params: {\n          A3: e.deviceId\n        }\n      }).then(function (t) {\n        if (0 == t.data.ret) try {\n          var e = JSON.parse(t.data.beaconConfig);\n          e && (n.processData(e), n.storage.setItem(c, t.data.beaconConfig));\n        } catch (t) {} else n.processData(null), n.storage.setItem(c, \"\");\n      }).catch(function (t) {});\n    }, t.prototype.processData = function (t) {\n      var e, r, n, o, i;\n      this.strategy.isEventUpOnOff = null !== (e = null == t ? void 0 : t.isEventUpOnOff) && void 0 !== e ? e : this.strategy.isEventUpOnOff, this.strategy.httpsUploadUrl = null !== (r = null == t ? void 0 : t.httpsUploadUrl) && void 0 !== r ? r : this.strategy.httpsUploadUrl, this.strategy.requestInterval = null !== (n = null == t ? void 0 : t.requestInterval) && void 0 !== n ? n : this.strategy.requestInterval, this.strategy.blacklist = null !== (o = null == t ? void 0 : t.blacklist) && void 0 !== o ? o : this.strategy.blacklist, this.strategy.samplelist = null !== (i = null == t ? void 0 : t.samplelist) && void 0 !== i ? i : this.strategy.samplelist;\n\n      for (var a = 0, s = this.strategy.samplelist; a < s.length; a++) {\n        var c = s[a].split(\",\");\n        2 == c.length && (this.realSample[c[0]] = c[1]);\n      }\n    }, t.prototype.needRequestConfig = function () {\n      var t = Number(this.storage.getItem(u));\n      return Date.now() - t > 60 * this.strategy.requestInterval * 1e3;\n    }, t.prototype.getUploadUrl = function () {\n      return this.strategy.httpsUploadUrl + \"?appkey=\" + this.appkey;\n    }, t.prototype.isBlackEvent = function (t) {\n      return -1 != this.strategy.blacklist.indexOf(t);\n    }, t.prototype.isEventUpOnOff = function () {\n      return this.strategy.isEventUpOnOff;\n    }, t.prototype.isSampleEvent = function (t) {\n      return !!Object.prototype.hasOwnProperty.call(this.realSample, t) && this.realSample[t] < Math.floor(Math.random() * Math.floor(1e4));\n    }, t;\n  }(),\n      m = \"session_storage_key\",\n      w = function () {\n    function t(t, e, r) {\n      this.beacon = r, this.storage = t, this.duration = e, this.appkey = r.config.appkey;\n    }\n\n    return t.prototype.getSession = function () {\n      var t = this.storage.getItem(m);\n      if (!t) return this.createSession();\n      var e = \"\",\n          r = 0;\n\n      try {\n        var n = JSON.parse(t) || {\n          sessionId: void 0,\n          sessionStart: void 0\n        };\n        if (!n.sessionId || !n.sessionStart) return this.createSession();\n        var o = Number(this.storage.getItem(a));\n        if (Date.now() - o > this.duration) return this.createSession();\n        e = n.sessionId, r = n.sessionStart;\n      } catch (t) {}\n\n      return {\n        sessionId: e,\n        sessionStart: r\n      };\n    }, t.prototype.createSession = function () {\n      var t = Date.now(),\n          e = {\n        sessionId: this.appkey + \"_\" + t.toString(),\n        sessionStart: t\n      };\n      this.storage.setItem(m, JSON.stringify(e)), this.storage.setItem(a, t.toString());\n      var r = \"is_new_user\",\n          n = this.storage.getItem(r);\n      return this.beacon.onDirectUserAction(\"rqd_applaunched\", {\n        A21: n ? \"N\" : \"Y\"\n      }), this.storage.setItem(r, JSON.stringify(!1)), e;\n    }, t;\n  }();\n\n  function b() {\n    var t = navigator.userAgent,\n        e = t.indexOf(\"compatible\") > -1 && t.indexOf(\"MSIE\") > -1,\n        r = t.indexOf(\"Edge\") > -1 && !e,\n        n = t.indexOf(\"Trident\") > -1 && t.indexOf(\"rv:11.0\") > -1;\n\n    if (e) {\n      new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\").test(t);\n      var o = parseFloat(RegExp.$1);\n      return 7 == o ? 7 : 8 == o ? 8 : 9 == o ? 9 : 10 == o ? 10 : 6;\n    }\n\n    return r ? -2 : n ? 11 : -1;\n  }\n\n  var _S = function S() {\n    return (_S = Object.assign || function (t) {\n      for (var e, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in e = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n        }\n      }\n\n      return t;\n    }).apply(this, arguments);\n  };\n\n  var E,\n      I = function () {\n    function t(t, e) {\n      void 0 === e && (e = {}), this.reportOptions = {}, this.config = t, this.reportOptions = e;\n    }\n\n    return t.canUseDB = function () {\n      return !!(null === window || void 0 === window ? void 0 : window.indexedDB);\n    }, t.prototype.openDB = function () {\n      var e = this;\n      return new Promise(function (r, n) {\n        if (!t.canUseDB()) return n({\n          message: \"当前不支持 indexeddb\"\n        });\n        var o = e.config,\n            i = o.name,\n            a = o.version,\n            s = o.stores,\n            c = indexedDB.open(i, a);\n        c.onsuccess = function () {\n          e.db = c.result, r(), _S({\n            result: 1,\n            func: \"open\",\n            params: JSON.stringify(e.config)\n          }, e.reportOptions);\n        }, c.onerror = function (t) {\n          var r, o;\n          n(t), _S({\n            result: 0,\n            func: \"open\",\n            params: JSON.stringify(e.config),\n            error_msg: null === (o = null === (r = t.target) || void 0 === r ? void 0 : r.error) || void 0 === o ? void 0 : o.message\n          }, e.reportOptions);\n        }, c.onupgradeneeded = function () {\n          e.db = c.result;\n\n          try {\n            null == s || s.forEach(function (t) {\n              e.createStore(t);\n            });\n          } catch (t) {\n            _S({\n              result: 0,\n              func: \"open\",\n              params: JSON.stringify(e.config),\n              error_msg: t.message\n            }, e.reportOptions), n(t);\n          }\n        };\n      });\n    }, t.prototype.useStore = function (t) {\n      return this.storeName = t, this;\n    }, t.prototype.deleteDB = function () {\n      var t = this;\n      return this.closeDB(), new Promise(function (e, r) {\n        var n = indexedDB.deleteDatabase(t.config.name);\n        n.onsuccess = function () {\n          return e();\n        }, n.onerror = r;\n      });\n    }, t.prototype.closeDB = function () {\n      var t;\n      null === (t = this.db) || void 0 === t || t.close(), this.db = null;\n    }, t.prototype.getStoreCount = function () {\n      var t = this;\n      return new Promise(function (e, r) {\n        var n = t.getStore(\"readonly\").count();\n        n.onsuccess = function () {\n          return e(n.result);\n        }, n.onerror = r;\n      });\n    }, t.prototype.clearStore = function () {\n      var t = this;\n      return new Promise(function (e, r) {\n        var n = t.getStore(\"readwrite\").clear();\n        n.onsuccess = function () {\n          return e();\n        }, n.onerror = r;\n      });\n    }, t.prototype.add = function (t, e) {\n      var r = this;\n      return new Promise(function (n, o) {\n        var i = r.getStore(\"readwrite\").add(t, e);\n        i.onsuccess = function () {\n          n(i.result);\n        }, i.onerror = o;\n      });\n    }, t.prototype.put = function (t, e) {\n      var r = this;\n      return new Promise(function (n, o) {\n        var i = r.getStore(\"readwrite\").put(t, e);\n        i.onsuccess = function () {\n          n(i.result);\n        }, i.onerror = o;\n      });\n    }, t.prototype.getStoreAllData = function () {\n      var t = this;\n      return new Promise(function (e, r) {\n        var n = t.getStore(\"readonly\").openCursor(),\n            o = [];\n        n.onsuccess = function () {\n          var t;\n\n          if (null === (t = n.result) || void 0 === t ? void 0 : t.value) {\n            var r = n.result.value;\n            o.push(r), n.result.continue();\n          } else e(o);\n        }, n.onerror = r;\n      });\n    }, t.prototype.getDataRangeByIndex = function (t, e, r, n, o) {\n      var i = this;\n      return new Promise(function (a, s) {\n        var c = i.getStore().index(t),\n            u = IDBKeyRange.bound(e, r, n, o),\n            l = [],\n            h = c.openCursor(u);\n        h.onsuccess = function () {\n          var t;\n          (null === (t = null == h ? void 0 : h.result) || void 0 === t ? void 0 : t.value) ? (l.push(null == h ? void 0 : h.result.value), null == h || h.result.continue()) : a(l);\n        }, h.onerror = s;\n      });\n    }, t.prototype.removeDataByIndex = function (t, e, r, n, o) {\n      var i = this;\n      return new Promise(function (a, s) {\n        var c = i.getStore(\"readwrite\").index(t),\n            u = IDBKeyRange.bound(e, r, n, o),\n            l = c.openCursor(u),\n            h = 0;\n        l.onsuccess = function (t) {\n          var e = t.target.result;\n          e ? (h += 1, e.delete(), e.continue()) : a(h);\n        }, l.onerror = s;\n      });\n    }, t.prototype.createStore = function (t) {\n      var e = t.name,\n          r = t.indexes,\n          n = void 0 === r ? [] : r,\n          o = t.options;\n\n      if (this.db) {\n        this.db.objectStoreNames.contains(e) && this.db.deleteObjectStore(e);\n        var i = this.db.createObjectStore(e, o);\n        n.forEach(function (t) {\n          i.createIndex(t.indexName, t.keyPath, t.options);\n        });\n      }\n    }, t.prototype.getStore = function (t) {\n      var e;\n      return void 0 === t && (t = \"readonly\"), null === (e = this.db) || void 0 === e ? void 0 : e.transaction(this.storeName, t).objectStore(this.storeName);\n    }, t;\n  }(),\n      O = \"event_table_v3\",\n      k = \"eventId\",\n      x = function () {\n    function t(t) {\n      this.isReady = !1, this.taskQueue = Promise.resolve(), this.db = new I({\n        name: \"Beacon_\" + t + \"_V3\",\n        version: 1,\n        stores: [{\n          name: O,\n          options: {\n            keyPath: k\n          },\n          indexes: [{\n            indexName: k,\n            keyPath: k,\n            options: {\n              unique: !0\n            }\n          }]\n        }]\n      }), this.open();\n    }\n\n    return t.prototype.getCount = function () {\n      var t = this;\n      return this.readyExec(function () {\n        return t.db.getStoreCount();\n      });\n    }, t.prototype.setItem = function (t, e) {\n      var r = this;\n      return this.readyExec(function () {\n        return r.db.add({\n          eventId: t,\n          value: e\n        });\n      });\n    }, t.prototype.getItem = function (t) {\n      return r(this, void 0, void 0, function () {\n        var e = this;\n        return n(this, function (r) {\n          return [2, this.readyExec(function () {\n            return e.db.getDataRangeByIndex(k, t, t);\n          })];\n        });\n      });\n    }, t.prototype.removeItem = function (t) {\n      var e = this;\n      return this.readyExec(function () {\n        return e.db.removeDataByIndex(k, t, t);\n      });\n    }, t.prototype.updateItem = function (t, e) {\n      var r = this;\n      return this.readyExec(function () {\n        return r.db.put({\n          eventId: t,\n          value: e\n        });\n      });\n    }, t.prototype.iterate = function (t) {\n      var e = this;\n      return this.readyExec(function () {\n        return e.db.getStoreAllData().then(function (e) {\n          e.forEach(function (e) {\n            t(e.value);\n          });\n        });\n      });\n    }, t.prototype.open = function () {\n      return r(this, void 0, void 0, function () {\n        var t = this;\n        return n(this, function (e) {\n          switch (e.label) {\n            case 0:\n              return this.taskQueue = this.taskQueue.then(function () {\n                return t.db.openDB();\n              }), [4, this.taskQueue];\n\n            case 1:\n              return e.sent(), this.isReady = !0, this.db.useStore(O), [2];\n          }\n        });\n      });\n    }, t.prototype.readyExec = function (t) {\n      return this.isReady ? t() : (this.taskQueue = this.taskQueue.then(function () {\n        return t();\n      }), this.taskQueue);\n    }, t;\n  }(),\n      C = function () {\n    function t(t) {\n      this.keyObject = {}, this.storage = t;\n    }\n\n    return t.prototype.getCount = function () {\n      return this.storage.getStoreCount();\n    }, t.prototype.removeItem = function (t) {\n      this.storage.removeItem(t), delete this.keyObject[t];\n    }, t.prototype.setItem = function (t, e) {\n      var r = JSON.stringify(e);\n      this.storage.setItem(t, r), this.keyObject[t] = e;\n    }, t.prototype.iterate = function (t) {\n      for (var e = Object.keys(this.keyObject), r = 0; r < e.length; r++) {\n        var n = this.storage.getItem(e[r]);\n        t(JSON.parse(n));\n      }\n    }, t;\n  }(),\n      _ = function () {\n    function t(t, e) {\n      var r = this;\n      this.dbEventCount = 0, b() > 0 || !window.indexedDB || /X5Lite/.test(navigator.userAgent) ? (this.store = new C(e), this.dbEventCount = this.store.getCount()) : (this.store = new x(t), this.getCount().then(function (t) {\n        r.dbEventCount = t;\n      }));\n    }\n\n    return t.prototype.getCount = function () {\n      return r(this, void 0, void 0, function () {\n        return n(this, function (t) {\n          switch (t.label) {\n            case 0:\n              return t.trys.push([0, 2,, 3]), [4, this.store.getCount()];\n\n            case 1:\n              return [2, t.sent()];\n\n            case 2:\n              return t.sent(), [2, Promise.reject()];\n\n            case 3:\n              return [2];\n          }\n        });\n      });\n    }, t.prototype.insertEvent = function (t, e) {\n      return r(this, void 0, void 0, function () {\n        var r, o;\n        return n(this, function (n) {\n          switch (n.label) {\n            case 0:\n              if (this.dbEventCount >= 1e4) return [2, Promise.reject()];\n              r = p(t.mapValue), n.label = 1;\n\n            case 1:\n              return n.trys.push([1, 3,, 4]), this.dbEventCount++, [4, this.store.setItem(r, t)];\n\n            case 2:\n              return [2, n.sent()];\n\n            case 3:\n              return o = n.sent(), e && e(o, t), this.dbEventCount--, [2, Promise.reject()];\n\n            case 4:\n              return [2];\n          }\n        });\n      });\n    }, t.prototype.getEvents = function () {\n      return r(this, void 0, void 0, function () {\n        var t;\n        return n(this, function (e) {\n          switch (e.label) {\n            case 0:\n              t = [], e.label = 1;\n\n            case 1:\n              return e.trys.push([1, 3,, 4]), [4, this.store.iterate(function (e) {\n                t.push(e);\n              })];\n\n            case 2:\n              return e.sent(), [2, Promise.all(t)];\n\n            case 3:\n              return e.sent(), [2, Promise.all(t)];\n\n            case 4:\n              return [2];\n          }\n        });\n      });\n    }, t.prototype.removeEvent = function (t) {\n      return r(this, void 0, void 0, function () {\n        var e;\n        return n(this, function (r) {\n          switch (r.label) {\n            case 0:\n              e = p(t.mapValue), r.label = 1;\n\n            case 1:\n              return r.trys.push([1, 3,, 4]), this.dbEventCount--, [4, this.store.removeItem(e)];\n\n            case 2:\n              return [2, r.sent()];\n\n            case 3:\n              return r.sent(), this.dbEventCount++, [2, Promise.reject()];\n\n            case 4:\n              return [2];\n          }\n        });\n      });\n    }, t;\n  }(),\n      _A = function A() {\n    return (_A = Object.assign || function (t) {\n      for (var e, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in e = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n        }\n      }\n\n      return t;\n    }).apply(this, arguments);\n  };\n\n  function P(t) {\n    try {\n      return decodeURIComponent(t.replace(/\\+/g, \" \"));\n    } catch (t) {\n      return null;\n    }\n  }\n\n  function j(t, e) {\n    var r = [null, void 0, \"\", NaN].includes(t);\n    if (e.isSkipEmpty && r) return null;\n    var n = !e.isSkipEmpty && r ? \"\" : t;\n\n    try {\n      return e.encode ? encodeURIComponent(n) : n;\n    } catch (t) {\n      return null;\n    }\n  }\n\n  function D(t) {\n    var e = t.split(\"#\"),\n        r = e[0],\n        n = e[1],\n        o = void 0 === n ? \"\" : n,\n        i = r.split(\"?\"),\n        a = i[0],\n        s = i[1],\n        c = void 0 === s ? \"\" : s,\n        u = P(o),\n        l = Object.create(null);\n    return c.split(\"&\").forEach(function (t) {\n      var e = t.split(\"=\"),\n          r = e[0],\n          n = e[1],\n          o = void 0 === n ? \"\" : n,\n          i = P(r),\n          a = P(o);\n      null === i || null === a || \"\" === i && \"\" === a || l[i] || (l[i] = a);\n    }), {\n      url: a,\n      query: l,\n      hash: u\n    };\n  }\n\n  function T(t, e) {\n    void 0 === e && (e = {\n      encode: !0,\n      isSkipEmpty: !1\n    });\n\n    var r = t.url,\n        n = t.query,\n        o = void 0 === n ? {} : n,\n        i = t.hash,\n        a = r.split(\"#\"),\n        s = a[0],\n        c = a[1],\n        u = void 0 === c ? \"\" : c,\n        l = s.split(\"?\")[0],\n        h = [],\n        f = j(i || u, e),\n        p = _A(_A({}, D(r).query), o);\n\n    return Object.keys(p).forEach(function (t) {\n      var r = j(t, e),\n          n = j(p[t], e);\n      null !== r && null !== n && h.push(r + \"=\" + n);\n    }), l + (h.length ? \"?\" + h.join(\"&\") : \"\") + (f ? \"#\" + f : \"\");\n  }\n\n  function N(t, e) {\n    return new Promise(function (r, n) {\n      if (e && document.querySelectorAll(\"script[data-tag=\" + e + \"]\").length) return r();\n\n      var o = document.createElement(\"script\"),\n          i = _A({\n        type: \"text/javascript\",\n        charset: \"utf-8\"\n      }, t);\n\n      Object.keys(i).forEach(function (t) {\n        return function (t, e, r) {\n          if (t) return void 0 === r ? t.getAttribute(e) : t.setAttribute(e, r);\n        }(o, t, i[t]);\n      }), e && (o.dataset.tag = e), o.onload = function () {\n        return r();\n      }, o.onreadystatechange = function () {\n        var t = o.readyState;\n        [\"complete\", \"loaded\"].includes(t) && (o.onreadystatechange = null, r());\n      }, o.onerror = n, document.body.appendChild(o);\n    });\n  }\n\n  !function (t) {\n    t[t.equal = 0] = \"equal\", t[t.low = -1] = \"low\", t[t.high = 1] = \"high\";\n  }(E || (E = {}));\n\n  var _U = function U() {\n    return (_U = Object.assign || function (t) {\n      for (var e, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in e = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n        }\n      }\n\n      return t;\n    }).apply(this, arguments);\n  };\n\n  function q(t, e, r, n) {\n    return new (r || (r = Promise))(function (o, i) {\n      function a(t) {\n        try {\n          c(n.next(t));\n        } catch (t) {\n          i(t);\n        }\n      }\n\n      function s(t) {\n        try {\n          c(n.throw(t));\n        } catch (t) {\n          i(t);\n        }\n      }\n\n      function c(t) {\n        var e;\n        t.done ? o(t.value) : (e = t.value, e instanceof r ? e : new r(function (t) {\n          t(e);\n        })).then(a, s);\n      }\n\n      c((n = n.apply(t, e || [])).next());\n    });\n  }\n\n  function R(t, e) {\n    var r,\n        n,\n        o,\n        i,\n        a = {\n      label: 0,\n      sent: function sent() {\n        if (1 & o[0]) throw o[1];\n        return o[1];\n      },\n      trys: [],\n      ops: []\n    };\n    return i = {\n      next: s(0),\n      throw: s(1),\n      return: s(2)\n    }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n      return this;\n    }), i;\n\n    function s(i) {\n      return function (s) {\n        return function (i) {\n          if (r) throw new TypeError(\"Generator is already executing.\");\n\n          for (; a;) {\n            try {\n              if (r = 1, n && (o = 2 & i[0] ? n.return : i[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, i[1])).done) return o;\n\n              switch (n = 0, o && (i = [2 & i[0], o.value]), i[0]) {\n                case 0:\n                case 1:\n                  o = i;\n                  break;\n\n                case 4:\n                  return a.label++, {\n                    value: i[1],\n                    done: !1\n                  };\n\n                case 5:\n                  a.label++, n = i[1], i = [0];\n                  continue;\n\n                case 7:\n                  i = a.ops.pop(), a.trys.pop();\n                  continue;\n\n                default:\n                  if (!((o = (o = a.trys).length > 0 && o[o.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                    a = 0;\n                    continue;\n                  }\n\n                  if (3 === i[0] && (!o || i[1] > o[0] && i[1] < o[3])) {\n                    a.label = i[1];\n                    break;\n                  }\n\n                  if (6 === i[0] && a.label < o[1]) {\n                    a.label = o[1], o = i;\n                    break;\n                  }\n\n                  if (o && a.label < o[2]) {\n                    a.label = o[2], a.ops.push(i);\n                    break;\n                  }\n\n                  o[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n\n              i = e.call(t, a);\n            } catch (t) {\n              i = [6, t], n = 0;\n            } finally {\n              r = o = 0;\n            }\n          }\n\n          if (5 & i[0]) throw i[1];\n          return {\n            value: i[0] ? i[1] : void 0,\n            done: !0\n          };\n        }([i, s]);\n      };\n    }\n  }\n\n  var L = function () {\n    function t() {\n      this.interceptors = [];\n    }\n\n    return t.prototype.use = function (t, e) {\n      return this.interceptors.push({\n        resolved: t,\n        rejected: e\n      }), this.interceptors.length - 1;\n    }, t.prototype.traverse = function (t, e) {\n      void 0 === e && (e = !1);\n      var r = Promise.resolve(t);\n      return (e ? Array.prototype.reduceRight : Array.prototype.reduce).call(this.interceptors, function (t, e) {\n        if (e) {\n          var n = e.resolved,\n              o = e.rejected;\n          r = r.then(n, o);\n        }\n\n        return t;\n      }, \"\"), r;\n    }, t.prototype.eject = function (t) {\n      this.interceptors[t] && (this.interceptors[t] = null);\n    }, t;\n  }(),\n      B = {\n    defaults: {\n      timeout: 0,\n      method: \"GET\",\n      mode: \"cors\",\n      redirect: \"follow\",\n      credentials: \"same-origin\"\n    },\n    headers: {\n      common: {\n        Accept: \"application/json, text/plain, */*\"\n      },\n      POST: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      PUT: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      PATCH: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    },\n    baseURL: \"\",\n    polyfillUrl: \"https://vm.gtimg.cn/comps/script/fetch.min.js\",\n    interceptors: {\n      request: new L(),\n      response: new L()\n    }\n  },\n      J = /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i,\n      M = Object.prototype.toString;\n\n  function V(t) {\n    return q(this, void 0, void 0, function () {\n      var e;\n      return R(this, function (r) {\n        switch (r.label) {\n          case 0:\n            if (window.fetch) return [2];\n            r.label = 1;\n\n          case 1:\n            return r.trys.push([1, 3,, 4]), [4, N({\n              src: t\n            })];\n\n          case 2:\n            return r.sent(), [3, 4];\n\n          case 3:\n            throw e = r.sent(), function (t) {\n              if (\"undefined\" != typeof Image) {\n                var e = new Image(1, 1),\n                    r = _U({\n                  attaid: \"0f400053130\",\n                  token: \"6552374442\",\n                  comps: \"@tencent/ovb-request\",\n                  version: \"1.1.18\",\n                  ua: navigator.userAgent,\n                  url: location.href,\n                  _dc: Math.random()\n                }, t),\n                    n = Object.keys(r).map(function (t) {\n                  return t + \"=\" + encodeURIComponent(r[t]);\n                }).join(\"&\");\n\n                e.src = \"https://h.trace.qq.com/kv?\" + n;\n              }\n            }({\n              func: \"loadPolyfill\",\n              result: 0,\n              params: t,\n              error_msg: e.message\n            }), new Error(\"加载 polyfill \" + t + \" 失败: \" + e.message);\n\n          case 4:\n            return [2];\n        }\n      });\n    });\n  }\n\n  function G(t) {\n    return [\"Accept\", \"Content-Type\"].forEach(function (e) {\n      return r = e, void ((n = t.headers) && Object.keys(n).forEach(function (t) {\n        t !== r && t.toUpperCase() === r.toUpperCase() && (n[r] = n[t], delete n[t]);\n      }));\n      var r, n;\n    }), function (t) {\n      if (\"[object Object]\" !== M.call(t)) return !1;\n      var e = Object.getPrototypeOf(t);\n      return null === e || e === Object.prototype;\n    }(t.body) && (t.body = JSON.stringify(t.body), t.headers && (t.headers[\"Content-Type\"] = \"application/json;charset=utf-8\")), t;\n  }\n\n  function F(t) {\n    return q(this, void 0, void 0, function () {\n      var e, r, n, o, i, a, s, c, u, l, h, f, p, d, v, y, g;\n      return R(this, function (m) {\n        switch (m.label) {\n          case 0:\n            return e = B.baseURL, r = B.defaults, n = B.interceptors, [4, V(B.polyfillUrl)];\n\n          case 1:\n            return m.sent(), (o = _U(_U({}, r), t)).headers || (o.headers = function (t) {\n              void 0 === t && (t = \"GET\");\n              var e = B.headers[t] || {};\n              return _U(_U({}, B.headers.common), e);\n            }(o.method)), G(o), [4, n.request.traverse(o, !0)];\n\n          case 2:\n            if ((i = m.sent()) instanceof Error) throw i;\n            return i.url = function (t, e) {\n              return !t || J.test(e) ? e : t.replace(/\\/+$/, \"\") + \"/\" + e.replace(/^\\/+/, \"\");\n            }(e, i.url), a = i.url, s = i.timeout, c = i.params, u = i.method, l = [\"GET\", \"DELETE\", \"OPTIONS\", \"HEAD\"].includes(void 0 === u ? \"GET\" : u) && !!c, h = l ? T({\n              url: a,\n              query: c\n            }) : a, f = [], s && !i.signal && (v = new Promise(function (t) {\n              p = setTimeout(function () {\n                t(new Error(\"timeout\"));\n              }, s);\n            }), f.push(v), d = new AbortController(), i.signal = d.signal), f.push(fetch(h, i).catch(function (t) {\n              return t;\n            })), [4, Promise.race(f)];\n\n          case 3:\n            return y = m.sent(), p && clearTimeout(p), [4, n.response.traverse(y)];\n\n          case 4:\n            if ((g = m.sent()) instanceof Error) throw null == d || d.abort(), g;\n            return [2, g];\n        }\n      });\n    });\n  }\n\n  var Q = function () {\n    function t(t) {\n      B.interceptors.request.use(function (r) {\n        var n = r.url,\n            o = r.method,\n            i = r.body,\n            a = i;\n\n        if (t.onReportBeforeSend) {\n          var s = t.onReportBeforeSend({\n            url: n,\n            method: o,\n            data: i ? JSON.parse(i) : null\n          });\n          a = (null == s ? void 0 : s.data) ? JSON.stringify(s.data) : null;\n        }\n\n        if (\"GET\" !== o && !a) throw new Error(\"No data for sdk, cancel.\");\n        return _e(_e({}, r), {\n          body: a\n        });\n      });\n    }\n\n    return t.prototype.get = function (t, o) {\n      return r(this, void 0, void 0, function () {\n        var r, i;\n        return n(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, F(_e({\n                url: t\n              }, o))];\n\n            case 1:\n              return [4, (r = n.sent()).json()];\n\n            case 2:\n              return i = n.sent(), [2, Promise.resolve({\n                data: i,\n                status: r.status,\n                statusText: r.statusText,\n                headers: r.headers\n              })];\n          }\n        });\n      });\n    }, t.prototype.post = function (t, o, i) {\n      return r(this, void 0, void 0, function () {\n        var r, a;\n        return n(this, function (n) {\n          switch (n.label) {\n            case 0:\n              return [4, F(_e({\n                url: t,\n                body: o,\n                method: \"POST\"\n              }, i))];\n\n            case 1:\n              return [4, (r = n.sent()).json()];\n\n            case 2:\n              return a = n.sent(), [2, Promise.resolve({\n                data: a,\n                status: r.status,\n                statusText: r.statusText,\n                headers: r.headers\n              })];\n          }\n        });\n      });\n    }, t;\n  }(),\n      K = function () {\n    function t(t) {\n      this.appkey = t;\n    }\n\n    return t.prototype.getItem = function (t) {\n      try {\n        return window.localStorage.getItem(this.getStoreKey(t));\n      } catch (t) {\n        return \"\";\n      }\n    }, t.prototype.removeItem = function (t) {\n      try {\n        window.localStorage.removeItem(this.getStoreKey(t));\n      } catch (t) {}\n    }, t.prototype.setItem = function (t, e) {\n      try {\n        window.localStorage.setItem(this.getStoreKey(t), e);\n      } catch (t) {}\n    }, t.prototype.setSessionItem = function (t, e) {\n      try {\n        window.sessionStorage.setItem(this.getStoreKey(t), e);\n      } catch (t) {}\n    }, t.prototype.getSessionItem = function (t) {\n      try {\n        return window.sessionStorage.getItem(this.getStoreKey(t));\n      } catch (t) {\n        return \"\";\n      }\n    }, t.prototype.getStoreKey = function (t) {\n      return o + this.appkey + \"_\" + t;\n    }, t.prototype.createDeviceId = function () {\n      try {\n        var t = window.localStorage.getItem(i);\n        return t || (t = function (t) {\n          for (var e = \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789\", r = \"\", n = 0; n < t; n++) {\n            r += e.charAt(Math.floor(Math.random() * e.length));\n          }\n\n          return r;\n        }(32), window.localStorage.setItem(i, t)), t;\n      } catch (t) {\n        return \"\";\n      }\n    }, t.prototype.clear = function () {\n      try {\n        for (var t = window.localStorage.length, e = 0; e < t; e++) {\n          var r = window.localStorage.key(e);\n          (null == r ? void 0 : r.substr(0, 9)) == o && window.localStorage.removeItem(r);\n        }\n      } catch (t) {}\n    }, t.prototype.getStoreCount = function () {\n      var t = 0;\n\n      try {\n        t = window.localStorage.length;\n      } catch (t) {}\n\n      return t;\n    }, t;\n  }();\n\n  \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self && self;\n\n  var W = function (t) {\n    var e = {\n      exports: {}\n    };\n    return t(e, e.exports), e.exports;\n  }(function (t, e) {\n    t.exports = function () {\n      function t(t, e, r, n, o, i, a) {\n        try {\n          var s = t[i](a),\n              c = s.value;\n        } catch (t) {\n          return void r(t);\n        }\n\n        s.done ? e(c) : Promise.resolve(c).then(n, o);\n      }\n\n      function e(t, e) {\n        for (var r = 0; r < e.length; r++) {\n          var n = e[r];\n          n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(t, n.key, n);\n        }\n      }\n\n      var r,\n          n = (function (t) {\n        t = function (t) {\n          var e,\n              r = Object.prototype,\n              n = r.hasOwnProperty,\n              o = \"function\" == typeof Symbol ? Symbol : {},\n              i = o.iterator || \"@@iterator\",\n              a = o.asyncIterator || \"@@asyncIterator\",\n              s = o.toStringTag || \"@@toStringTag\";\n\n          function c(t, e, r) {\n            return Object.defineProperty(t, e, {\n              value: r,\n              enumerable: !0,\n              configurable: !0,\n              writable: !0\n            }), t[e];\n          }\n\n          try {\n            c({}, \"\");\n          } catch (r) {\n            c = function c(t, e, r) {\n              return t[e] = r;\n            };\n          }\n\n          function u(t, r, n, o) {\n            var i, a, s, c;\n            return r = r && r.prototype instanceof y ? r : y, r = Object.create(r.prototype), o = new k(o || []), r._invoke = (i = t, a = n, s = o, c = h, function (t, r) {\n              if (c === p) throw new Error(\"Generator is already running\");\n\n              if (c === d) {\n                if (\"throw\" === t) throw r;\n                return C();\n              }\n\n              for (s.method = t, s.arg = r;;) {\n                var n = s.delegate;\n\n                if (n) {\n                  var o = function t(r, n) {\n                    var o;\n\n                    if ((o = r.iterator[n.method]) === e) {\n                      if (n.delegate = null, \"throw\" === n.method) {\n                        if (r.iterator.return && (n.method = \"return\", n.arg = e, t(r, n), \"throw\" === n.method)) return v;\n                        n.method = \"throw\", n.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n                      }\n\n                      return v;\n                    }\n\n                    return \"throw\" === (o = l(o, r.iterator, n.arg)).type ? (n.method = \"throw\", n.arg = o.arg, n.delegate = null, v) : (o = o.arg) ? o.done ? (n[r.resultName] = o.value, n.next = r.nextLoc, \"return\" !== n.method && (n.method = \"next\", n.arg = e), n.delegate = null, v) : o : (n.method = \"throw\", n.arg = new TypeError(\"iterator result is not an object\"), n.delegate = null, v);\n                  }(n, s);\n\n                  if (o) {\n                    if (o === v) continue;\n                    return o;\n                  }\n                }\n\n                if (\"next\" === s.method) s.sent = s._sent = s.arg;else if (\"throw\" === s.method) {\n                  if (c === h) throw c = d, s.arg;\n                  s.dispatchException(s.arg);\n                } else \"return\" === s.method && s.abrupt(\"return\", s.arg);\n\n                if (c = p, \"normal\" === (o = l(i, a, s)).type) {\n                  if (c = s.done ? d : f, o.arg !== v) return {\n                    value: o.arg,\n                    done: s.done\n                  };\n                } else \"throw\" === o.type && (c = d, s.method = \"throw\", s.arg = o.arg);\n              }\n            }), r;\n          }\n\n          function l(t, e, r) {\n            try {\n              return {\n                type: \"normal\",\n                arg: t.call(e, r)\n              };\n            } catch (t) {\n              return {\n                type: \"throw\",\n                arg: t\n              };\n            }\n          }\n\n          t.wrap = u;\n          var h = \"suspendedStart\",\n              f = \"suspendedYield\",\n              p = \"executing\",\n              d = \"completed\",\n              v = {};\n\n          function y() {}\n\n          function g() {}\n\n          function m() {}\n\n          var w = {};\n          w[i] = function () {\n            return this;\n          }, (o = (o = Object.getPrototypeOf) && o(o(x([])))) && o !== r && n.call(o, i) && (w = o);\n          var b = m.prototype = y.prototype = Object.create(w);\n\n          function S(t) {\n            [\"next\", \"throw\", \"return\"].forEach(function (e) {\n              c(t, e, function (t) {\n                return this._invoke(e, t);\n              });\n            });\n          }\n\n          function E(t, e) {\n            var r;\n\n            this._invoke = function (o, i) {\n              function a() {\n                return new e(function (r, a) {\n                  !function r(o, i, a, s) {\n                    if (\"throw\" !== (o = l(t[o], t, i)).type) {\n                      var c = o.arg;\n                      return (i = c.value) && \"object\" == _typeof(i) && n.call(i, \"__await\") ? e.resolve(i.__await).then(function (t) {\n                        r(\"next\", t, a, s);\n                      }, function (t) {\n                        r(\"throw\", t, a, s);\n                      }) : e.resolve(i).then(function (t) {\n                        c.value = t, a(c);\n                      }, function (t) {\n                        return r(\"throw\", t, a, s);\n                      });\n                    }\n\n                    s(o.arg);\n                  }(o, i, r, a);\n                });\n              }\n\n              return r = r ? r.then(a, a) : a();\n            };\n          }\n\n          function I(t) {\n            var e = {\n              tryLoc: t[0]\n            };\n            1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n          }\n\n          function O(t) {\n            var e = t.completion || {};\n            e.type = \"normal\", delete e.arg, t.completion = e;\n          }\n\n          function k(t) {\n            this.tryEntries = [{\n              tryLoc: \"root\"\n            }], t.forEach(I, this), this.reset(!0);\n          }\n\n          function x(t) {\n            if (t) {\n              if (r = t[i]) return r.call(t);\n              if (\"function\" == typeof t.next) return t;\n\n              if (!isNaN(t.length)) {\n                var r,\n                    o = -1;\n                return (r = function r() {\n                  for (; ++o < t.length;) {\n                    if (n.call(t, o)) return r.value = t[o], r.done = !1, r;\n                  }\n\n                  return r.value = e, r.done = !0, r;\n                }).next = r;\n              }\n            }\n\n            return {\n              next: C\n            };\n          }\n\n          function C() {\n            return {\n              value: e,\n              done: !0\n            };\n          }\n\n          return ((g.prototype = b.constructor = m).constructor = g).displayName = c(m, s, \"GeneratorFunction\"), t.isGeneratorFunction = function (t) {\n            return !!(t = \"function\" == typeof t && t.constructor) && (t === g || \"GeneratorFunction\" === (t.displayName || t.name));\n          }, t.mark = function (t) {\n            return Object.setPrototypeOf ? Object.setPrototypeOf(t, m) : (t.__proto__ = m, c(t, s, \"GeneratorFunction\")), t.prototype = Object.create(b), t;\n          }, t.awrap = function (t) {\n            return {\n              __await: t\n            };\n          }, S(E.prototype), E.prototype[a] = function () {\n            return this;\n          }, t.AsyncIterator = E, t.async = function (e, r, n, o, i) {\n            void 0 === i && (i = Promise);\n            var a = new E(u(e, r, n, o), i);\n            return t.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n              return t.done ? t.value : a.next();\n            });\n          }, S(b), c(b, s, \"Generator\"), b[i] = function () {\n            return this;\n          }, b.toString = function () {\n            return \"[object Generator]\";\n          }, t.keys = function (t) {\n            var e,\n                r = [];\n\n            for (e in t) {\n              r.push(e);\n            }\n\n            return r.reverse(), function e() {\n              for (; r.length;) {\n                var n = r.pop();\n                if (n in t) return e.value = n, e.done = !1, e;\n              }\n\n              return e.done = !0, e;\n            };\n          }, t.values = x, k.prototype = {\n            constructor: k,\n            reset: function reset(t) {\n              if (this.prev = 0, this.next = 0, this.sent = this._sent = e, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = e, this.tryEntries.forEach(O), !t) for (var r in this) {\n                \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = e);\n              }\n            },\n            stop: function stop() {\n              this.done = !0;\n              var t = this.tryEntries[0].completion;\n              if (\"throw\" === t.type) throw t.arg;\n              return this.rval;\n            },\n            dispatchException: function dispatchException(t) {\n              if (this.done) throw t;\n              var r = this;\n\n              function o(n, o) {\n                return s.type = \"throw\", s.arg = t, r.next = n, o && (r.method = \"next\", r.arg = e), !!o;\n              }\n\n              for (var i = this.tryEntries.length - 1; 0 <= i; --i) {\n                var a = this.tryEntries[i],\n                    s = a.completion;\n                if (\"root\" === a.tryLoc) return o(\"end\");\n\n                if (a.tryLoc <= this.prev) {\n                  var c = n.call(a, \"catchLoc\"),\n                      u = n.call(a, \"finallyLoc\");\n\n                  if (c && u) {\n                    if (this.prev < a.catchLoc) return o(a.catchLoc, !0);\n                    if (this.prev < a.finallyLoc) return o(a.finallyLoc);\n                  } else if (c) {\n                    if (this.prev < a.catchLoc) return o(a.catchLoc, !0);\n                  } else {\n                    if (!u) throw new Error(\"try statement without catch or finally\");\n                    if (this.prev < a.finallyLoc) return o(a.finallyLoc);\n                  }\n                }\n              }\n            },\n            abrupt: function abrupt(t, e) {\n              for (var r = this.tryEntries.length - 1; 0 <= r; --r) {\n                var o = this.tryEntries[r];\n\n                if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n                  var i = o;\n                  break;\n                }\n              }\n\n              var a = (i = i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc ? null : i) ? i.completion : {};\n              return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, v) : this.complete(a);\n            },\n            complete: function complete(t, e) {\n              if (\"throw\" === t.type) throw t.arg;\n              return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), v;\n            },\n            finish: function finish(t) {\n              for (var e = this.tryEntries.length - 1; 0 <= e; --e) {\n                var r = this.tryEntries[e];\n                if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), O(r), v;\n              }\n            },\n            catch: function _catch(t) {\n              for (var e = this.tryEntries.length - 1; 0 <= e; --e) {\n                var r = this.tryEntries[e];\n\n                if (r.tryLoc === t) {\n                  var n,\n                      o = r.completion;\n                  return \"throw\" === o.type && (n = o.arg, O(r)), n;\n                }\n              }\n\n              throw new Error(\"illegal catch attempt\");\n            },\n            delegateYield: function delegateYield(t, r, n) {\n              return this.delegate = {\n                iterator: x(t),\n                resultName: r,\n                nextLoc: n\n              }, \"next\" === this.method && (this.arg = e), v;\n            }\n          }, t;\n        }(t.exports);\n\n        try {\n          regeneratorRuntime = t;\n        } catch (e) {\n          Function(\"r\", \"regeneratorRuntime = r\")(t);\n        }\n      }(r = {\n        exports: {}\n      }), r.exports);\n      return function () {\n        function r(t) {\n          !function (t, e) {\n            if (!(t instanceof e)) throw new TypeError(\"Cannot call a class as a function\");\n          }(this, r), this.version = \"1.0.0\";\n          var e = Array.prototype.map,\n              n = Array.prototype.forEach;\n          t && (this.hasher = t), this.each = function (t, e, r) {\n            if (null != t) if (n && t.forEach === n) t.forEach(e, r);else if (t.length === +t.length) {\n              for (var o = 0, i = t.length; o < i; o++) {\n                if (e.call(r, t[o], o, t) === {}) return;\n              }\n            } else for (var a in t) {\n              if (t.hasOwnProperty(a) && e.call(r, t[a], a, t) === {}) return;\n            }\n          }, this.map = function (t, r, n) {\n            var o = [];\n            return null == t ? o : e && t.map === e ? t.map(r, n) : (this.each(t, function (t, e, i) {\n              o[o.length] = r.call(n, t, e, i);\n            }), o);\n          };\n        }\n\n        var o, i, a, s;\n        return o = r, (i = [{\n          key: \"getQimei36\",\n          value: function value(t, e) {\n            var r = this;\n            this.getHid().then(function (n) {\n              var o = \"3BJr\" + t.substring(0, 2) + (n && n.substring(3, 7)),\n                  i = new XMLHttpRequest();\n              i.open(\"POST\", \"https://snowflake.qq.com/ola/h5\", !0), i.setRequestHeader(\"Content-Type\", \"application/json\"), i.onreadystatechange = function () {\n                if (i.readyState == XMLHttpRequest.DONE && 200 == i.status) try {\n                  e && e(JSON.parse(i.responseText));\n                } catch (t) {\n                  e(null);\n                }\n              }, i.send(JSON.stringify({\n                appKey: t,\n                hid: n,\n                sign: o,\n                version: r.version\n              }));\n            });\n          }\n        }, {\n          key: \"getHid\",\n          value: (a = n.mark(function t() {\n            var e, r;\n            return n.wrap(function (t) {\n              for (;;) {\n                switch (t.prev = t.next) {\n                  case 0:\n                    return (e = []).push((n = void 0, (n = [Math.floor(window.screen.width * window.devicePixelRatio), Math.floor(window.screen.height * window.devicePixelRatio)]).sort().reverse(), n.join(\"x\"))), e.push((n = void 0, (n = [Math.floor(window.screen.availWidth * window.devicePixelRatio), Math.floor(window.screen.availHeight * window.devicePixelRatio)]).sort().reverse(), n.join(\"x\"))), e.push(navigator.deviceMemory), e.push(!!window.sessionStorage), e.push(!!window.indexedDB), e.push(navigator.productSub), e.push(navigator.hardwareConcurrency), e.push(this.getWebglVendorAndRenderer()), e.push(new Date().getTimezoneOffset()), t.next = 12, this.getFactor();\n\n                  case 12:\n                    if (r = t.sent, e.push(r), this.hasher) return t.abrupt(\"return\", this.hasher(e.join(\"###\"), 31));\n                    t.next = 18;\n                    break;\n\n                  case 18:\n                    return t.abrupt(\"return\", this.x64hash128(e.join(\"###\"), 31));\n\n                  case 19:\n                  case \"end\":\n                    return t.stop();\n                }\n              }\n\n              var n;\n            }, t, this);\n          }), s = function s() {\n            var e = this,\n                r = arguments;\n            return new Promise(function (n, o) {\n              var i = a.apply(e, r);\n\n              function s(e) {\n                t(i, n, o, s, c, \"next\", e);\n              }\n\n              function c(e) {\n                t(i, n, o, s, c, \"throw\", e);\n              }\n\n              s(void 0);\n            });\n          }, function () {\n            return s.apply(this, arguments);\n          })\n        }, {\n          key: \"getUserAgent\",\n          value: function value() {\n            return navigator.userAgent;\n          }\n        }, {\n          key: \"getNative\",\n          value: function value() {\n            var t = this;\n            this.getHid().then(function (e) {\n              JSInterface.callback(t.version, e, t.getUserAgent());\n            });\n          }\n        }, {\n          key: \"getWebglVendorAndRenderer\",\n          value: function value() {\n            try {\n              var t = function () {\n                var t = document.createElement(\"canvas\"),\n                    e = null;\n\n                try {\n                  e = t.getContext(\"webgl\") || t.getContext(\"experimental-webgl\");\n                } catch (t) {}\n\n                return e || null;\n              }(),\n                  e = t.getExtension(\"WEBGL_debug_renderer_info\"),\n                  r = [t.getParameter(e.UNMASKED_VENDOR_WEBGL), t.getParameter(e.UNMASKED_RENDERER_WEBGL)].join(\"~\"),\n                  n = t.getExtension(\"WEBGL_lose_context\");\n\n              return null != n && n.loseContext(), r;\n            } catch (t) {\n              return null;\n            }\n          }\n        }, {\n          key: \"getFactor\",\n          value: function value() {\n            return new Promise(function (t, e) {\n              var r = window.RTCPeerConnection || window.webkitRTCPeerConnection || window.mozRTCPeerConnection;\n              r ? function () {\n                var e = new r({\n                  iceServers: []\n                });\n                e.createDataChannel(\"\", {\n                  reliable: !1\n                }), e.onicecandidate = function (t) {\n                  t.candidate && i(\"a=\".concat(t.candidate.candidate));\n                }, e.createOffer(function (t) {\n                  i(t.sdp), e.setLocalDescription(t);\n                }, function (t) {});\n                var n = Object.create(null);\n\n                function o(e) {\n                  if (!(e in n)) {\n                    n[e] = !0;\n\n                    for (var r = Object.keys(n).filter(function (t) {\n                      return n[t];\n                    }), o = 0; o < r.length; o++) {\n                      16 < r[o].length && (r.splice(o, 1), o--);\n                    }\n\n                    t(r[0]);\n                  }\n                }\n\n                function i(t) {\n                  (0 < arguments.length && void 0 !== t ? t : \"\").split(\"\\r\\n\").forEach(function (t, e, r) {\n                    var n, i;\n                    ~t.indexOf(\"a=candidate\") ? (i = (n = t.split(\" \"))[4], \"host\" === n[7] && o(i)) : ~t.indexOf(\"c=\") && o(t.split(\" \")[2]);\n                  });\n                }\n\n                n[\"0.0.0.0\"] = !1;\n              }() : t(null);\n            });\n          }\n        }, {\n          key: \"x64hash128\",\n          value: function value(t, e) {\n            for (var r = function r(t, e) {\n              t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]], e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]];\n              var r = [0, 0, 0, 0];\n              return r[3] += t[3] + e[3], r[2] += r[3] >>> 16, r[3] &= 65535, r[2] += t[2] + e[2], r[1] += r[2] >>> 16, r[2] &= 65535, r[1] += t[1] + e[1], r[0] += r[1] >>> 16, r[1] &= 65535, r[0] += t[0] + e[0], r[0] &= 65535, [r[0] << 16 | r[1], r[2] << 16 | r[3]];\n            }, n = function n(t, e) {\n              t = [t[0] >>> 16, 65535 & t[0], t[1] >>> 16, 65535 & t[1]], e = [e[0] >>> 16, 65535 & e[0], e[1] >>> 16, 65535 & e[1]];\n              var r = [0, 0, 0, 0];\n              return r[3] += t[3] * e[3], r[2] += r[3] >>> 16, r[3] &= 65535, r[2] += t[2] * e[3], r[1] += r[2] >>> 16, r[2] &= 65535, r[2] += t[3] * e[2], r[1] += r[2] >>> 16, r[2] &= 65535, r[1] += t[1] * e[3], r[0] += r[1] >>> 16, r[1] &= 65535, r[1] += t[2] * e[2], r[0] += r[1] >>> 16, r[1] &= 65535, r[1] += t[3] * e[1], r[0] += r[1] >>> 16, r[1] &= 65535, r[0] += t[0] * e[3] + t[1] * e[2] + t[2] * e[1] + t[3] * e[0], r[0] &= 65535, [r[0] << 16 | r[1], r[2] << 16 | r[3]];\n            }, o = function o(t, e) {\n              return 32 == (e %= 64) ? [t[1], t[0]] : e < 32 ? [t[0] << e | t[1] >>> 32 - e, t[1] << e | t[0] >>> 32 - e] : [t[1] << (e -= 32) | t[0] >>> 32 - e, t[0] << e | t[1] >>> 32 - e];\n            }, i = function i(t, e) {\n              return 0 == (e %= 64) ? t : e < 32 ? [t[0] << e | t[1] >>> 32 - e, t[1] << e] : [t[1] << e - 32, 0];\n            }, a = function a(t, e) {\n              return [t[0] ^ e[0], t[1] ^ e[1]];\n            }, s = function s(t) {\n              return t = a(t, [0, t[0] >>> 1]), t = n(t, [4283543511, 3981806797]), t = a(t, [0, t[0] >>> 1]), t = n(t, [3301882366, 444984403]), a(t, [0, t[0] >>> 1]);\n            }, c = (t = t || \"\").length % 16, u = t.length - c, l = [0, e = e || 0], h = [0, e], f = [0, 0], p = [0, 0], d = [2277735313, 289559509], v = [1291169091, 658871167], y = 0; y < u; y += 16) {\n              f = [255 & t.charCodeAt(y + 4) | (255 & t.charCodeAt(y + 5)) << 8 | (255 & t.charCodeAt(y + 6)) << 16 | (255 & t.charCodeAt(y + 7)) << 24, 255 & t.charCodeAt(y) | (255 & t.charCodeAt(y + 1)) << 8 | (255 & t.charCodeAt(y + 2)) << 16 | (255 & t.charCodeAt(y + 3)) << 24], p = [255 & t.charCodeAt(y + 12) | (255 & t.charCodeAt(y + 13)) << 8 | (255 & t.charCodeAt(y + 14)) << 16 | (255 & t.charCodeAt(y + 15)) << 24, 255 & t.charCodeAt(y + 8) | (255 & t.charCodeAt(y + 9)) << 8 | (255 & t.charCodeAt(y + 10)) << 16 | (255 & t.charCodeAt(y + 11)) << 24], f = o(f = n(f, d), 31), f = n(f, v), l = r(l = o(l = a(l, f), 27), h), l = r(n(l, [0, 5]), [0, 1390208809]), p = o(p = n(p, v), 33), p = n(p, d), h = r(h = o(h = a(h, p), 31), l), h = r(n(h, [0, 5]), [0, 944331445]);\n            }\n\n            switch (f = [0, 0], p = [0, 0], c) {\n              case 15:\n                p = a(p, i([0, t.charCodeAt(y + 14)], 48));\n\n              case 14:\n                p = a(p, i([0, t.charCodeAt(y + 13)], 40));\n\n              case 13:\n                p = a(p, i([0, t.charCodeAt(y + 12)], 32));\n\n              case 12:\n                p = a(p, i([0, t.charCodeAt(y + 11)], 24));\n\n              case 11:\n                p = a(p, i([0, t.charCodeAt(y + 10)], 16));\n\n              case 10:\n                p = a(p, i([0, t.charCodeAt(y + 9)], 8));\n\n              case 9:\n                p = a(p, [0, t.charCodeAt(y + 8)]), p = o(p = n(p, v), 33), p = n(p, d), h = a(h, p);\n\n              case 8:\n                f = a(f, i([0, t.charCodeAt(y + 7)], 56));\n\n              case 7:\n                f = a(f, i([0, t.charCodeAt(y + 6)], 48));\n\n              case 6:\n                f = a(f, i([0, t.charCodeAt(y + 5)], 40));\n\n              case 5:\n                f = a(f, i([0, t.charCodeAt(y + 4)], 32));\n\n              case 4:\n                f = a(f, i([0, t.charCodeAt(y + 3)], 24));\n\n              case 3:\n                f = a(f, i([0, t.charCodeAt(y + 2)], 16));\n\n              case 2:\n                f = a(f, i([0, t.charCodeAt(y + 1)], 8));\n\n              case 1:\n                f = a(f, [t.charCodeAt(y)]), f = o(f = n(f, d), 31), f = n(f, v), l = a(l, f);\n            }\n\n            return l = a(l, [0, t.length]), h = r(h = a(h, [0, t.length]), l = r(l, h)), l = s(l), h = r(h = s(h), l = r(l, h)), (\"00000000\" + (l[0] >>> 0).toString(16)).slice(-8) + (\"00000000\" + (l[1] >>> 0).toString(16)).slice(-8) + (\"00000000\" + (h[0] >>> 0).toString(16)).slice(-8) + (\"00000000\" + (h[1] >>> 0).toString(16)).slice(-8);\n          }\n        }]) && e(o.prototype, i), r;\n      }();\n    }();\n  }),\n      H = \"logid_start\",\n      z = \"4.5.6-web\";\n\n  return function (r) {\n    function n(t) {\n      var e = r.call(this, t) || this;\n      e.qimei36 = \"\", e.uselessCycleTaskNum = 0, e.underWeakNet = !1, e.send = function (t, r, n) {\n        e.storage.setItem(a, Date.now().toString()), e.network.post(e.uploadUrl || e.strategy.getUploadUrl(), t.data).then(function (n) {\n          var o;\n          100 == (null === (o = null == n ? void 0 : n.data) || void 0 === o ? void 0 : o.result) ? e.delayTime = 1e3 * n.data.delayTime : e.delayTime = 0, r && r(t.data), t.data.events.forEach(function (t) {\n            e.store.removeEvent(t).then(function () {\n              e.removeSendingId(p(t.mapValue));\n            });\n          }), e.doCustomCycleTask();\n        }).catch(function (r) {\n          var o = t.data.events;\n          e.errorReport.reportError(r.code ? r.code.toString() : \"600\", r.message), n && n(t.data);\n          var i = JSON.parse(e.storage.getItem(s));\n          o.forEach(function (t) {\n            i && -1 != i.indexOf(p(t)) && e.store.insertEvent(t, function (t, r) {\n              t && e.errorReport.reportError(\"604\", \"insertEvent fail!\");\n            }), e.removeSendingId(p(t));\n          }), e.monitorUploadFailed();\n        });\n      };\n      var n,\n          o,\n          i = b();\n      return e.isUnderIE8 = i > 0 && i < 8, e.isUnderIE8 || (e.isUnderIE = i > 0, t.needInitQimei && e.initQimei(t.appkey), e.network = new Q(t), e.storage = new K(t.appkey), e.initCommonInfo(t), e.store = new _(t.appkey, e.storage), e.errorReport = new y(e.config, e.commonInfo, \"web\", e.network), e.strategy = new g(e.config, e.commonInfo, e.storage, e.network), e.logidStartTime = e.storage.getItem(H), e.logidStartTime || (e.logidStartTime = Date.now().toString(), e.storage.setItem(H, e.logidStartTime)), n = e.logidStartTime, o = Date.now() - Number.parseFloat(n), Math.floor(o / 864e5) >= 365 && e.storage.clear(), e.initSession(t), e.onDirectUserAction(\"rqd_js_init\", {}), setTimeout(function () {\n        return e.lifeCycle.emit(\"init\");\n      }, 0), e.initDelayTime = t.delay ? t.delay : 1e3, e.cycleTask(e.initDelayTime)), e;\n    }\n\n    return function (e, r) {\n      if (\"function\" != typeof r && null !== r) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\n\n      function n() {\n        this.constructor = e;\n      }\n\n      _t(e, r), e.prototype = null === r ? Object.create(r) : (n.prototype = r.prototype, new n());\n    }(n, r), n.prototype.initQimei = function (t) {\n      var e = this;\n      new W().getQimei36(t, function (t) {\n        e.qimei36 = t.q36;\n      });\n    }, n.prototype.initSession = function (t) {\n      var e = 18e5;\n      t.sessionDuration && t.sessionDuration > 3e4 && (e = t.sessionDuration), this.beaconSession = new w(this.storage, e, this);\n    }, n.prototype.initCommonInfo = function (t) {\n      var e = Number(this.storage.getItem(a));\n\n      try {\n        var r = JSON.parse(this.storage.getItem(s));\n        (Date.now() - e > 3e4 || !r) && this.storage.setItem(s, JSON.stringify([]));\n      } catch (t) {}\n\n      t.uploadUrl && (this.uploadUrl = t.uploadUrl + \"?appkey=\" + t.appkey);\n      var n = [window.screen.width, window.screen.height];\n      window.devicePixelRatio && n.push(window.devicePixelRatio), this.commonInfo = {\n        deviceId: this.storage.createDeviceId(),\n        language: navigator && navigator.language || \"zh_CN\",\n        query: window.location.search,\n        userAgent: navigator.userAgent,\n        pixel: n.join(\"*\"),\n        channelID: t.channelID ? String(t.channelID) : \"\",\n        openid: t.openid ? String(t.openid) : \"\",\n        unid: t.unionid ? String(t.unionid) : \"\",\n        sdkVersion: z\n      }, this.config.appVersion = t.versionCode ? String(t.versionCode) : \"\", this.config.strictMode = t.strictMode;\n    }, n.prototype.cycleTask = function (t) {\n      var e = this;\n      this.intervalID = window.setInterval(function () {\n        e.store.getEvents().then(function (t) {\n          var r = [],\n              n = JSON.parse(e.storage.getItem(s));\n          n || (n = []), t && t.forEach(function (t) {\n            var e = p(t.mapValue);\n            -1 == n.indexOf(e) && (r.push(t), n.push(e));\n          }), 0 != r.length && (e.storage.setItem(s, JSON.stringify(n)), e._normalLogPipeline(e.assembleData(r)));\n        }).catch(function (t) {});\n      }, t);\n    }, n.prototype.onReport = function (t, e, r) {\n      var n = this;\n      if (this.isUnderIE8) this.errorReport.reportError(\"601\", \"UnderIE8\");else {\n        var o = this.generateData(t, e, r);\n        if (r && 0 == this.delayTime && !this.underWeakNet) this._normalLogPipeline(this.assembleData(o));else {\n          var i = o.shift();\n          i && this.store.insertEvent(i, function (t) {\n            t && n.errorReport.reportError(\"604\", \"insertEvent fail!\");\n          }).catch(function (t) {\n            n._normalLogPipeline(n.assembleData(o));\n          });\n        }\n      }\n    }, n.prototype.onSendBeacon = function (t, e) {\n      if (this.isUnderIE) this.errorReport.reportError(\"605\", \"UnderIE\");else {\n        var r = this.assembleData(this.generateData(t, e, !0));\n        \"function\" == typeof navigator.sendBeacon && navigator.sendBeacon(this.uploadUrl || this.strategy.getUploadUrl(), JSON.stringify(r));\n      }\n    }, n.prototype.generateData = function (t, r, n) {\n      var o = [],\n          i = \"4.5.6-web_\" + (n ? \"direct_log_id\" : \"normal_log_id\"),\n          a = Number(this.storage.getItem(i));\n      return a = a || 1, r = _e(_e({}, r), {\n        A99: n ? \"Y\" : \"N\",\n        A100: a.toString(),\n        A72: z,\n        A88: this.logidStartTime\n      }), a++, this.storage.setItem(i, a.toString()), o.push({\n        eventCode: t,\n        eventTime: Date.now().toString(),\n        mapValue: h(r, this.config.strictMode)\n      }), o;\n    }, n.prototype.assembleData = function (t) {\n      var r = this.beaconSession.getSession();\n      return {\n        appVersion: this.config.appVersion ? f(this.config.appVersion) : \"\",\n        sdkId: \"js\",\n        sdkVersion: z,\n        mainAppKey: this.config.appkey,\n        platformId: 3,\n        common: h(_e(_e({}, this.additionalParams), {\n          A2: this.commonInfo.deviceId,\n          A8: this.commonInfo.openid,\n          A12: this.commonInfo.language,\n          A17: this.commonInfo.pixel,\n          A23: this.commonInfo.channelID,\n          A50: this.commonInfo.unid,\n          A76: r.sessionId,\n          A101: this.commonInfo.userAgent,\n          A102: window.location.href,\n          A104: document.referrer,\n          A119: this.commonInfo.query,\n          A153: this.qimei36\n        }), !1),\n        events: t\n      };\n    }, n.prototype.monitorUploadFailed = function () {\n      this.uselessCycleTaskNum++, this.uselessCycleTaskNum >= 5 && (window.clearInterval(this.intervalID), this.cycleTask(6e4), this.underWeakNet = !0);\n    }, n.prototype.doCustomCycleTask = function () {\n      this.uselessCycleTaskNum >= 5 && (window.clearInterval(this.intervalID), this.cycleTask(this.initDelayTime)), this.uselessCycleTaskNum = 0, this.underWeakNet = !1;\n    }, n;\n  }(v);\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./lib/crypto.js\":\n/*!***********************!*\\\n  !*** ./lib/crypto.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\n/*\n CryptoJS v3.1.2\n code.google.com/p/crypto-js\n (c) 2009-2013 by Jeff Mott. All rights reserved.\n code.google.com/p/crypto-js/wiki/License\n */\nvar CryptoJS = CryptoJS || function (g, l) {\n  var e = {},\n      d = e.lib = {},\n      m = function m() {},\n      k = d.Base = {\n    extend: function extend(a) {\n      m.prototype = this;\n      var c = new m();\n      a && c.mixIn(a);\n      c.hasOwnProperty(\"init\") || (c.init = function () {\n        c.$super.init.apply(this, arguments);\n      });\n      c.init.prototype = c;\n      c.$super = this;\n      return c;\n    },\n    create: function create() {\n      var a = this.extend();\n      a.init.apply(a, arguments);\n      return a;\n    },\n    init: function init() {},\n    mixIn: function mixIn(a) {\n      for (var c in a) {\n        a.hasOwnProperty(c) && (this[c] = a[c]);\n      }\n\n      a.hasOwnProperty(\"toString\") && (this.toString = a.toString);\n    },\n    clone: function clone() {\n      return this.init.prototype.extend(this);\n    }\n  },\n      p = d.WordArray = k.extend({\n    init: function init(a, c) {\n      a = this.words = a || [];\n      this.sigBytes = c != l ? c : 4 * a.length;\n    },\n    toString: function toString(a) {\n      return (a || n).stringify(this);\n    },\n    concat: function concat(a) {\n      var c = this.words,\n          q = a.words,\n          f = this.sigBytes;\n      a = a.sigBytes;\n      this.clamp();\n      if (f % 4) for (var b = 0; b < a; b++) {\n        c[f + b >>> 2] |= (q[b >>> 2] >>> 24 - 8 * (b % 4) & 255) << 24 - 8 * ((f + b) % 4);\n      } else if (65535 < q.length) for (b = 0; b < a; b += 4) {\n        c[f + b >>> 2] = q[b >>> 2];\n      } else c.push.apply(c, q);\n      this.sigBytes += a;\n      return this;\n    },\n    clamp: function clamp() {\n      var a = this.words,\n          c = this.sigBytes;\n      a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);\n      a.length = g.ceil(c / 4);\n    },\n    clone: function clone() {\n      var a = k.clone.call(this);\n      a.words = this.words.slice(0);\n      return a;\n    },\n    random: function random(a) {\n      for (var c = [], b = 0; b < a; b += 4) {\n        c.push(4294967296 * g.random() | 0);\n      }\n\n      return new p.init(c, a);\n    }\n  }),\n      b = e.enc = {},\n      n = b.Hex = {\n    stringify: function stringify(a) {\n      var c = a.words;\n      a = a.sigBytes;\n\n      for (var b = [], f = 0; f < a; f++) {\n        var d = c[f >>> 2] >>> 24 - 8 * (f % 4) & 255;\n        b.push((d >>> 4).toString(16));\n        b.push((d & 15).toString(16));\n      }\n\n      return b.join(\"\");\n    },\n    parse: function parse(a) {\n      for (var c = a.length, b = [], f = 0; f < c; f += 2) {\n        b[f >>> 3] |= parseInt(a.substr(f, 2), 16) << 24 - 4 * (f % 8);\n      }\n\n      return new p.init(b, c / 2);\n    }\n  },\n      j = b.Latin1 = {\n    stringify: function stringify(a) {\n      var c = a.words;\n      a = a.sigBytes;\n\n      for (var b = [], f = 0; f < a; f++) {\n        b.push(String.fromCharCode(c[f >>> 2] >>> 24 - 8 * (f % 4) & 255));\n      }\n\n      return b.join(\"\");\n    },\n    parse: function parse(a) {\n      for (var c = a.length, b = [], f = 0; f < c; f++) {\n        b[f >>> 2] |= (a.charCodeAt(f) & 255) << 24 - 8 * (f % 4);\n      }\n\n      return new p.init(b, c);\n    }\n  },\n      h = b.Utf8 = {\n    stringify: function stringify(a) {\n      try {\n        return decodeURIComponent(escape(j.stringify(a)));\n      } catch (c) {\n        throw Error(\"Malformed UTF-8 data\");\n      }\n    },\n    parse: function parse(a) {\n      return j.parse(unescape(encodeURIComponent(a)));\n    }\n  },\n      r = d.BufferedBlockAlgorithm = k.extend({\n    reset: function reset() {\n      this._data = new p.init();\n      this._nDataBytes = 0;\n    },\n    _append: function _append(a) {\n      \"string\" == typeof a && (a = h.parse(a));\n\n      this._data.concat(a);\n\n      this._nDataBytes += a.sigBytes;\n    },\n    _process: function _process(a) {\n      var c = this._data,\n          b = c.words,\n          f = c.sigBytes,\n          d = this.blockSize,\n          e = f / (4 * d),\n          e = a ? g.ceil(e) : g.max((e | 0) - this._minBufferSize, 0);\n      a = e * d;\n      f = g.min(4 * a, f);\n\n      if (a) {\n        for (var k = 0; k < a; k += d) {\n          this._doProcessBlock(b, k);\n        }\n\n        k = b.splice(0, a);\n        c.sigBytes -= f;\n      }\n\n      return new p.init(k, f);\n    },\n    clone: function clone() {\n      var a = k.clone.call(this);\n      a._data = this._data.clone();\n      return a;\n    },\n    _minBufferSize: 0\n  });\n\n  d.Hasher = r.extend({\n    cfg: k.extend(),\n    init: function init(a) {\n      this.cfg = this.cfg.extend(a);\n      this.reset();\n    },\n    reset: function reset() {\n      r.reset.call(this);\n\n      this._doReset();\n    },\n    update: function update(a) {\n      this._append(a);\n\n      this._process();\n\n      return this;\n    },\n    finalize: function finalize(a) {\n      a && this._append(a);\n      return this._doFinalize();\n    },\n    blockSize: 16,\n    _createHelper: function _createHelper(a) {\n      return function (b, d) {\n        return new a.init(d).finalize(b);\n      };\n    },\n    _createHmacHelper: function _createHmacHelper(a) {\n      return function (b, d) {\n        return new s.HMAC.init(a, d).finalize(b);\n      };\n    }\n  });\n  var s = e.algo = {};\n  return e;\n}(Math);\n\n(function () {\n  var g = CryptoJS,\n      l = g.lib,\n      e = l.WordArray,\n      d = l.Hasher,\n      m = [],\n      l = g.algo.SHA1 = d.extend({\n    _doReset: function _doReset() {\n      this._hash = new e.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n    },\n    _doProcessBlock: function _doProcessBlock(d, e) {\n      for (var b = this._hash.words, n = b[0], j = b[1], h = b[2], g = b[3], l = b[4], a = 0; 80 > a; a++) {\n        if (16 > a) m[a] = d[e + a] | 0;else {\n          var c = m[a - 3] ^ m[a - 8] ^ m[a - 14] ^ m[a - 16];\n          m[a] = c << 1 | c >>> 31;\n        }\n        c = (n << 5 | n >>> 27) + l + m[a];\n        c = 20 > a ? c + ((j & h | ~j & g) + 1518500249) : 40 > a ? c + ((j ^ h ^ g) + 1859775393) : 60 > a ? c + ((j & h | j & g | h & g) - 1894007588) : c + ((j ^ h ^ g) - 899497514);\n        l = g;\n        g = h;\n        h = j << 30 | j >>> 2;\n        j = n;\n        n = c;\n      }\n\n      b[0] = b[0] + n | 0;\n      b[1] = b[1] + j | 0;\n      b[2] = b[2] + h | 0;\n      b[3] = b[3] + g | 0;\n      b[4] = b[4] + l | 0;\n    },\n    _doFinalize: function _doFinalize() {\n      var d = this._data,\n          e = d.words,\n          b = 8 * this._nDataBytes,\n          g = 8 * d.sigBytes;\n      e[g >>> 5] |= 128 << 24 - g % 32;\n      e[(g + 64 >>> 9 << 4) + 14] = Math.floor(b / 4294967296);\n      e[(g + 64 >>> 9 << 4) + 15] = b;\n      d.sigBytes = 4 * e.length;\n\n      this._process();\n\n      return this._hash;\n    },\n    clone: function clone() {\n      var e = d.clone.call(this);\n      e._hash = this._hash.clone();\n      return e;\n    }\n  });\n  g.SHA1 = d._createHelper(l);\n  g.HmacSHA1 = d._createHmacHelper(l);\n})();\n\n(function () {\n  var g = CryptoJS,\n      l = g.enc.Utf8;\n  g.algo.HMAC = g.lib.Base.extend({\n    init: function init(e, d) {\n      e = this._hasher = new e.init();\n      \"string\" == typeof d && (d = l.parse(d));\n      var g = e.blockSize,\n          k = 4 * g;\n      d.sigBytes > k && (d = e.finalize(d));\n      d.clamp();\n\n      for (var p = this._oKey = d.clone(), b = this._iKey = d.clone(), n = p.words, j = b.words, h = 0; h < g; h++) {\n        n[h] ^= 1549556828, j[h] ^= 909522486;\n      }\n\n      p.sigBytes = b.sigBytes = k;\n      this.reset();\n    },\n    reset: function reset() {\n      var e = this._hasher;\n      e.reset();\n      e.update(this._iKey);\n    },\n    update: function update(e) {\n      this._hasher.update(e);\n\n      return this;\n    },\n    finalize: function finalize(e) {\n      var d = this._hasher;\n      e = d.finalize(e);\n      d.reset();\n      return d.finalize(this._oKey.clone().concat(e));\n    }\n  });\n})();\n\n(function () {\n  // Shortcuts\n  var C = CryptoJS;\n  var C_lib = C.lib;\n  var WordArray = C_lib.WordArray;\n  var C_enc = C.enc;\n  /**\n   * Base64 encoding strategy.\n   */\n\n  var Base64 = C_enc.Base64 = {\n    /**\n     * Converts a word array to a Base64 string.\n     *\n     * @param {WordArray} wordArray The word array.\n     *\n     * @return {string} The Base64 string.\n     *\n     * @static\n     *\n     * @example\n     *\n     *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n     */\n    stringify: function stringify(wordArray) {\n      // Shortcuts\n      var words = wordArray.words;\n      var sigBytes = wordArray.sigBytes;\n      var map = this._map; // Clamp excess bits\n\n      wordArray.clamp(); // Convert\n\n      var base64Chars = [];\n\n      for (var i = 0; i < sigBytes; i += 3) {\n        var byte1 = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n        var byte2 = words[i + 1 >>> 2] >>> 24 - (i + 1) % 4 * 8 & 0xff;\n        var byte3 = words[i + 2 >>> 2] >>> 24 - (i + 2) % 4 * 8 & 0xff;\n        var triplet = byte1 << 16 | byte2 << 8 | byte3;\n\n        for (var j = 0; j < 4 && i + j * 0.75 < sigBytes; j++) {\n          base64Chars.push(map.charAt(triplet >>> 6 * (3 - j) & 0x3f));\n        }\n      } // Add padding\n\n\n      var paddingChar = map.charAt(64);\n\n      if (paddingChar) {\n        while (base64Chars.length % 4) {\n          base64Chars.push(paddingChar);\n        }\n      }\n\n      return base64Chars.join('');\n    },\n\n    /**\n     * Converts a Base64 string to a word array.\n     *\n     * @param {string} base64Str The Base64 string.\n     *\n     * @return {WordArray} The word array.\n     *\n     * @static\n     *\n     * @example\n     *\n     *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n     */\n    parse: function parse(base64Str) {\n      // Shortcuts\n      var base64StrLength = base64Str.length;\n      var map = this._map; // Ignore padding\n\n      var paddingChar = map.charAt(64);\n\n      if (paddingChar) {\n        var paddingIndex = base64Str.indexOf(paddingChar);\n\n        if (paddingIndex != -1) {\n          base64StrLength = paddingIndex;\n        }\n      } // Convert\n\n\n      var words = [];\n      var nBytes = 0;\n\n      for (var i = 0; i < base64StrLength; i++) {\n        if (i % 4) {\n          var bits1 = map.indexOf(base64Str.charAt(i - 1)) << i % 4 * 2;\n          var bits2 = map.indexOf(base64Str.charAt(i)) >>> 6 - i % 4 * 2;\n          words[nBytes >>> 2] |= (bits1 | bits2) << 24 - nBytes % 4 * 8;\n          nBytes++;\n        }\n      }\n\n      return WordArray.create(words, nBytes);\n    },\n    _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n  };\n})();\n\nif (( false ? undefined : _typeof(module)) === 'object') {\n  module.exports = CryptoJS;\n} else {\n  window.CryptoJS = CryptoJS;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))\n\n/***/ }),\n\n/***/ \"./lib/json2xml.js\":\n/*!*************************!*\\\n  !*** ./lib/json2xml.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\n//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\nvar element_start_char = \"a-zA-Z_\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"-.0-9\\xB7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function objKeys(obj) {\n  var l = [];\n\n  if (obj instanceof Object) {\n    for (var k in obj) {\n      if (obj.hasOwnProperty(k)) {\n        l.push(k);\n      }\n    }\n  }\n\n  return l;\n};\n\nvar process_to_xml = function process_to_xml(node_data, options) {\n  var makeNode = function makeNode(name, content, attributes, level, hasSubNodes) {\n    var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n    var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n\n    if (options.removeIllegalNameCharacters) {\n      name = name.replace(element_replace, '_');\n    }\n\n    var node = [indent, '<', name, attributes || ''];\n\n    if (content && content.length > 0) {\n      node.push('>');\n      node.push(content);\n      hasSubNodes && node.push(indent);\n      node.push('</');\n      node.push(name);\n      node.push('>');\n    } else {\n      node.push('/>');\n    }\n\n    return node.join('');\n  };\n\n  return function fn(node_data, node_descriptor, level) {\n    var type = _typeof(node_data);\n\n    if (Array.isArray ? Array.isArray(node_data) : node_data instanceof Array) {\n      type = 'array';\n    } else if (node_data instanceof Date) {\n      type = 'date';\n    }\n\n    switch (type) {\n      //if value is an array create child nodes from values\n      case 'array':\n        var ret = [];\n        node_data.map(function (v) {\n          ret.push(fn(v, 1, level + 1)); //entries that are values of an array are the only ones that can be special node descriptors\n        });\n        options.prettyPrint && ret.push('\\n');\n        return ret.join('');\n        break;\n\n      case 'date':\n        // cast dates to ISO 8601 date (soap likes it)\n        return node_data.toJSON ? node_data.toJSON() : node_data + '';\n        break;\n\n      case 'object':\n        var nodes = [];\n\n        for (var name in node_data) {\n          if (node_data.hasOwnProperty(name)) {\n            if (node_data[name] instanceof Array) {\n              for (var j = 0; j < node_data[name].length; j++) {\n                if (node_data[name].hasOwnProperty(j)) {\n                  nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                }\n              }\n            } else {\n              nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n            }\n          }\n        }\n\n        options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n        return nodes.join('');\n        break;\n\n      case 'function':\n        return node_data();\n        break;\n\n      default:\n        return options.escape ? esc(node_data) : '' + node_data;\n    }\n  }(node_data, 0, 0);\n};\n\nvar xml_header = function xml_header(standalone) {\n  var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n  if (standalone) {\n    ret.push(' standalone=\"yes\"');\n  }\n\n  ret.push('?>');\n  return ret.join('');\n};\n\nfunction esc(str) {\n  return ('' + str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/'/g, '&apos;').replace(/\"/g, '&quot;').replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n  if (!options) {\n    options = {\n      xmlHeader: {\n        standalone: true\n      },\n      prettyPrint: true,\n      indent: \"  \",\n      escape: true\n    };\n  }\n\n  if (typeof obj == 'string') {\n    try {\n      obj = JSON.parse(obj.toString());\n    } catch (e) {\n      return false;\n    }\n  }\n\n  var xmlheader = '';\n  var docType = '';\n\n  if (options) {\n    if (_typeof(options) == 'object') {\n      // our config is an object\n      if (options.xmlHeader) {\n        // the user wants an xml header\n        xmlheader = xml_header(!!options.xmlHeader.standalone);\n      }\n\n      if (typeof options.docType != 'undefined') {\n        docType = '<!DOCTYPE ' + options.docType + '>';\n      }\n    } else {\n      // our config is a boolean value, so just add xml header\n      xmlheader = xml_header();\n    }\n  }\n\n  options = options || {};\n  var ret = [xmlheader, options.prettyPrint && docType ? '\\n' : '', docType, process_to_xml(obj, options)];\n  return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};\n\n/***/ }),\n\n/***/ \"./lib/md5.js\":\n/*!********************!*\\\n  !*** ./lib/md5.js ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process, global, module) {var __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\n/* https://github.com/emn178/js-md5 */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object';\n  var root = WINDOW ? window : {};\n\n  if (root.JS_MD5_NO_WINDOW) {\n    WINDOW = false;\n  }\n\n  var WEB_WORKER = !WINDOW && (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === 'object';\n  var NODE_JS = !root.JS_MD5_NO_NODE_JS && (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && process.versions && process.versions.node;\n\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n\n  var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && ( false ? undefined : _typeof(module)) === 'object' && module.exports;\n  var AMD =  true && __webpack_require__(/*! !webpack amd options */ \"./node_modules/webpack/buildin/amd-options.js\");\n  var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [128, 32768, 8388608, -2147483648];\n  var SHIFT = [0, 8, 16, 24];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\n  var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n  var blocks = [],\n      buffer8;\n\n  if (ARRAY_BUFFER) {\n    var buffer = new ArrayBuffer(68);\n    buffer8 = new Uint8Array(buffer);\n    blocks = new Uint32Array(buffer);\n  }\n\n  if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return _typeof(obj) === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n  /**\r\n   * @method hex\r\n   * @memberof md5\r\n   * @description Output hash as hex string\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {String} Hex string\r\n   * @example\r\n   * md5.hex('The quick brown fox jumps over the lazy dog');\r\n   * // equal to\r\n   * md5('The quick brown fox jumps over the lazy dog');\r\n   */\n\n  /**\r\n   * @method digest\r\n   * @memberof md5\r\n   * @description Output hash as bytes array\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {Array} Bytes array\r\n   * @example\r\n   * md5.digest('The quick brown fox jumps over the lazy dog');\r\n   */\n\n  /**\r\n   * @method array\r\n   * @memberof md5\r\n   * @description Output hash as bytes array\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {Array} Bytes array\r\n   * @example\r\n   * md5.array('The quick brown fox jumps over the lazy dog');\r\n   */\n\n  /**\r\n   * @method arrayBuffer\r\n   * @memberof md5\r\n   * @description Output hash as ArrayBuffer\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {ArrayBuffer} ArrayBuffer\r\n   * @example\r\n   * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\r\n   */\n\n  /**\r\n   * @method buffer\r\n   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\r\n   * @memberof md5\r\n   * @description Output hash as ArrayBuffer\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {ArrayBuffer} ArrayBuffer\r\n   * @example\r\n   * md5.buffer('The quick brown fox jumps over the lazy dog');\r\n   */\n\n  /**\r\n   * @method base64\r\n   * @memberof md5\r\n   * @description Output hash as base64 string\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {String} base64 string\r\n   * @example\r\n   * md5.base64('The quick brown fox jumps over the lazy dog');\r\n   */\n\n\n  var createOutputMethod = function createOutputMethod(outputType) {\n    return function (message, isBinStr) {\n      return new Md5(true).update(message, isBinStr)[outputType]();\n    };\n  };\n  /**\r\n   * @method create\r\n   * @memberof md5\r\n   * @description Create Md5 object\r\n   * @returns {Md5} Md5 object.\r\n   * @example\r\n   * var hash = md5.create();\r\n   */\n\n  /**\r\n   * @method update\r\n   * @memberof md5\r\n   * @description Create and update Md5 object\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {Md5} Md5 object.\r\n   * @example\r\n   * var hash = md5.update('The quick brown fox jumps over the lazy dog');\r\n   * // equal to\r\n   * var hash = md5.create();\r\n   * hash.update('The quick brown fox jumps over the lazy dog');\r\n   */\n\n\n  var createMethod = function createMethod() {\n    var method = createOutputMethod('hex');\n\n    if (NODE_JS) {\n      method = nodeWrap(method);\n    }\n\n    method.getCtx = method.create = function () {\n      return new Md5();\n    };\n\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type);\n    }\n\n    return method;\n  };\n\n  var nodeWrap = function nodeWrap(method) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n\n    var nodeMethod = function nodeMethod(message) {\n      if (typeof message === 'string') {\n        return crypto.createHash('md5').update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw ERROR;\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n\n      if (Array.isArray(message) || ArrayBuffer.isView(message) || message.constructor === Buffer) {\n        return crypto.createHash('md5').update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n\n    return nodeMethod;\n  };\n  /**\r\n   * Md5 class\r\n   * @class Md5\r\n   * @description This is internal class.\r\n   * @see {@link md5.create}\r\n   */\n\n\n  function Md5(sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n      this.buffer8 = buffer8;\n    } else {\n      if (ARRAY_BUFFER) {\n        var buffer = new ArrayBuffer(68);\n        this.buffer8 = new Uint8Array(buffer);\n        this.blocks = new Uint32Array(buffer);\n      } else {\n        this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      }\n    }\n\n    this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n  }\n  /**\r\n   * @method update\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Update hash\r\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n   * @returns {Md5} Md5 object.\r\n   * @see {@link md5.update}\r\n   */\n\n\n  Md5.prototype.update = function (message, isBinStr) {\n    if (this.finalized) {\n      return;\n    }\n\n    var code,\n        index = 0,\n        i,\n        length = message.length,\n        blocks = this.blocks;\n    var buffer8 = this.buffer8;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = blocks[16];\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (ARRAY_BUFFER) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n\n          if (isBinStr || code < 0x80) {\n            buffer8[i++] = code;\n          } else if (code < 0x800) {\n            buffer8[i++] = 0xc0 | code >> 6;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          } else if (code < 0xd800 || code >= 0xe000) {\n            buffer8[i++] = 0xe0 | code >> 12;\n            buffer8[i++] = 0x80 | code >> 6 & 0x3f;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          } else {\n            code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n            buffer8[i++] = 0xf0 | code >> 18;\n            buffer8[i++] = 0x80 | code >> 12 & 0x3f;\n            buffer8[i++] = 0x80 | code >> 6 & 0x3f;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          }\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n\n          if (isBinStr || code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | code >> 6) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | code >> 12) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n            blocks[i >> 2] |= (0xf0 | code >> 18) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 12 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n\n      if (i >= 64) {\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n\n    return this;\n  };\n\n  Md5.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n\n    this.finalized = true;\n    var blocks = this.blocks,\n        i = this.lastByteIndex;\n    blocks[i >> 2] |= EXTRA[i & 3];\n\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n\n      blocks[0] = blocks[16];\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n\n    blocks[14] = this.bytes << 3;\n    blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\n    this.hash();\n  };\n\n  Md5.prototype.hash = function () {\n    var a,\n        b,\n        c,\n        d,\n        bc,\n        da,\n        blocks = this.blocks;\n\n    if (this.first) {\n      a = blocks[0] - 680876937;\n      a = (a << 7 | a >>> 25) - 271733879 << 0;\n      d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\n      d = (d << 12 | d >>> 20) + a << 0;\n      c = (-271733879 ^ d & (a ^ -271733879)) + blocks[2] - 1126478375;\n      c = (c << 17 | c >>> 15) + d << 0;\n      b = (a ^ c & (d ^ a)) + blocks[3] - 1316259209;\n      b = (b << 22 | b >>> 10) + c << 0;\n    } else {\n      a = this.h0;\n      b = this.h1;\n      c = this.h2;\n      d = this.h3;\n      a += (d ^ b & (c ^ d)) + blocks[0] - 680876936;\n      a = (a << 7 | a >>> 25) + b << 0;\n      d += (c ^ a & (b ^ c)) + blocks[1] - 389564586;\n      d = (d << 12 | d >>> 20) + a << 0;\n      c += (b ^ d & (a ^ b)) + blocks[2] + 606105819;\n      c = (c << 17 | c >>> 15) + d << 0;\n      b += (a ^ c & (d ^ a)) + blocks[3] - 1044525330;\n      b = (b << 22 | b >>> 10) + c << 0;\n    }\n\n    a += (d ^ b & (c ^ d)) + blocks[4] - 176418897;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[5] + 1200080426;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[6] - 1473231341;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[7] - 45705983;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (d ^ b & (c ^ d)) + blocks[8] + 1770035416;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[9] - 1958414417;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[10] - 42063;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[11] - 1990404162;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (d ^ b & (c ^ d)) + blocks[12] + 1804603682;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[13] - 40341101;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[14] - 1502002290;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[15] + 1236535329;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[1] - 165796510;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[6] - 1069501632;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[11] + 643717713;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[0] - 373897302;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[5] - 701558691;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[10] + 38016083;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[15] - 660478335;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[4] - 405537848;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[9] + 568446438;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[14] - 1019803690;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[3] - 187363961;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[8] + 1163531501;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[13] - 1444681467;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[2] - 51403784;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[7] + 1735328473;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[12] - 1926607734;\n    b = (b << 20 | b >>> 12) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[5] - 378558;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[8] - 2022574463;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[11] + 1839030562;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[14] - 35309556;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[1] - 1530992060;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[4] + 1272893353;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[7] - 155497632;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[10] - 1094730640;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[13] + 681279174;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[0] - 358537222;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[3] - 722521979;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[6] + 76029189;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[9] - 640364487;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[12] - 421815835;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[15] + 530742520;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[2] - 995338651;\n    b = (b << 23 | b >>> 9) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[0] - 198630844;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[5] - 57434055;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[10] - 1051523;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[15] - 30611744;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[4] - 145523070;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[2] + 718787259;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[9] - 343485551;\n    b = (b << 21 | b >>> 11) + c << 0;\n\n    if (this.first) {\n      this.h0 = a + 1732584193 << 0;\n      this.h1 = b - 271733879 << 0;\n      this.h2 = c - 1732584194 << 0;\n      this.h3 = d + 271733878 << 0;\n      this.first = false;\n    } else {\n      this.h0 = this.h0 + a << 0;\n      this.h1 = this.h1 + b << 0;\n      this.h2 = this.h2 + c << 0;\n      this.h3 = this.h3 + d << 0;\n    }\n  };\n  /**\r\n   * @method hex\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as hex string\r\n   * @returns {String} Hex string\r\n   * @see {@link md5.hex}\r\n   * @example\r\n   * hash.hex();\r\n   */\n\n\n  Md5.prototype.hex = function () {\n    this.finalize();\n    var h0 = this.h0,\n        h1 = this.h1,\n        h2 = this.h2,\n        h3 = this.h3;\n    return HEX_CHARS[h0 >> 4 & 0x0F] + HEX_CHARS[h0 & 0x0F] + HEX_CHARS[h0 >> 12 & 0x0F] + HEX_CHARS[h0 >> 8 & 0x0F] + HEX_CHARS[h0 >> 20 & 0x0F] + HEX_CHARS[h0 >> 16 & 0x0F] + HEX_CHARS[h0 >> 28 & 0x0F] + HEX_CHARS[h0 >> 24 & 0x0F] + HEX_CHARS[h1 >> 4 & 0x0F] + HEX_CHARS[h1 & 0x0F] + HEX_CHARS[h1 >> 12 & 0x0F] + HEX_CHARS[h1 >> 8 & 0x0F] + HEX_CHARS[h1 >> 20 & 0x0F] + HEX_CHARS[h1 >> 16 & 0x0F] + HEX_CHARS[h1 >> 28 & 0x0F] + HEX_CHARS[h1 >> 24 & 0x0F] + HEX_CHARS[h2 >> 4 & 0x0F] + HEX_CHARS[h2 & 0x0F] + HEX_CHARS[h2 >> 12 & 0x0F] + HEX_CHARS[h2 >> 8 & 0x0F] + HEX_CHARS[h2 >> 20 & 0x0F] + HEX_CHARS[h2 >> 16 & 0x0F] + HEX_CHARS[h2 >> 28 & 0x0F] + HEX_CHARS[h2 >> 24 & 0x0F] + HEX_CHARS[h3 >> 4 & 0x0F] + HEX_CHARS[h3 & 0x0F] + HEX_CHARS[h3 >> 12 & 0x0F] + HEX_CHARS[h3 >> 8 & 0x0F] + HEX_CHARS[h3 >> 20 & 0x0F] + HEX_CHARS[h3 >> 16 & 0x0F] + HEX_CHARS[h3 >> 28 & 0x0F] + HEX_CHARS[h3 >> 24 & 0x0F];\n  };\n  /**\r\n   * @method toString\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as hex string\r\n   * @returns {String} Hex string\r\n   * @see {@link md5.hex}\r\n   * @example\r\n   * hash.toString();\r\n   */\n\n\n  Md5.prototype.toString = Md5.prototype.hex;\n  /**\r\n   * @method digest\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as bytes array\r\n   * @returns {Array} Bytes array\r\n   * @see {@link md5.digest}\r\n   * @example\r\n   * hash.digest();\r\n   */\n\n  Md5.prototype.digest = function (format) {\n    if (format === 'hex') return this.hex();\n    this.finalize();\n    var h0 = this.h0,\n        h1 = this.h1,\n        h2 = this.h2,\n        h3 = this.h3;\n    var res = [h0 & 0xFF, h0 >> 8 & 0xFF, h0 >> 16 & 0xFF, h0 >> 24 & 0xFF, h1 & 0xFF, h1 >> 8 & 0xFF, h1 >> 16 & 0xFF, h1 >> 24 & 0xFF, h2 & 0xFF, h2 >> 8 & 0xFF, h2 >> 16 & 0xFF, h2 >> 24 & 0xFF, h3 & 0xFF, h3 >> 8 & 0xFF, h3 >> 16 & 0xFF, h3 >> 24 & 0xFF];\n    return res;\n  };\n  /**\r\n   * @method array\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as bytes array\r\n   * @returns {Array} Bytes array\r\n   * @see {@link md5.array}\r\n   * @example\r\n   * hash.array();\r\n   */\n\n\n  Md5.prototype.array = Md5.prototype.digest;\n  /**\r\n   * @method arrayBuffer\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as ArrayBuffer\r\n   * @returns {ArrayBuffer} ArrayBuffer\r\n   * @see {@link md5.arrayBuffer}\r\n   * @example\r\n   * hash.arrayBuffer();\r\n   */\n\n  Md5.prototype.arrayBuffer = function () {\n    this.finalize();\n    var buffer = new ArrayBuffer(16);\n    var blocks = new Uint32Array(buffer);\n    blocks[0] = this.h0;\n    blocks[1] = this.h1;\n    blocks[2] = this.h2;\n    blocks[3] = this.h3;\n    return buffer;\n  };\n  /**\r\n   * @method buffer\r\n   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as ArrayBuffer\r\n   * @returns {ArrayBuffer} ArrayBuffer\r\n   * @see {@link md5.buffer}\r\n   * @example\r\n   * hash.buffer();\r\n   */\n\n\n  Md5.prototype.buffer = Md5.prototype.arrayBuffer;\n  /**\r\n   * @method base64\r\n   * @memberof Md5\r\n   * @instance\r\n   * @description Output hash as base64 string\r\n   * @returns {String} base64 string\r\n   * @see {@link md5.base64}\r\n   * @example\r\n   * hash.base64();\r\n   */\n\n  Md5.prototype.base64 = function () {\n    var v1,\n        v2,\n        v3,\n        base64Str = '',\n        bytes = this.array();\n\n    for (var i = 0; i < 15;) {\n      v1 = bytes[i++];\n      v2 = bytes[i++];\n      v3 = bytes[i++];\n      base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] + BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] + BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] + BASE64_ENCODE_CHAR[v3 & 63];\n    }\n\n    v1 = bytes[i];\n    base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] + BASE64_ENCODE_CHAR[v1 << 4 & 63] + '==';\n    return base64Str;\n  };\n\n  var exports = createMethod();\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    /**\r\n     * @method md5\b\r\n     * @description Md5 hash function, export to global in browsers.\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {String} md5 hashes\r\n     * @example\r\n     * md5(''); // d41d8cd98f00b204e9800998ecf8427e\r\n     * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\r\n     * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\r\n     *\r\n     * // It also supports UTF-8 encoding\r\n     * md5('中文'); // a7bac2239fcdcb3a067903d8077c4a07\r\n     *\r\n     * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\r\n     * md5([]); // d41d8cd98f00b204e9800998ecf8427e\r\n     * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\r\n     */\n    root.md5 = exports;\n\n    if (AMD) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n        return exports;\n      }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n  }\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../node_modules/webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))\n\n/***/ }),\n\n/***/ \"./lib/request.js\":\n/*!************************!*\\\n  !*** ./lib/request.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (_typeof(v)) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar queryStringify = function queryStringify(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (_typeof(obj) === 'object') {\n    return Object.keys(obj).map(function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).filter(Boolean).join(sep);\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar xhrRes = function xhrRes(err, xhr, body) {\n  var headers = {};\n  xhr.getAllResponseHeaders().trim().split('\\n').forEach(function (item) {\n    if (item) {\n      var index = item.indexOf(':');\n      var key = item.substr(0, index).trim().toLowerCase();\n      var val = item.substr(index + 1).trim();\n      headers[key] = val;\n    }\n  });\n  return {\n    error: err,\n    statusCode: xhr.status,\n    statusMessage: xhr.statusText,\n    headers: headers,\n    body: body\n  };\n};\n\nvar xhrBody = function xhrBody(xhr, dataType) {\n  return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\n};\n\nvar request = function request(opt, callback) {\n  // method\n  var method = (opt.method || 'GET').toUpperCase(); // url、qs\n\n  var url = opt.url;\n\n  if (opt.qs) {\n    var qsStr = queryStringify(opt.qs);\n\n    if (qsStr) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\n    }\n  } // 创建 ajax 实例\n\n\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n  xhr.responseType = opt.dataType || 'text'; // 处理 xhrFields 属性\n\n  if (opt.xhrFields) {\n    for (var xhrField in opt.xhrFields) {\n      xhr[xhrField] = opt.xhrFields[xhrField];\n    }\n  } // 处理 headers\n\n\n  var headers = opt.headers;\n\n  if (headers) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key) && key.toLowerCase() !== 'content-length' && key.toLowerCase() !== 'user-agent' && key.toLowerCase() !== 'origin' && key.toLowerCase() !== 'host') {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } // onprogress\n\n\n  if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\n  if (opt.onDownloadProgress) xhr.onprogress = opt.onDownloadProgress; // timeout\n\n  if (opt.timeout) xhr.timeout = opt.timeout;\n\n  xhr.ontimeout = function (event) {\n    var error = new Error('timeout');\n    callback(xhrRes(error, xhr));\n  }; // success 2xx/3xx/4xx\n\n\n  xhr.onload = function () {\n    callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\n  }; // error 5xx/0 (网络错误、跨域报错、Https connect-src 限制的报错时 statusCode 为 0)\n\n\n  xhr.onerror = function (err) {\n    var body = xhrBody(xhr, opt.dataType);\n\n    if (body) {\n      // 5xx\n      callback(xhrRes(null, xhr, body));\n    } else {\n      // 0\n      var error = xhr.statusText;\n      if (!error && xhr.status === 0) error = new Error('CORS blocked or network error');\n      callback(xhrRes(error, xhr, body));\n    }\n  }; // send\n\n\n  xhr.send(opt.body || ''); // 返回 ajax 实例，用于外部调用 xhr.abort\n\n  return xhr;\n};\n\nmodule.exports = request;\n\n/***/ }),\n\n/***/ \"./lib/xml2json.js\":\n/*!*************************!*\\\n  !*** ./lib/xml2json.js ***!\n  \\*************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* Copyright 2015 William Summers, MetaTribal LLC\r\n * adapted from https://developer.mozilla.org/en-US/docs/JXON\r\n *\r\n * Licensed under the MIT License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     https://opensource.org/licenses/MIT\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\n\n/**\r\n * @author William Summers\r\n * https://github.com/metatribal/xmlToJSON\r\n */\nvar DOMParser = __webpack_require__(/*! @xmldom/xmldom */ \"./node_modules/@xmldom/xmldom/lib/index.js\").DOMParser;\n\nvar xmlToJSON = function () {\n  this.version = \"1.3.5\";\n  var options = {\n    // set up the default options\n    mergeCDATA: true,\n    // extract cdata and merge with text\n    normalize: true,\n    // collapse multiple spaces to single space\n    stripElemPrefix: true // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\n\n  };\n  var prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n  var trimMatch = new RegExp(/^\\s+|\\s+$/g);\n\n  this.grokType = function (sValue) {\n    if (/^\\s*$/.test(sValue)) {\n      return null;\n    }\n\n    if (/^(?:true|false)$/i.test(sValue)) {\n      return sValue.toLowerCase() === \"true\";\n    }\n\n    if (isFinite(sValue)) {\n      return parseFloat(sValue);\n    }\n\n    return sValue;\n  };\n\n  this.parseString = function (xmlString, opt) {\n    if (xmlString) {\n      var xml = this.stringToXML(xmlString);\n\n      if (xml.getElementsByTagName('parsererror').length) {\n        return null;\n      } else {\n        return this.parseXML(xml, opt);\n      }\n    } else {\n      return null;\n    }\n  };\n\n  this.parseXML = function (oXMLParent, opt) {\n    // initialize options\n    for (var key in opt) {\n      options[key] = opt[key];\n    }\n\n    var vResult = {},\n        nLength = 0,\n        sCollectedTxt = \"\"; // iterate over the children\n\n    var childNum = oXMLParent.childNodes.length;\n\n    if (childNum) {\n      for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n        oNode = oXMLParent.childNodes.item(nItem);\n\n        if (oNode.nodeType === 4) {\n          if (options.mergeCDATA) {\n            sCollectedTxt += oNode.nodeValue;\n          }\n        }\n        /* nodeType is \"CDATASection\" (4) */\n        else if (oNode.nodeType === 3) {\n          sCollectedTxt += oNode.nodeValue;\n        }\n        /* nodeType is \"Text\" (3) */\n        else if (oNode.nodeType === 1) {\n          /* nodeType is \"Element\" (1) */\n          if (nLength === 0) {\n            vResult = {};\n          } // using nodeName to support browser (IE) implementation with no 'localName' property\n\n\n          if (options.stripElemPrefix) {\n            sProp = oNode.nodeName.replace(prefixMatch, '');\n          } else {\n            sProp = oNode.nodeName;\n          }\n\n          vContent = xmlToJSON.parseXML(oNode);\n\n          if (vResult.hasOwnProperty(sProp)) {\n            if (vResult[sProp].constructor !== Array) {\n              vResult[sProp] = [vResult[sProp]];\n            }\n\n            vResult[sProp].push(vContent);\n          } else {\n            vResult[sProp] = vContent;\n            nLength++;\n          }\n        }\n      }\n    }\n\n    if (!Object.keys(vResult).length) {\n      // vResult = sCollectedTxt.replace(trimMatch, '') || ''; // by carsonxu 修复 getBucket返回的 Key 是 \" /\" 这种场景\n      vResult = sCollectedTxt || '';\n    }\n\n    return vResult;\n  }; // Convert xmlDocument to a string\n  // Returns null on failure\n\n\n  this.xmlToString = function (xmlDoc) {\n    try {\n      var xmlString = xmlDoc.xml ? xmlDoc.xml : new XMLSerializer().serializeToString(xmlDoc);\n      return xmlString;\n    } catch (err) {\n      return null;\n    }\n  }; // Convert a string to XML Node Structure\n  // Returns null on failure\n\n\n  this.stringToXML = function (xmlString) {\n    try {\n      var xmlDoc = null;\n\n      if (window.DOMParser) {\n        var parser = new DOMParser();\n        xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n        return xmlDoc;\n      } else {\n        xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n        xmlDoc.async = false;\n        xmlDoc.loadXML(xmlString);\n        return xmlDoc;\n      }\n    } catch (e) {\n      return null;\n    }\n  };\n\n  return this;\n}.call({});\n\nvar xml2json = function xml2json(xmlString) {\n  return xmlToJSON.parseString(xmlString);\n};\n\nmodule.exports = xml2json;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/createClass.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/typeof.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@xmldom/xmldom/lib/conventions.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/@xmldom/xmldom/lib/conventions.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n\n\n/***/ }),\n\n/***/ \"./node_modules/@xmldom/xmldom/lib/dom-parser.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/@xmldom/xmldom/lib/dom-parser.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar conventions = __webpack_require__(/*! ./conventions */ \"./node_modules/@xmldom/xmldom/lib/conventions.js\");\nvar dom = __webpack_require__(/*! ./dom */ \"./node_modules/@xmldom/xmldom/lib/dom.js\")\nvar entities = __webpack_require__(/*! ./entities */ \"./node_modules/@xmldom/xmldom/lib/entities.js\");\nvar sax = __webpack_require__(/*! ./sax */ \"./node_modules/@xmldom/xmldom/lib/sax.js\");\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n\n\n/***/ }),\n\n/***/ \"./node_modules/@xmldom/xmldom/lib/dom.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/@xmldom/xmldom/lib/dom.js ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar conventions = __webpack_require__(/*! ./conventions */ \"./node_modules/@xmldom/xmldom/lib/conventions.js\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\t\t\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE：\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n\n\n/***/ }),\n\n/***/ \"./node_modules/@xmldom/xmldom/lib/entities.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/@xmldom/xmldom/lib/entities.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar freeze = __webpack_require__(/*! ./conventions */ \"./node_modules/@xmldom/xmldom/lib/conventions.js\").freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"À\",\n       Aacute: \"Á\",\n       Acirc: \"Â\",\n       Atilde: \"Ã\",\n       Auml: \"Ä\",\n       Aring: \"Å\",\n       AElig: \"Æ\",\n       Ccedil: \"Ç\",\n       Egrave: \"È\",\n       Eacute: \"É\",\n       Ecirc: \"Ê\",\n       Euml: \"Ë\",\n       Igrave: \"Ì\",\n       Iacute: \"Í\",\n       Icirc: \"Î\",\n       Iuml: \"Ï\",\n       ETH: \"Ð\",\n       Ntilde: \"Ñ\",\n       Ograve: \"Ò\",\n       Oacute: \"Ó\",\n       Ocirc: \"Ô\",\n       Otilde: \"Õ\",\n       Ouml: \"Ö\",\n       Oslash: \"Ø\",\n       Ugrave: \"Ù\",\n       Uacute: \"Ú\",\n       Ucirc: \"Û\",\n       Uuml: \"Ü\",\n       Yacute: \"Ý\",\n       THORN: \"Þ\",\n       szlig: \"ß\",\n       agrave: \"à\",\n       aacute: \"á\",\n       acirc: \"â\",\n       atilde: \"ã\",\n       auml: \"ä\",\n       aring: \"å\",\n       aelig: \"æ\",\n       ccedil: \"ç\",\n       egrave: \"è\",\n       eacute: \"é\",\n       ecirc: \"ê\",\n       euml: \"ë\",\n       igrave: \"ì\",\n       iacute: \"í\",\n       icirc: \"î\",\n       iuml: \"ï\",\n       eth: \"ð\",\n       ntilde: \"ñ\",\n       ograve: \"ò\",\n       oacute: \"ó\",\n       ocirc: \"ô\",\n       otilde: \"õ\",\n       ouml: \"ö\",\n       oslash: \"ø\",\n       ugrave: \"ù\",\n       uacute: \"ú\",\n       ucirc: \"û\",\n       uuml: \"ü\",\n       yacute: \"ý\",\n       thorn: \"þ\",\n       yuml: \"ÿ\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"¡\",\n       cent: \"¢\",\n       pound: \"£\",\n       curren: \"¤\",\n       yen: \"¥\",\n       brvbar: \"¦\",\n       sect: \"§\",\n       uml: \"¨\",\n       copy: \"©\",\n       ordf: \"ª\",\n       laquo: \"«\",\n       not: \"¬\",\n       shy: \"­­\",\n       reg: \"®\",\n       macr: \"¯\",\n       deg: \"°\",\n       plusmn: \"±\",\n       sup2: \"²\",\n       sup3: \"³\",\n       acute: \"´\",\n       micro: \"µ\",\n       para: \"¶\",\n       middot: \"·\",\n       cedil: \"¸\",\n       sup1: \"¹\",\n       ordm: \"º\",\n       raquo: \"»\",\n       frac14: \"¼\",\n       frac12: \"½\",\n       frac34: \"¾\",\n       iquest: \"¿\",\n       times: \"×\",\n       divide: \"÷\",\n       forall: \"∀\",\n       part: \"∂\",\n       exist: \"∃\",\n       empty: \"∅\",\n       nabla: \"∇\",\n       isin: \"∈\",\n       notin: \"∉\",\n       ni: \"∋\",\n       prod: \"∏\",\n       sum: \"∑\",\n       minus: \"−\",\n       lowast: \"∗\",\n       radic: \"√\",\n       prop: \"∝\",\n       infin: \"∞\",\n       ang: \"∠\",\n       and: \"∧\",\n       or: \"∨\",\n       cap: \"∩\",\n       cup: \"∪\",\n       'int': \"∫\",\n       there4: \"∴\",\n       sim: \"∼\",\n       cong: \"≅\",\n       asymp: \"≈\",\n       ne: \"≠\",\n       equiv: \"≡\",\n       le: \"≤\",\n       ge: \"≥\",\n       sub: \"⊂\",\n       sup: \"⊃\",\n       nsub: \"⊄\",\n       sube: \"⊆\",\n       supe: \"⊇\",\n       oplus: \"⊕\",\n       otimes: \"⊗\",\n       perp: \"⊥\",\n       sdot: \"⋅\",\n       Alpha: \"Α\",\n       Beta: \"Β\",\n       Gamma: \"Γ\",\n       Delta: \"Δ\",\n       Epsilon: \"Ε\",\n       Zeta: \"Ζ\",\n       Eta: \"Η\",\n       Theta: \"Θ\",\n       Iota: \"Ι\",\n       Kappa: \"Κ\",\n       Lambda: \"Λ\",\n       Mu: \"Μ\",\n       Nu: \"Ν\",\n       Xi: \"Ξ\",\n       Omicron: \"Ο\",\n       Pi: \"Π\",\n       Rho: \"Ρ\",\n       Sigma: \"Σ\",\n       Tau: \"Τ\",\n       Upsilon: \"Υ\",\n       Phi: \"Φ\",\n       Chi: \"Χ\",\n       Psi: \"Ψ\",\n       Omega: \"Ω\",\n       alpha: \"α\",\n       beta: \"β\",\n       gamma: \"γ\",\n       delta: \"δ\",\n       epsilon: \"ε\",\n       zeta: \"ζ\",\n       eta: \"η\",\n       theta: \"θ\",\n       iota: \"ι\",\n       kappa: \"κ\",\n       lambda: \"λ\",\n       mu: \"μ\",\n       nu: \"ν\",\n       xi: \"ξ\",\n       omicron: \"ο\",\n       pi: \"π\",\n       rho: \"ρ\",\n       sigmaf: \"ς\",\n       sigma: \"σ\",\n       tau: \"τ\",\n       upsilon: \"υ\",\n       phi: \"φ\",\n       chi: \"χ\",\n       psi: \"ψ\",\n       omega: \"ω\",\n       thetasym: \"ϑ\",\n       upsih: \"ϒ\",\n       piv: \"ϖ\",\n       OElig: \"Œ\",\n       oelig: \"œ\",\n       Scaron: \"Š\",\n       scaron: \"š\",\n       Yuml: \"Ÿ\",\n       fnof: \"ƒ\",\n       circ: \"ˆ\",\n       tilde: \"˜\",\n       ensp: \" \",\n       emsp: \" \",\n       thinsp: \" \",\n       zwnj: \"‌\",\n       zwj: \"‍\",\n       lrm: \"‎\",\n       rlm: \"‏\",\n       ndash: \"–\",\n       mdash: \"—\",\n       lsquo: \"‘\",\n       rsquo: \"’\",\n       sbquo: \"‚\",\n       ldquo: \"“\",\n       rdquo: \"”\",\n       bdquo: \"„\",\n       dagger: \"†\",\n       Dagger: \"‡\",\n       bull: \"•\",\n       hellip: \"…\",\n       permil: \"‰\",\n       prime: \"′\",\n       Prime: \"″\",\n       lsaquo: \"‹\",\n       rsaquo: \"›\",\n       oline: \"‾\",\n       euro: \"€\",\n       trade: \"™\",\n       larr: \"←\",\n       uarr: \"↑\",\n       rarr: \"→\",\n       darr: \"↓\",\n       harr: \"↔\",\n       crarr: \"↵\",\n       lceil: \"⌈\",\n       rceil: \"⌉\",\n       lfloor: \"⌊\",\n       rfloor: \"⌋\",\n       loz: \"◊\",\n       spades: \"♠\",\n       clubs: \"♣\",\n       hearts: \"♥\",\n       diams: \"♦\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n\n\n/***/ }),\n\n/***/ \"./node_modules/@xmldom/xmldom/lib/index.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/@xmldom/xmldom/lib/index.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar dom = __webpack_require__(/*! ./dom */ \"./node_modules/@xmldom/xmldom/lib/dom.js\")\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = __webpack_require__(/*! ./dom-parser */ \"./node_modules/@xmldom/xmldom/lib/dom-parser.js\").DOMParser\n\n\n/***/ }),\n\n/***/ \"./node_modules/@xmldom/xmldom/lib/sax.js\":\n/*!************************************************!*\\\n  !*** ./node_modules/@xmldom/xmldom/lib/sax.js ***!\n  \\************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar NAMESPACE = __webpack_require__(/*! ./conventions */ \"./node_modules/@xmldom/xmldom/lib/conventions.js\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: 这里有可能sax回退，有位置错误风险\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix)\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//忘记闭合\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n\n\n/***/ }),\n\n/***/ \"./node_modules/process/browser.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/amd-options.js\":\n/*!****************************************!*\\\n  !*** (webpack)/buildin/amd-options.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n\n/* WEBPACK VAR INJECTION */}.call(this, {}))\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/global.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/global.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/module.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/module.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, version, description, main, types, scripts, repository, keywords, author, license, bugs, homepage, dependencies, devDependencies, default */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"cos-js-sdk-v5\\\",\\\"version\\\":\\\"1.4.6\\\",\\\"description\\\":\\\"JavaScript SDK for [腾讯云对象存储](https://cloud.tencent.com/product/cos)\\\",\\\"main\\\":\\\"dist/cos-js-sdk-v5.js\\\",\\\"types\\\":\\\"index.d.ts\\\",\\\"scripts\\\":{\\\"server\\\":\\\"node server/sts.js\\\",\\\"dev\\\":\\\"cross-env NODE_ENV=development webpack -w --mode=development\\\",\\\"build\\\":\\\"cross-env NODE_ENV=production webpack --mode=production\\\",\\\"cos-auth.min.js\\\":\\\"uglifyjs ./demo/common/cos-auth.js -o ./demo/common/cos-auth.min.js -c -m\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/tencentyun/cos-js-sdk-v5.git\\\"},\\\"keywords\\\":[],\\\"author\\\":\\\"carsonxu\\\",\\\"license\\\":\\\"ISC\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/tencentyun/cos-js-sdk-v5/issues\\\"},\\\"homepage\\\":\\\"https://github.com/tencentyun/cos-js-sdk-v5#readme\\\",\\\"dependencies\\\":{\\\"@xmldom/xmldom\\\":\\\"^0.8.2\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"7.17.9\\\",\\\"@babel/plugin-transform-runtime\\\":\\\"7.18.10\\\",\\\"@babel/preset-env\\\":\\\"7.16.11\\\",\\\"babel-loader\\\":\\\"8.2.5\\\",\\\"body-parser\\\":\\\"^1.18.3\\\",\\\"cross-env\\\":\\\"^5.2.0\\\",\\\"express\\\":\\\"^4.16.4\\\",\\\"qcloud-cos-sts\\\":\\\"^3.0.2\\\",\\\"request\\\":\\\"^2.87.0\\\",\\\"terser-webpack-plugin\\\":\\\"4.2.3\\\",\\\"webpack\\\":\\\"4.46.0\\\",\\\"webpack-cli\\\":\\\"4.10.0\\\"}}\");\n\n/***/ }),\n\n/***/ \"./src/advance.js\":\n/*!************************!*\\\n  !*** ./src/advance.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar session = __webpack_require__(/*! ./session */ \"./src/session.js\");\n\nvar Async = __webpack_require__(/*! ./async */ \"./src/async.js\");\n\nvar EventProxy = __webpack_require__(/*! ./event */ \"./src/event.js\").EventProxy;\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\nvar Tracker = __webpack_require__(/*! ./tracker */ \"./src/tracker.js\"); // 文件分块上传全过程，暴露的分块上传接口\n\n\nfunction sliceUploadFile(params, callback) {\n  var self = this;\n  var ep = new EventProxy();\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var Body = params.Body;\n  var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\n  var AsyncLimit = params.AsyncLimit;\n  var StorageClass = params.StorageClass;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var FileSize;\n  var onProgress;\n  var onHashProgress = params.onHashProgress;\n  var tracker = params.tracker;\n  tracker && tracker.setParams({\n    chunkSize: ChunkSize\n  }); // 上传过程中出现错误，返回错误\n\n  ep.on('error', function (err) {\n    if (!self._isRunningTask(TaskId)) return;\n    err.UploadId = params.UploadData.UploadId || '';\n    return callback(err);\n  }); // 上传分块完成，开始 uploadSliceComplete 操作\n\n  ep.on('upload_complete', function (UploadCompleteData) {\n    var _UploadCompleteData = util.extend({\n      UploadId: params.UploadData.UploadId || ''\n    }, UploadCompleteData);\n\n    callback(null, _UploadCompleteData);\n  }); // 上传分块完成，开始 uploadSliceComplete 操作\n\n  ep.on('upload_slice_complete', function (UploadData) {\n    var metaHeaders = {};\n    util.each(params.Headers, function (val, k) {\n      var shortKey = k.toLowerCase();\n      if (shortKey.indexOf('x-cos-meta-') === 0 || shortKey === 'pic-operations') metaHeaders[k] = val;\n    });\n    uploadSliceComplete.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadData.UploadId,\n      SliceList: UploadData.SliceList,\n      Headers: metaHeaders,\n      tracker: tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      session.removeUsing(UploadData.UploadId);\n\n      if (err) {\n        onProgress(null, true);\n        return ep.emit('error', err);\n      }\n\n      session.removeUploadId.call(self, UploadData.UploadId);\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      ep.emit('upload_complete', data);\n    });\n  }); // 获取 UploadId 完成，开始上传每个分片\n\n  ep.on('get_upload_data_finish', function (UploadData) {\n    // 处理 UploadId 缓存\n    var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\n    uuid && session.saveUploadId.call(self, uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\n\n    session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\n    // 获取 UploadId\n\n    onProgress(null, true); // 任务状态开始 uploading\n\n    uploadSliceList.call(self, {\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Body: Body,\n      FileSize: FileSize,\n      SliceSize: ChunkSize,\n      AsyncLimit: AsyncLimit,\n      ServerSideEncryption: ServerSideEncryption,\n      UploadData: UploadData,\n      Headers: params.Headers,\n      onProgress: onProgress,\n      tracker: tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n\n      if (err) {\n        onProgress(null, true);\n        return ep.emit('error', err);\n      }\n\n      ep.emit('upload_slice_complete', data);\n    });\n  }); // 开始获取文件 UploadId，里面会视情况计算 ETag，并比对，保证文件一致性，也优化上传\n\n  ep.on('get_file_size_finish', function () {\n    onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n    if (params.UploadData.UploadId) {\n      ep.emit('get_upload_data_finish', params.UploadData);\n    } else {\n      var _params = util.extend({\n        TaskId: TaskId,\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        Headers: params.Headers,\n        StorageClass: StorageClass,\n        Body: Body,\n        FileSize: FileSize,\n        SliceSize: ChunkSize,\n        onHashProgress: onHashProgress,\n        tracker: tracker\n      }, params);\n\n      getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return ep.emit('error', err);\n        params.UploadData.UploadId = UploadData.UploadId;\n        params.UploadData.PartList = UploadData.PartList;\n        ep.emit('get_upload_data_finish', params.UploadData);\n      });\n    }\n  }); // 获取上传文件大小\n\n  FileSize = params.ContentLength;\n  delete params.ContentLength;\n  !params.Headers && (params.Headers = {});\n  util.each(params.Headers, function (item, key) {\n    if (key.toLowerCase() === 'content-length') {\n      delete params.Headers[key];\n    }\n  }); // 控制分片大小\n\n  (function () {\n    var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n    var AutoChunkSize = 1024 * 1024;\n\n    for (var i = 0; i < SIZE.length; i++) {\n      AutoChunkSize = SIZE[i] * 1024 * 1024;\n      if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n    }\n\n    params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n  })(); // 开始上传\n\n\n  if (FileSize === 0) {\n    params.Body = '';\n    params.ContentLength = 0;\n    params.SkipTask = true;\n    self.putObject(params, callback);\n  } else {\n    ep.emit('get_file_size_finish');\n  }\n} // 获取上传任务的 UploadId\n\n\nfunction getUploadIdAndPartList(params, callback) {\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var StorageClass = params.StorageClass;\n  var self = this; // 计算 ETag\n\n  var ETagMap = {};\n  var FileSize = params.FileSize;\n  var SliceSize = params.SliceSize;\n  var SliceCount = Math.ceil(FileSize / SliceSize);\n  var FinishSliceCount = 0;\n  var FinishSize = 0;\n  var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\n\n  var getChunkETag = function getChunkETag(PartNumber, callback) {\n    var start = SliceSize * (PartNumber - 1);\n    var end = Math.min(start + SliceSize, FileSize);\n    var ChunkSize = end - start;\n\n    if (ETagMap[PartNumber]) {\n      callback(null, {\n        PartNumber: PartNumber,\n        ETag: ETagMap[PartNumber],\n        Size: ChunkSize\n      });\n    } else {\n      util.fileSlice(params.Body, start, end, false, function (chunkItem) {\n        util.getFileMd5(chunkItem, function (err, md5) {\n          if (err) return callback(util.error(err));\n          var ETag = '\"' + md5 + '\"';\n          ETagMap[PartNumber] = ETag;\n          FinishSliceCount += 1;\n          FinishSize += ChunkSize;\n          onHashProgress({\n            loaded: FinishSize,\n            total: FileSize\n          });\n          callback(null, {\n            PartNumber: PartNumber,\n            ETag: ETag,\n            Size: ChunkSize\n          });\n        });\n      });\n    }\n  }; // 通过和文件的 md5 对比，判断 UploadId 是否可用\n\n\n  var isAvailableUploadList = function isAvailableUploadList(PartList, callback) {\n    var PartCount = PartList.length; // 如果没有分片，通过\n\n    if (PartCount === 0) {\n      return callback(null, true);\n    } // 检查分片数量\n\n\n    if (PartCount > SliceCount) {\n      return callback(null, false);\n    } // 检查分片大小\n\n\n    if (PartCount > 1) {\n      var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\n\n      if (PartSliceSize !== SliceSize) {\n        return callback(null, false);\n      }\n    } // 逐个分片计算并检查 ETag 是否一致\n\n\n    var next = function next(index) {\n      if (index < PartCount) {\n        var Part = PartList[index];\n        getChunkETag(Part.PartNumber, function (err, chunk) {\n          if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\n            next(index + 1);\n          } else {\n            callback(null, false);\n          }\n        });\n      } else {\n        callback(null, true);\n      }\n    };\n\n    next(0);\n  };\n\n  var ep = new EventProxy();\n  ep.on('error', function (errData) {\n    if (!self._isRunningTask(TaskId)) return;\n    return callback(errData);\n  }); // 存在 UploadId\n\n  ep.on('upload_id_available', function (UploadData) {\n    // 转换成 map\n    var map = {};\n    var list = [];\n    util.each(UploadData.PartList, function (item) {\n      map[item.PartNumber] = item;\n    });\n\n    for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\n      var item = map[PartNumber];\n\n      if (item) {\n        item.PartNumber = PartNumber;\n        item.Uploaded = true;\n      } else {\n        item = {\n          PartNumber: PartNumber,\n          ETag: null,\n          Uploaded: false\n        };\n      }\n\n      list.push(item);\n    }\n\n    UploadData.PartList = list;\n    callback(null, UploadData);\n  }); // 不存在 UploadId, 初始化生成 UploadId\n\n  ep.on('no_available_upload_id', function () {\n    if (!self._isRunningTask(TaskId)) return;\n\n    var _params = util.extend({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Query: util.clone(params.Query),\n      StorageClass: StorageClass,\n      Body: params.Body,\n      calledBySdk: 'sliceUploadFile',\n      tracker: params.tracker\n    }, params);\n\n    var headers = util.clone(params.Headers);\n    delete headers['x-cos-mime-limit'];\n    _params.Headers = headers;\n    self.multipartInit(_params, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) return ep.emit('error', err);\n      var UploadId = data.UploadId;\n\n      if (!UploadId) {\n        return callback(util.error(new Error('no such upload id')));\n      }\n\n      ep.emit('upload_id_available', {\n        UploadId: UploadId,\n        PartList: []\n      });\n    });\n  }); // 如果已存在 UploadId，找一个可以用的 UploadId\n\n  ep.on('has_and_check_upload_id', function (UploadIdList) {\n    // 串行地，找一个内容一致的 UploadId\n    UploadIdList = UploadIdList.reverse();\n    Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\n      if (!self._isRunningTask(TaskId)) return; // 如果正在上传，跳过\n\n      if (session.using[UploadId]) {\n        asyncCallback(); // 检查下一个 UploadId\n\n        return;\n      } // 判断 UploadId 是否可用\n\n\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId,\n        tracker: params.tracker\n      }, function (err, PartListData) {\n        if (!self._isRunningTask(TaskId)) return;\n\n        if (err) {\n          session.removeUsing(UploadId);\n          return ep.emit('error', err);\n        }\n\n        var PartList = PartListData.PartList;\n        PartList.forEach(function (item) {\n          item.PartNumber *= 1;\n          item.Size *= 1;\n          item.ETag = item.ETag || '';\n        });\n        isAvailableUploadList(PartList, function (err, isAvailable) {\n          if (!self._isRunningTask(TaskId)) return;\n          if (err) return ep.emit('error', err);\n\n          if (isAvailable) {\n            asyncCallback({\n              UploadId: UploadId,\n              PartList: PartList\n            }); // 马上结束\n          } else {\n            asyncCallback(); // 检查下一个 UploadId\n          }\n        });\n      });\n    }, function (AvailableUploadData) {\n      if (!self._isRunningTask(TaskId)) return;\n      onHashProgress(null, true);\n\n      if (AvailableUploadData && AvailableUploadData.UploadId) {\n        ep.emit('upload_id_available', AvailableUploadData);\n      } else {\n        ep.emit('no_available_upload_id');\n      }\n    });\n  }); // 在本地缓存找可用的 UploadId\n\n  ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\n    // 在本地找可用的 UploadId\n    var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\n    var LocalUploadIdList = session.getUploadIdList.call(self, uuid);\n\n    if (!uuid || !LocalUploadIdList) {\n      ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n      return;\n    }\n\n    var next = function next(index) {\n      // 如果本地找不到可用 UploadId，再一个个遍历校验远端\n      if (index >= LocalUploadIdList.length) {\n        ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n        return;\n      }\n\n      var UploadId = LocalUploadIdList[index]; // 如果不在远端 UploadId 列表里，跳过并删除\n\n      if (!util.isInArray(RemoteUploadIdList, UploadId)) {\n        session.removeUploadId.call(self, UploadId);\n        next(index + 1);\n        return;\n      } // 如果正在上传，跳过\n\n\n      if (session.using[UploadId]) {\n        next(index + 1);\n        return;\n      } // 判断 UploadId 是否存在线上\n\n\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId,\n        tracker: params.tracker\n      }, function (err, PartListData) {\n        if (!self._isRunningTask(TaskId)) return;\n\n        if (err) {\n          // 如果 UploadId 获取会出错，跳过并删除\n          session.removeUploadId.call(self, UploadId);\n          next(index + 1);\n        } else {\n          // 找到可用 UploadId\n          ep.emit('upload_id_available', {\n            UploadId: UploadId,\n            PartList: PartListData.PartList\n          });\n        }\n      });\n    };\n\n    next(0);\n  }); // 获取线上 UploadId 列表\n\n  ep.on('get_remote_upload_id_list', function () {\n    // 获取符合条件的 UploadId 列表，因为同一个文件可以有多个上传任务。\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      tracker: params.tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) return ep.emit('error', err); // 整理远端 UploadId 列表\n\n      var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\n        return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\n      }).reverse().map(function (item) {\n        return item.UploadId || item.UploadID;\n      });\n\n      if (RemoteUploadIdList.length) {\n        ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\n      } else {\n        // 远端没有 UploadId，清理缓存的 UploadId\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key),\n            LocalUploadIdList;\n\n        if (uuid && (LocalUploadIdList = session.getUploadIdList.call(self, uuid))) {\n          util.each(LocalUploadIdList, function (UploadId) {\n            session.removeUploadId.call(self, UploadId);\n          });\n        }\n\n        ep.emit('no_available_upload_id');\n      }\n    });\n  }); // 开始找可用 UploadId\n\n  ep.emit('get_remote_upload_id_list');\n} // 获取符合条件的全部上传任务 (条件包括 Bucket, Region, Prefix)\n\n\nfunction wholeMultipartList(params, callback) {\n  var self = this;\n  var UploadList = [];\n  var sendParams = {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Prefix: params.Key,\n    calledBySdk: params.calledBySdk || 'sliceUploadFile',\n    tracker: params.tracker\n  };\n\n  var next = function next() {\n    self.multipartList(sendParams, function (err, data) {\n      if (err) return callback(err);\n      UploadList.push.apply(UploadList, data.Upload || []);\n\n      if (data.IsTruncated === 'true') {\n        // 列表不完整\n        sendParams.KeyMarker = data.NextKeyMarker;\n        sendParams.UploadIdMarker = data.NextUploadIdMarker;\n        next();\n      } else {\n        callback(null, {\n          UploadList: UploadList\n        });\n      }\n    });\n  };\n\n  next();\n} // 获取指定上传任务的分块列表\n\n\nfunction wholeMultipartListPart(params, callback) {\n  var self = this;\n  var PartList = [];\n  var sendParams = {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    UploadId: params.UploadId,\n    calledBySdk: 'sliceUploadFile',\n    tracker: params.tracker\n  };\n\n  var next = function next() {\n    self.multipartListPart(sendParams, function (err, data) {\n      if (err) return callback(err);\n      PartList.push.apply(PartList, data.Part || []);\n\n      if (data.IsTruncated === 'true') {\n        // 列表不完整\n        sendParams.PartNumberMarker = data.NextPartNumberMarker;\n        next();\n      } else {\n        callback(null, {\n          PartList: PartList\n        });\n      }\n    });\n  };\n\n  next();\n} // 上传文件分块，包括\n\n/*\r\n UploadId (上传任务编号)\r\n AsyncLimit (并发量)，\r\n SliceList (上传的分块数组)，\r\n FilePath (本地文件的位置)，\r\n SliceSize (文件分块大小)\r\n FileSize (文件大小)\r\n onProgress (上传成功之后的回调函数)\r\n */\n\n\nfunction uploadSliceList(params, cb) {\n  var self = this;\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadData = params.UploadData;\n  var FileSize = params.FileSize;\n  var SliceSize = params.SliceSize;\n  var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\n  var Body = params.Body;\n  var SliceCount = Math.ceil(FileSize / SliceSize);\n  var FinishSize = 0;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var Headers = params.Headers;\n  var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\n    if (SliceItem['Uploaded']) {\n      FinishSize += SliceItem['PartNumber'] >= SliceCount ? FileSize % SliceSize || SliceSize : SliceSize;\n    }\n\n    return !SliceItem['Uploaded'];\n  });\n  var _onProgress2 = params.onProgress;\n  Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\n    if (!self._isRunningTask(TaskId)) return;\n    var PartNumber = SliceItem['PartNumber'];\n    var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\n    var preAddSize = 0;\n    uploadSliceItem.call(self, {\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      SliceSize: SliceSize,\n      FileSize: FileSize,\n      PartNumber: PartNumber,\n      ServerSideEncryption: ServerSideEncryption,\n      Body: Body,\n      UploadData: UploadData,\n      Headers: Headers,\n      onProgress: function onProgress(data) {\n        FinishSize += data.loaded - preAddSize;\n        preAddSize = data.loaded;\n\n        _onProgress2({\n          loaded: FinishSize,\n          total: FileSize\n        });\n      },\n      tracker: params.tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (!err && !data.ETag) err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )';\n\n      if (err) {\n        FinishSize -= preAddSize;\n      } else {\n        FinishSize += currentSize - preAddSize;\n        SliceItem.ETag = data.ETag;\n      }\n\n      _onProgress2({\n        loaded: FinishSize,\n        total: FileSize\n      });\n\n      asyncCallback(err || null, data);\n    });\n  }, function (err) {\n    if (!self._isRunningTask(TaskId)) return;\n    if (err) return cb(err);\n    cb(null, {\n      UploadId: UploadData.UploadId,\n      SliceList: UploadData.PartList\n    });\n  });\n} // 上传指定分片\n\n\nfunction uploadSliceItem(params, callback) {\n  var self = this;\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var FileSize = params.FileSize;\n  var FileBody = params.Body;\n  var PartNumber = params.PartNumber * 1;\n  var SliceSize = params.SliceSize;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var UploadData = params.UploadData;\n  var Headers = params.Headers || {};\n  var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\n  var start = SliceSize * (PartNumber - 1);\n  var ContentLength = SliceSize;\n  var end = start + SliceSize;\n\n  if (end > FileSize) {\n    end = FileSize;\n    ContentLength = end - start;\n  }\n\n  var headersWhiteList = ['x-cos-traffic-limit', 'x-cos-mime-limit'];\n  var headers = {};\n  util.each(Headers, function (v, k) {\n    if (headersWhiteList.indexOf(k) > -1) {\n      headers[k] = v;\n    }\n  });\n  var PartItem = UploadData.PartList[PartNumber - 1];\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    if (!self._isRunningTask(TaskId)) return;\n    util.fileSlice(FileBody, start, end, true, function (Body) {\n      self.multipartUpload({\n        TaskId: TaskId,\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        ContentLength: ContentLength,\n        PartNumber: PartNumber,\n        UploadId: UploadData.UploadId,\n        ServerSideEncryption: ServerSideEncryption,\n        Body: Body,\n        Headers: headers,\n        onProgress: params.onProgress,\n        calledBySdk: 'sliceUploadFile',\n        tracker: params.tracker\n      }, function (err, data) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return tryCallback(err);\n        PartItem.Uploaded = true;\n        return tryCallback(null, data);\n      });\n    });\n  }, function (err, data) {\n    if (!self._isRunningTask(TaskId)) return;\n    return callback(err, data);\n  });\n} // 完成分块上传\n\n\nfunction uploadSliceComplete(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadId = params.UploadId;\n  var SliceList = params.SliceList;\n  var self = this;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var Headers = params.Headers;\n  var Parts = SliceList.map(function (item) {\n    return {\n      PartNumber: item.PartNumber,\n      ETag: item.ETag\n    };\n  }); // 完成上传的请求也做重试\n\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    self.multipartComplete({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadId,\n      Parts: Parts,\n      Headers: Headers,\n      calledBySdk: 'sliceUploadFile',\n      tracker: params.tracker\n    }, tryCallback);\n  }, function (err, data) {\n    callback(err, data);\n  });\n} // 抛弃分块上传任务\n\n/*\r\n AsyncLimit (抛弃上传任务的并发量)，\r\n UploadId (上传任务的编号，当 Level 为 task 时候需要)\r\n Level (抛弃分块上传任务的级别，task : 抛弃指定的上传任务，file ： 抛弃指定的文件对应的上传任务，其他值 ：抛弃指定Bucket 的全部上传任务)\r\n */\n\n\nfunction abortUploadTask(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadId = params.UploadId;\n  var Level = params.Level || 'task';\n  var AsyncLimit = params.AsyncLimit;\n  var self = this;\n  var ep = new EventProxy();\n  ep.on('error', function (errData) {\n    return callback(errData);\n  }); // 已经获取到需要抛弃的任务列表\n\n  ep.on('get_abort_array', function (AbortArray) {\n    abortUploadTaskArray.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Headers: params.Headers,\n      AsyncLimit: AsyncLimit,\n      AbortArray: AbortArray\n    }, callback);\n  });\n\n  if (Level === 'bucket') {\n    // Bucket 级别的任务抛弃，抛弃该 Bucket 下的全部上传任务\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      calledBySdk: 'abortUploadTask'\n    }, function (err, data) {\n      if (err) return callback(err);\n      ep.emit('get_abort_array', data.UploadList || []);\n    });\n  } else if (Level === 'file') {\n    // 文件级别的任务抛弃，抛弃该文件的全部上传任务\n    if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      calledBySdk: 'abortUploadTask'\n    }, function (err, data) {\n      if (err) return callback(err);\n      ep.emit('get_abort_array', data.UploadList || []);\n    });\n  } else if (Level === 'task') {\n    // 单个任务级别的任务抛弃，抛弃指定 UploadId 的上传任务\n    if (!UploadId) return callback(util.error(new Error('abort_upload_task_no_id')));\n    if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n    ep.emit('get_abort_array', [{\n      Key: Key,\n      UploadId: UploadId\n    }]);\n  } else {\n    return callback(util.error(new Error('abort_unknown_level')));\n  }\n} // 批量抛弃分块上传任务\n\n\nfunction abortUploadTaskArray(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var AbortArray = params.AbortArray;\n  var AsyncLimit = params.AsyncLimit || 1;\n  var self = this;\n  var index = 0;\n  var resultList = new Array(AbortArray.length);\n  Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, nextItem) {\n    var eachIndex = index;\n\n    if (Key && Key !== AbortItem.Key) {\n      resultList[eachIndex] = {\n        error: {\n          KeyNotMatch: true\n        }\n      };\n      nextItem(null);\n      return;\n    }\n\n    var UploadId = AbortItem.UploadId || AbortItem.UploadID;\n    self.multipartAbort({\n      Bucket: Bucket,\n      Region: Region,\n      Key: AbortItem.Key,\n      Headers: params.Headers,\n      UploadId: UploadId\n    }, function (err) {\n      var task = {\n        Bucket: Bucket,\n        Region: Region,\n        Key: AbortItem.Key,\n        UploadId: UploadId\n      };\n      resultList[eachIndex] = {\n        error: err,\n        task: task\n      };\n      nextItem(null);\n    });\n    index++;\n  }, function (err) {\n    if (err) return callback(err);\n    var successList = [];\n    var errorList = [];\n\n    for (var i = 0, len = resultList.length; i < len; i++) {\n      var item = resultList[i];\n\n      if (item['task']) {\n        if (item['error']) {\n          errorList.push(item['task']);\n        } else {\n          successList.push(item['task']);\n        }\n      }\n    }\n\n    return callback(null, {\n      successList: successList,\n      errorList: errorList\n    });\n  });\n} // 高级上传\n\n\nfunction uploadFile(params, callback) {\n  var self = this; // 判断多大的文件使用分片上传\n\n  var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n  var taskList = [];\n  var Body = params.Body;\n  var FileSize = Body.size || Body.length || 0;\n  var fileInfo = {\n    TaskId: ''\n  }; // 上传链路\n\n  if (self.options.EnableTracker) {\n    var accelerate = self.options.UseAccelerate || self.options.Domain && self.options.Domain.includes('accelerate.');\n    params.tracker = new Tracker({\n      bucket: params.Bucket,\n      region: params.Region,\n      apiName: 'uploadFile',\n      fileKey: params.Key,\n      fileSize: FileSize,\n      accelerate: accelerate,\n      deepTracker: self.options.DeepTracker,\n      customId: self.options.CustomId,\n      delay: self.options.TrackerDelay\n    });\n  } // 整理 option，用于返回给回调\n\n\n  util.each(params, function (v, k) {\n    if (_typeof(v) !== 'object' && typeof v !== 'function') {\n      fileInfo[k] = v;\n    }\n  }); // 处理文件 TaskReady\n\n  var _onTaskReady = params.onTaskReady;\n\n  var onTaskReady = function onTaskReady(tid) {\n    fileInfo.TaskId = tid;\n    _onTaskReady && _onTaskReady(tid);\n  };\n\n  params.onTaskReady = onTaskReady; // 添加上传任务,超过阈值使用分块上传，小于等于则简单上传\n\n  var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject'; // 处理文件完成\n\n  var _onFileFinish = params.onFileFinish;\n\n  var onFileFinish = function onFileFinish(err, data) {\n    // 格式化上报参数并上报\n    params.tracker && params.tracker.formatResult(err, data);\n    _onFileFinish && _onFileFinish(err, data, fileInfo);\n    callback && callback(err, data);\n  };\n\n  taskList.push({\n    api: api,\n    params: params,\n    callback: onFileFinish\n  });\n\n  self._addTasks(taskList);\n} // 批量上传文件\n\n\nfunction uploadFiles(params, callback) {\n  var self = this; // 判断多大的文件使用分片上传\n\n  var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize; // 汇总返回进度\n\n  var TotalSize = 0;\n  var TotalFinish = 0;\n  var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress); // 汇总返回回调\n\n  var unFinishCount = params.files.length;\n  var _onTotalFileFinish = params.onFileFinish;\n  var resultList = Array(unFinishCount);\n\n  var onTotalFileFinish = function onTotalFileFinish(err, data, options) {\n    onTotalProgress(null, true);\n    _onTotalFileFinish && _onTotalFileFinish(err, data, options);\n    resultList[options.Index] = {\n      options: options,\n      error: err,\n      data: data\n    };\n\n    if (--unFinishCount <= 0 && callback) {\n      callback(null, {\n        files: resultList\n      });\n    }\n  }; // 开始处理每个文件\n\n\n  var taskList = [];\n  util.each(params.files, function (fileParams, index) {\n    (function () {\n      // 对齐 nodejs 缩进\n      var Body = fileParams.Body;\n      var FileSize = Body.size || Body.length || 0;\n      var fileInfo = {\n        Index: index,\n        TaskId: ''\n      }; // 更新文件总大小\n\n      TotalSize += FileSize; // 单个文件上传链路\n\n      if (self.options.EnableTracker) {\n        var accelerate = self.options.UseAccelerate || self.options.Domain && self.options.Domain.includes('accelerate.');\n        fileParams.tracker = new Tracker({\n          bucket: fileParams.Bucket,\n          region: fileParams.Region,\n          apiName: 'uploadFiles',\n          fileKey: fileParams.Key,\n          fileSize: FileSize,\n          accelerate: accelerate,\n          deepTracker: self.options.DeepTracker,\n          customId: self.options.CustomId,\n          delay: self.options.TrackerDelay\n        });\n      } // 整理 option，用于返回给回调\n\n\n      util.each(fileParams, function (v, k) {\n        if (_typeof(v) !== 'object' && typeof v !== 'function') {\n          fileInfo[k] = v;\n        }\n      }); // 处理单个文件 TaskReady\n\n      var _onTaskReady = fileParams.onTaskReady;\n\n      var onTaskReady = function onTaskReady(tid) {\n        fileInfo.TaskId = tid;\n        _onTaskReady && _onTaskReady(tid);\n      };\n\n      fileParams.onTaskReady = onTaskReady; // 处理单个文件进度\n\n      var PreAddSize = 0;\n      var _onProgress = fileParams.onProgress;\n\n      var onProgress = function onProgress(info) {\n        TotalFinish = TotalFinish - PreAddSize + info.loaded;\n        PreAddSize = info.loaded;\n        _onProgress && _onProgress(info);\n        onTotalProgress({\n          loaded: TotalFinish,\n          total: TotalSize\n        });\n      };\n\n      fileParams.onProgress = onProgress; // 添加上传任务\n\n      var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject'; // 处理单个文件完成\n\n      var _onFileFinish = fileParams.onFileFinish;\n\n      var onFileFinish = function onFileFinish(err, data) {\n        // 格式化上报参数并上报\n        fileParams.tracker && fileParams.tracker.formatResult(err, data);\n        _onFileFinish && _onFileFinish(err, data);\n        onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\n      };\n\n      taskList.push({\n        api: api,\n        params: fileParams,\n        callback: onFileFinish\n      });\n    })();\n  });\n\n  self._addTasks(taskList);\n} // 分片复制文件\n\n\nfunction sliceCopyFile(params, callback) {\n  var ep = new EventProxy();\n  var self = this;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var CopySource = params.CopySource;\n  var m = util.getSourceParams.call(this, CopySource);\n\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n\n  var SourceBucket = m.Bucket;\n  var SourceRegion = m.Region;\n  var SourceKey = decodeURIComponent(m.Key);\n  var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\n  CopySliceSize = Math.max(0, CopySliceSize);\n  var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\n  var ChunkParallel = this.options.CopyChunkParallelLimit;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var ChunkCount = 0;\n  var FinishSize = 0;\n  var FileSize;\n  var onProgress;\n  var SourceResHeaders = {};\n  var SourceHeaders = {};\n  var TargetHeader = {}; // 分片复制完成，开始 multipartComplete 操作\n\n  ep.on('copy_slice_complete', function (UploadData) {\n    var metaHeaders = {};\n    util.each(params.Headers, function (val, k) {\n      if (k.toLowerCase().indexOf('x-cos-meta-') === 0) metaHeaders[k] = val;\n    });\n    var Parts = util.map(UploadData.PartList, function (item) {\n      return {\n        PartNumber: item.PartNumber,\n        ETag: item.ETag\n      };\n    }); // 完成上传的请求也做重试\n\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n      self.multipartComplete({\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadData.UploadId,\n        Parts: Parts,\n        calledBySdk: 'sliceCopyFile'\n      }, tryCallback);\n    }, function (err, data) {\n      session.removeUsing(UploadData.UploadId); // 标记 UploadId 没被使用了，因为复制没提供重试，所以只要出错，就是 UploadId 停用了。\n\n      if (err) {\n        onProgress(null, true);\n        return callback(err);\n      }\n\n      session.removeUploadId(UploadData.UploadId);\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      callback(null, data);\n    });\n  });\n  ep.on('get_copy_data_finish', function (UploadData) {\n    // 处理 UploadId 缓存\n    var uuid = session.getCopyFileId(CopySource, SourceResHeaders, ChunkSize, Bucket, Key);\n    uuid && session.saveUploadId(uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\n\n    session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\n\n    var needCopySlices = util.filter(UploadData.PartList, function (SliceItem) {\n      if (SliceItem['Uploaded']) {\n        FinishSize += SliceItem['PartNumber'] >= ChunkCount ? FileSize % ChunkSize || ChunkSize : ChunkSize;\n      }\n\n      return !SliceItem['Uploaded'];\n    });\n    Async.eachLimit(needCopySlices, ChunkParallel, function (SliceItem, asyncCallback) {\n      var PartNumber = SliceItem.PartNumber;\n      var CopySourceRange = SliceItem.CopySourceRange;\n      var currentSize = SliceItem.end - SliceItem.start;\n      Async.retry(ChunkRetryTimes, function (tryCallback) {\n        copySliceItem.call(self, {\n          Bucket: Bucket,\n          Region: Region,\n          Key: Key,\n          CopySource: CopySource,\n          UploadId: UploadData.UploadId,\n          PartNumber: PartNumber,\n          CopySourceRange: CopySourceRange\n        }, tryCallback);\n      }, function (err, data) {\n        if (err) return asyncCallback(err);\n        FinishSize += currentSize;\n        onProgress({\n          loaded: FinishSize,\n          total: FileSize\n        });\n        SliceItem.ETag = data.ETag;\n        asyncCallback(err || null, data);\n      });\n    }, function (err) {\n      if (err) {\n        session.removeUsing(UploadData.UploadId); // 标记 UploadId 没被使用了，因为复制没提供重试，所以只要出错，就是 UploadId 停用了。\n\n        onProgress(null, true);\n        return callback(err);\n      }\n\n      ep.emit('copy_slice_complete', UploadData);\n    });\n  });\n  ep.on('get_chunk_size_finish', function () {\n    var createNewUploadId = function createNewUploadId() {\n      self.multipartInit({\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        Headers: TargetHeader\n      }, function (err, data) {\n        if (err) return callback(err);\n        params.UploadId = data.UploadId;\n        ep.emit('get_copy_data_finish', {\n          UploadId: params.UploadId,\n          PartList: params.PartList\n        });\n      });\n    }; // 在本地找可用的 UploadId\n\n\n    var uuid = session.getCopyFileId(CopySource, SourceResHeaders, ChunkSize, Bucket, Key);\n    var LocalUploadIdList = session.getUploadIdList(uuid);\n    if (!uuid || !LocalUploadIdList) return createNewUploadId();\n\n    var next = function next(index) {\n      // 如果本地找不到可用 UploadId，再一个个遍历校验远端\n      if (index >= LocalUploadIdList.length) return createNewUploadId();\n      var UploadId = LocalUploadIdList[index]; // 如果正在被使用，跳过\n\n      if (session.using[UploadId]) return next(index + 1); // 判断 UploadId 是否存在线上\n\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId\n      }, function (err, PartListData) {\n        if (err) {\n          // 如果 UploadId 获取会出错，跳过并删除\n          session.removeUploadId(UploadId);\n          next(index + 1);\n        } else {\n          // 如果异步回来 UploadId 已经被用了，也跳过\n          if (session.using[UploadId]) return next(index + 1); // 找到可用 UploadId\n\n          var finishETagMap = {};\n          var offset = 0;\n          util.each(PartListData.PartList, function (PartItem) {\n            var size = parseInt(PartItem.Size);\n            var end = offset + size - 1;\n            finishETagMap[PartItem.PartNumber + '|' + offset + '|' + end] = PartItem.ETag;\n            offset += size;\n          });\n          util.each(params.PartList, function (PartItem) {\n            var ETag = finishETagMap[PartItem.PartNumber + '|' + PartItem.start + '|' + PartItem.end];\n\n            if (ETag) {\n              PartItem.ETag = ETag;\n              PartItem.Uploaded = true;\n            }\n          });\n          ep.emit('get_copy_data_finish', {\n            UploadId: UploadId,\n            PartList: params.PartList\n          });\n        }\n      });\n    };\n\n    next(0);\n  });\n  ep.on('get_file_size_finish', function () {\n    // 控制分片大小\n    (function () {\n      var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n      var AutoChunkSize = 1024 * 1024;\n\n      for (var i = 0; i < SIZE.length; i++) {\n        AutoChunkSize = SIZE[i] * 1024 * 1024;\n        if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n      }\n\n      params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n      ChunkCount = Math.ceil(FileSize / ChunkSize);\n      var list = [];\n\n      for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\n        var start = (partNumber - 1) * ChunkSize;\n        var end = partNumber * ChunkSize < FileSize ? partNumber * ChunkSize - 1 : FileSize - 1;\n        var item = {\n          PartNumber: partNumber,\n          start: start,\n          end: end,\n          CopySourceRange: \"bytes=\" + start + \"-\" + end\n        };\n        list.push(item);\n      }\n\n      params.PartList = list;\n    })();\n\n    if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\n      TargetHeader = params.Headers;\n    } else {\n      TargetHeader = SourceHeaders;\n    }\n\n    TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\n    TargetHeader = util.clearKey(TargetHeader);\n    /**\r\n     * 对于归档存储的对象，如果未恢复副本，则不允许 Copy\r\n     */\n\n    if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\n      var restoreHeader = SourceHeaders['x-cos-restore'];\n\n      if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\n        callback(util.error(new Error('Unrestored archive object is not allowed to be copied')));\n        return;\n      }\n    }\n    /**\r\n     * 去除一些无用的头部，规避 multipartInit 出错\r\n     * 这些头部通常是在 putObjectCopy 时才使用\r\n     */\n\n\n    delete TargetHeader['x-cos-copy-source'];\n    delete TargetHeader['x-cos-metadata-directive'];\n    delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\n    delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\n    delete TargetHeader['x-cos-copy-source-If-Match'];\n    delete TargetHeader['x-cos-copy-source-If-None-Match'];\n    ep.emit('get_chunk_size_finish');\n  }); // 获取远端复制源文件的大小\n\n  self.headObject({\n    Bucket: SourceBucket,\n    Region: SourceRegion,\n    Key: SourceKey\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 404) {\n        callback(util.error(err, {\n          ErrorStatus: SourceKey + ' Not Exist'\n        }));\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    FileSize = params.FileSize = data.headers['content-length'];\n\n    if (FileSize === undefined || !FileSize) {\n      callback(util.error(new Error('get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')));\n      return;\n    }\n\n    onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress); // 开始上传\n\n    if (FileSize <= CopySliceSize) {\n      if (!params.Headers['x-cos-metadata-directive']) {\n        params.Headers['x-cos-metadata-directive'] = 'Copy';\n      }\n\n      self.putObjectCopy(params, function (err, data) {\n        if (err) {\n          onProgress(null, true);\n          return callback(err);\n        }\n\n        onProgress({\n          loaded: FileSize,\n          total: FileSize\n        }, true);\n        callback(err, data);\n      });\n    } else {\n      var resHeaders = data.headers;\n      SourceResHeaders = resHeaders;\n      SourceHeaders = {\n        'Cache-Control': resHeaders['cache-control'],\n        'Content-Disposition': resHeaders['content-disposition'],\n        'Content-Encoding': resHeaders['content-encoding'],\n        'Content-Type': resHeaders['content-type'],\n        'Expires': resHeaders['expires'],\n        'x-cos-storage-class': resHeaders['x-cos-storage-class']\n      };\n      util.each(resHeaders, function (v, k) {\n        var metaPrefix = 'x-cos-meta-';\n\n        if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\n          SourceHeaders[k] = v;\n        }\n      });\n      ep.emit('get_file_size_finish');\n    }\n  });\n} // 复制指定分片\n\n\nfunction copySliceItem(params, callback) {\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var CopySource = params.CopySource;\n  var UploadId = params.UploadId;\n  var PartNumber = params.PartNumber * 1;\n  var CopySourceRange = params.CopySourceRange;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var self = this;\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    self.uploadPartCopy({\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      CopySource: CopySource,\n      UploadId: UploadId,\n      PartNumber: PartNumber,\n      CopySourceRange: CopySourceRange\n    }, function (err, data) {\n      tryCallback(err || null, data);\n    });\n  }, function (err, data) {\n    return callback(err, data);\n  });\n}\n\nvar API_MAP = {\n  sliceUploadFile: sliceUploadFile,\n  abortUploadTask: abortUploadTask,\n  uploadFile: uploadFile,\n  uploadFiles: uploadFiles,\n  sliceCopyFile: sliceCopyFile\n};\n\nmodule.exports.init = function (COS, task) {\n  task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\n  util.each(API_MAP, function (fn, apiName) {\n    COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/async.js\":\n/*!**********************!*\\\n  !*** ./src/async.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar eachLimit = function eachLimit(arr, limit, iterator, callback) {\n  callback = callback || function () {};\n\n  if (!arr.length || limit <= 0) {\n    return callback();\n  }\n\n  var completed = 0;\n  var started = 0;\n  var running = 0;\n\n  (function replenish() {\n    if (completed >= arr.length) {\n      return callback();\n    }\n\n    while (running < limit && started < arr.length) {\n      started += 1;\n      running += 1;\n      iterator(arr[started - 1], function (err) {\n        if (err) {\n          callback(err);\n\n          callback = function callback() {};\n        } else {\n          completed += 1;\n          running -= 1;\n\n          if (completed >= arr.length) {\n            callback();\n          } else {\n            replenish();\n          }\n        }\n      });\n    }\n  })();\n};\n\nvar retry = function retry(times, iterator, callback) {\n  var next = function next(index) {\n    iterator(function (err, data) {\n      if (err && index < times) {\n        next(index + 1);\n      } else {\n        callback(err, data);\n      }\n    });\n  };\n\n  if (times < 1) {\n    callback();\n  } else {\n    next(1);\n  }\n};\n\nvar async = {\n  eachLimit: eachLimit,\n  retry: retry\n};\nmodule.exports = async;\n\n/***/ }),\n\n/***/ \"./src/base.js\":\n/*!*********************!*\\\n  !*** ./src/base.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar REQUEST = __webpack_require__(/*! ../lib/request */ \"./lib/request.js\");\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\"); // Bucket 相关\n\n/**\r\n * 获取用户的 bucket 列表\r\n * @param  {Object}  params         回调函数，必须，下面为参数列表\r\n * 无特殊参数\r\n * @param  {Function}  callback     回调函数，必须\r\n */\n\n\nfunction getService(params, callback) {\n  if (typeof params === 'function') {\n    callback = params;\n    params = {};\n  }\n\n  var protocol = this.options.Protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n  var domain = this.options.ServiceDomain;\n  var appId = params.AppId || this.options.appId;\n  var region = params.Region;\n\n  if (domain) {\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '').replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\n\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n      domain = protocol + '//' + domain;\n    }\n\n    if (domain.slice(-1) === '/') {\n      domain = domain.slice(0, -1);\n    }\n  } else if (region) {\n    domain = protocol + '//cos.' + region + '.myqcloud.com';\n  } else {\n    domain = protocol + '//service.cos.myqcloud.com';\n  }\n\n  var SignHost = '';\n  var standardHost = region ? 'cos.' + region + '.myqcloud.com' : 'service.cos.myqcloud.com';\n  var urlHost = domain.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n  if (standardHost === urlHost) SignHost = standardHost;\n  submitRequest.call(this, {\n    Action: 'name/cos:GetService',\n    url: domain,\n    method: 'GET',\n    headers: params.Headers,\n    SignHost: SignHost\n  }, function (err, data) {\n    if (err) return callback(err);\n    var buckets = data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets && data.ListAllMyBucketsResult.Buckets.Bucket || [];\n    buckets = util.isArray(buckets) ? buckets : [buckets];\n    var owner = data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner || {};\n    callback(null, {\n      Buckets: buckets,\n      Owner: owner,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 创建 Bucket，并初始化访问权限\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\r\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {String}  data.Location             操作地址\r\n */\n\n\nfunction putBucket(params, callback) {\n  var self = this;\n  var xml = '';\n\n  if (params['BucketAZConfig']) {\n    var CreateBucketConfiguration = {\n      BucketAZConfig: params.BucketAZConfig\n    };\n    xml = util.json2xml({\n      CreateBucketConfiguration: CreateBucketConfiguration\n    });\n  }\n\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucket',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    body: xml\n  }, function (err, data) {\n    if (err) return callback(err);\n    var url = getUrl({\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      isLocation: true\n    });\n    callback(null, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 查看是否存在该Bucket，是否有权限访问\r\n * @param  {Object}  params                     参数对象，必须\r\n *     @param  {String}  params.Bucket          Bucket名称，必须\r\n *     @param  {String}  params.Region          地域名称，必须\r\n * @param  {Function}  callback                 回调函数，必须\r\n * @return  {Object}  err                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                      返回的数据\r\n *     @return  {Boolean}  data.BucketExist     Bucket是否存在\r\n *     @return  {Boolean}  data.BucketAuth      是否有 Bucket 的访问权限\r\n */\n\n\nfunction headBucket(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:HeadBucket',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    method: 'HEAD'\n  }, callback);\n}\n/**\r\n * 获取 Bucket 下的 object 列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Prefix              前缀匹配，用来规定返回的文件前缀地址，非必须\r\n *     @param  {String}  params.Delimiter           定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，非必须\r\n *     @param  {String}  params.Marker              默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\r\n *     @param  {String}  params.MaxKeys             单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.EncodingType        规定返回值的编码方式，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.ListBucketResult     返回的 object 列表信息\r\n */\n\n\nfunction getBucket(params, callback) {\n  var reqParams = {};\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['marker'] = params['Marker'];\n  reqParams['max-keys'] = params['MaxKeys'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucket',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListBucketResult = data.ListBucketResult || {};\n    var Contents = ListBucketResult.Contents || [];\n    var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\n    Contents = util.isArray(Contents) ? Contents : [Contents];\n    CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\n    var result = util.clone(ListBucketResult);\n    util.extend(result, {\n      Contents: Contents,\n      CommonPrefixes: CommonPrefixes,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 删除 Bucket\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n *     @return  {String}  data.Location     操作地址\r\n */\n\n\nfunction deleteBucket(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucket',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    method: 'DELETE'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\r\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\r\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n */\n\n\nfunction putBucketAcl(params, callback) {\n  var headers = params.Headers;\n  var xml = '';\n\n  if (params['AccessControlPolicy']) {\n    var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n    var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n    Grants = util.isArray(Grants) ? Grants : [Grants];\n    delete AccessControlPolicy.Grant;\n    delete AccessControlPolicy.Grants;\n    AccessControlPolicy.AccessControlList = {\n      Grant: Grants\n    };\n    xml = util.json2xml({\n      AccessControlPolicy: AccessControlPolicy\n    });\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  } // Grant Header 去重\n\n\n  util.each(headers, function (val, key) {\n    if (key.indexOf('x-cos-grant-') === 0) {\n      headers[key] = uniqGrant(headers[key]);\n    }\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketACL',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: headers,\n    action: 'acl',\n    body: xml\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.AccessControlPolicy  访问权限信息\r\n */\n\n\nfunction getBucketAcl(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketACL',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'acl'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var AccessControlPolicy = data.AccessControlPolicy || {};\n    var Owner = AccessControlPolicy.Owner || {};\n    var Grant = AccessControlPolicy.AccessControlList.Grant || [];\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n    var result = decodeAcl(AccessControlPolicy);\n\n    if (data.headers && data.headers['x-cos-acl']) {\n      result.ACL = data.headers['x-cos-acl'];\n    }\n\n    result = util.extend(result, {\n      Owner: Owner,\n      Grants: Grant,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 设置 Bucket 的 跨域设置\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {Object}  params.CORSConfiguration       相关的跨域设置，必须\r\n * @param  {Array}  params.CORSConfiguration.CORSRules  对应的跨域规则\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回的数据\r\n */\n\n\nfunction putBucketCors(params, callback) {\n  var CORSConfiguration = params['CORSConfiguration'] || {};\n  var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\n  CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n  util.each(CORSRules, function (rule) {\n    util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n      var sKey = key + 's';\n      var val = rule[sKey] || rule[key] || [];\n      delete rule[sKey];\n      rule[key] = util.isArray(val) ? val : [val];\n    });\n  });\n  var Conf = {\n    CORSRule: CORSRules\n  };\n  if (params.ResponseVary) Conf.ResponseVary = params.ResponseVary;\n  var xml = util.json2xml({\n    CORSConfiguration: Conf\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketCORS',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'cors',\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的 跨域设置\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.CORSRules            Bucket的跨域设置\r\n */\n\n\nfunction getBucketCors(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketCORS',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'cors'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\n        var result = {\n          CORSRules: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var CORSConfiguration = data.CORSConfiguration || {};\n    var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n    var ResponseVary = CORSConfiguration.ResponseVary;\n    util.each(CORSRules, function (rule) {\n      util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n        var sKey = key + 's';\n        var val = rule[sKey] || rule[key] || [];\n        delete rule[key];\n        rule[sKey] = util.isArray(val) ? val : [val];\n      });\n    });\n    callback(null, {\n      CORSRules: CORSRules,\n      ResponseVary: ResponseVary,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Bucket 的 跨域设置\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n */\n\n\nfunction deleteBucketCors(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketCORS',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'cors'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode || err.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的 地域信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据，包含地域信息 LocationConstraint\r\n */\n\n\nfunction getBucketLocation(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLocation',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'location'\n  }, callback);\n}\n\nfunction putBucketPolicy(params, callback) {\n  var Policy = params['Policy'];\n\n  try {\n    if (typeof Policy === 'string') Policy = JSON.parse(Policy);\n  } catch (e) {}\n\n  if (!Policy || typeof Policy === 'string') return callback(util.error(new Error('Policy format error')));\n  var PolicyStr = JSON.stringify(Policy);\n  if (!Policy.version) Policy.version = '2.0';\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/json';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketPolicy',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'policy',\n    body: PolicyStr,\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的读取权限策略\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketPolicy(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketPolicy',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'policy',\n    rawBody: true\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 403) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Access Denied'\n        }));\n      }\n\n      if (err.statusCode && err.statusCode === 405) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Method Not Allowed'\n        }));\n      }\n\n      if (err.statusCode && err.statusCode === 404) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Policy Not Found'\n        }));\n      }\n\n      return callback(err);\n    }\n\n    var Policy = {};\n\n    try {\n      Policy = JSON.parse(data.body);\n    } catch (e) {}\n\n    callback(null, {\n      Policy: Policy,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Bucket 的 跨域设置\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  返回的数据\r\n */\n\n\nfunction deleteBucketPolicy(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketPolicy',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'policy'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode || err.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 的标签\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {Array}   params.TagSet  标签设置，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction putBucketTagging(params, callback) {\n  var Tagging = params['Tagging'] || {};\n  var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n  Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n  var xml = util.json2xml({\n    Tagging: {\n      TagSet: {\n        Tag: Tags\n      }\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketTagging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'tagging',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketTagging',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n        var result = {\n          Tags: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Tags = [];\n\n    try {\n      Tags = data.Tagging.TagSet.Tag || [];\n    } catch (e) {}\n\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    callback(null, {\n      Tags: Tags,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Bucket 的 标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\n\n\nfunction deleteBucketTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketTagging',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction putBucketLifecycle(params, callback) {\n  var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\n  var Rules = LifecycleConfiguration.Rules || params.Rules || [];\n  Rules = util.clone(Rules);\n  var xml = util.json2xml({\n    LifecycleConfiguration: {\n      Rule: Rules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketLifecycle',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'lifecycle',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketLifecycle(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLifecycle',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'lifecycle'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\n        var result = {\n          Rules: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Rules = [];\n\n    try {\n      Rules = data.LifecycleConfiguration.Rule || [];\n    } catch (e) {}\n\n    Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\n    callback(null, {\n      Rules: Rules,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction deleteBucketLifecycle(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketLifecycle',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'lifecycle'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction putBucketVersioning(params, callback) {\n  if (!params['VersioningConfiguration']) {\n    callback(util.error(new Error('missing param VersioningConfiguration')));\n    return;\n  }\n\n  var VersioningConfiguration = params['VersioningConfiguration'] || {};\n  var xml = util.json2xml({\n    VersioningConfiguration: VersioningConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketVersioning',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'versioning',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketVersioning(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketVersioning',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'versioning'\n  }, function (err, data) {\n    if (!err) {\n      !data.VersioningConfiguration && (data.VersioningConfiguration = {});\n    }\n\n    callback(err, data);\n  });\n}\n\nfunction putBucketReplication(params, callback) {\n  var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\n  var xml = util.json2xml({\n    ReplicationConfiguration: ReplicationConfiguration\n  });\n  xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\n  xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketReplication',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'replication',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketReplication(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketReplication',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'replication'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\n        var result = {\n          ReplicationConfiguration: {\n            Rules: []\n          },\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\n\n    if (data.ReplicationConfiguration.Rule) {\n      data.ReplicationConfiguration.Rules = util.makeArray(data.ReplicationConfiguration.Rule);\n      delete data.ReplicationConfiguration.Rule;\n    }\n\n    callback(err, data);\n  });\n}\n\nfunction deleteBucketReplication(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketReplication',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'replication'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 静态网站配置信息\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {Object}  params.WebsiteConfiguration                        地域名称，必须\r\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            索引文档，必须\r\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            错误文档，非必须\r\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    重定向所有请求，非必须\r\n *         @param  {Array}   params.RoutingRules                            重定向规则，非必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\n\n\nfunction putBucketWebsite(params, callback) {\n  if (!params['WebsiteConfiguration']) {\n    callback(util.error(new Error('missing param WebsiteConfiguration')));\n    return;\n  }\n\n  var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\n  var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\n  RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\n  delete WebsiteConfiguration.RoutingRule;\n  delete WebsiteConfiguration.RoutingRules;\n  if (RoutingRules.length) WebsiteConfiguration.RoutingRules = {\n    RoutingRule: RoutingRules\n  };\n  var xml = util.json2xml({\n    WebsiteConfiguration: WebsiteConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketWebsite',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'website',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的静态网站配置信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketWebsite(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketWebsite',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'website'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration') {\n        var result = {\n          WebsiteConfiguration: {},\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var WebsiteConfiguration = data.WebsiteConfiguration || {};\n\n    if (WebsiteConfiguration['RoutingRules']) {\n      var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\n      RoutingRules = util.makeArray(RoutingRules);\n      WebsiteConfiguration.RoutingRules = RoutingRules;\n    }\n\n    callback(null, {\n      WebsiteConfiguration: WebsiteConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Bucket 的静态网站配置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction deleteBucketWebsite(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketWebsite',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'website'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 的防盗链白名单或者黑名单\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {Object}  params.RefererConfiguration                        地域名称，必须\r\n *         @param  {String}   RefererConfiguration.Status                   是否开启防盗链，枚举值：Enabled、Disabled\r\n *         @param  {String}   RefererConfiguration.RefererType              防盗链类型，枚举值：Black-List、White-List，必须\r\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         生效域名，必须\r\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  ，非必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\n\n\nfunction putBucketReferer(params, callback) {\n  if (!params['RefererConfiguration']) {\n    callback(util.error(new Error('missing param RefererConfiguration')));\n    return;\n  }\n\n  var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\n  var DomainList = RefererConfiguration['DomainList'] || {};\n  var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\n  Domains = util.isArray(Domains) ? Domains : [Domains];\n  if (Domains.length) RefererConfiguration.DomainList = {\n    Domain: Domains\n  };\n  var xml = util.json2xml({\n    RefererConfiguration: RefererConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketReferer',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'referer',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的防盗链白名单或者黑名单\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketReferer(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketReferer',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'referer'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration') {\n        var result = {\n          WebsiteConfiguration: {},\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var RefererConfiguration = data.RefererConfiguration || {};\n\n    if (RefererConfiguration['DomainList']) {\n      var Domains = util.makeArray(RefererConfiguration['DomainList'].Domain || []);\n      RefererConfiguration.DomainList = {\n        Domains: Domains\n      };\n    }\n\n    callback(null, {\n      RefererConfiguration: RefererConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 自定义域名\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\n\n\nfunction putBucketDomain(params, callback) {\n  var DomainConfiguration = params['DomainConfiguration'] || {};\n  var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\n  DomainRule = util.clone(DomainRule);\n  var xml = util.json2xml({\n    DomainConfiguration: {\n      DomainRule: DomainRule\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketDomain',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'domain',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的自定义域名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketDomain(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketDomain',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'domain'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var DomainRule = [];\n\n    try {\n      DomainRule = data.DomainConfiguration.DomainRule || [];\n    } catch (e) {}\n\n    DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\n    callback(null, {\n      DomainRule: DomainRule,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Bucket 自定义域名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction deleteBucketDomain(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketDomain',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'domain'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 的回源\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\n\n\nfunction putBucketOrigin(params, callback) {\n  var OriginConfiguration = params['OriginConfiguration'] || {};\n  var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\n  OriginRule = util.clone(OriginRule);\n  var xml = util.json2xml({\n    OriginConfiguration: {\n      OriginRule: OriginRule\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketOrigin',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'origin',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的回源\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketOrigin(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketOrigin',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'origin'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var OriginRule = [];\n\n    try {\n      OriginRule = data.OriginConfiguration.OriginRule || [];\n    } catch (e) {}\n\n    OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\n    callback(null, {\n      OriginRule: OriginRule,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Bucket 的回源\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction deleteBucketOrigin(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketOrigin',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'origin'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 设置 Bucket 的日志记录\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         说明日志记录配置的状态，如果无子节点信息则意为关闭日志记录，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\n\n\nfunction putBucketLogging(params, callback) {\n  var xml = util.json2xml({\n    BucketLoggingStatus: params['BucketLoggingStatus'] || ''\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketLogging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'logging',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的日志记录\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketLogging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLogging',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'logging'\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      BucketLoggingStatus: data.BucketLoggingStatus,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 创建/编辑 Bucket 的清单任务\r\n * @param  {Object}  params                                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\r\n *     @param  {String}  params.Region                                      地域名称，必须\r\n *     @param  {String}  params.Id                                          清单任务的名称，必须\r\n *     @param  {Object}  params.InventoryConfiguration                      包含清单的配置参数，必须\r\n * @param  {Function}  callback                                             回调函数，必须\r\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  返回数据\r\n */\n\n\nfunction putBucketInventory(params, callback) {\n  var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\n\n  if (InventoryConfiguration.OptionalFields) {\n    var Field = InventoryConfiguration.OptionalFields || [];\n    InventoryConfiguration.OptionalFields = {\n      Field: Field\n    };\n  }\n\n  if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n    var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n\n    if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\n      Encryption['SSE-COS'] = Encryption['SSECOS'];\n      delete Encryption['SSECOS'];\n    }\n  }\n\n  var xml = util.json2xml({\n    InventoryConfiguration: InventoryConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketInventory',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    },\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的清单任务信息\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Id      清单任务的名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketInventory',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    }\n  }, function (err, data) {\n    if (err) return callback(err);\n    var InventoryConfiguration = data['InventoryConfiguration'];\n\n    if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n      var Field = InventoryConfiguration.OptionalFields.Field;\n\n      if (!util.isArray(Field)) {\n        Field = [Field];\n      }\n\n      InventoryConfiguration.OptionalFields = Field;\n    }\n\n    if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n      var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n\n      if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n        Encryption['SSECOS'] = Encryption['SSE-COS'];\n        delete Encryption['SSE-COS'];\n      }\n    }\n\n    callback(null, {\n      InventoryConfiguration: InventoryConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Bucket 的清单任务信息\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {String}  params.ContinuationToken       当 COS 响应体中 IsTruncated 为 true，且 NextContinuationToken 节点中存在参数值时，您可以将这个参数作为 continuation-token 参数值，以获取下一页的清单任务信息，非必须\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回数据\r\n */\n\n\nfunction listBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:ListBucketInventory',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      'continuation-token': params['ContinuationToken']\n    }\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\n    var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\n    InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\n    delete ListInventoryConfigurationResult['InventoryConfiguration'];\n    util.each(InventoryConfigurations, function (InventoryConfiguration) {\n      if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n        var Field = InventoryConfiguration.OptionalFields.Field;\n\n        if (!util.isArray(Field)) {\n          Field = [Field];\n        }\n\n        InventoryConfiguration.OptionalFields = Field;\n      }\n\n      if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n\n        if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n          Encryption['SSECOS'] = Encryption['SSE-COS'];\n          delete Encryption['SSE-COS'];\n        }\n      }\n    });\n    ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\n    util.extend(ListInventoryConfigurationResult, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, ListInventoryConfigurationResult);\n  });\n}\n/**\r\n * 删除 Bucket 的清单任务\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Id      清单任务的名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction deleteBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketInventory',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    }\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/* 全球加速 */\n\n\nfunction putBucketAccelerate(params, callback) {\n  if (!params['AccelerateConfiguration']) {\n    callback(util.error(new Error('missing param AccelerateConfiguration')));\n    return;\n  }\n\n  var configuration = {\n    AccelerateConfiguration: params.AccelerateConfiguration || {}\n  };\n  var xml = util.json2xml(configuration);\n  var headers = {};\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketAccelerate',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'accelerate',\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketAccelerate(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketAccelerate',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'accelerate'\n  }, function (err, data) {\n    if (!err) {\n      !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\n    }\n\n    callback(err, data);\n  });\n}\n\nfunction putBucketEncryption(params, callback) {\n  var conf = params.ServerSideEncryptionConfiguration || {};\n  var Rules = conf.Rule || conf.Rules || [];\n  var xml = util.json2xml({\n    ServerSideEncryptionConfiguration: {\n      Rule: Rules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketEncryption',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'encryption',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketEncryption(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketEncryption',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'encryption'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.code === 'NoSuchEncryptionConfiguration') {\n        var result = {\n          EncryptionConfiguration: {\n            Rules: []\n          },\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Rules = util.makeArray(data.EncryptionConfiguration && data.EncryptionConfiguration.Rule || []);\n    data.EncryptionConfiguration = {\n      Rules: Rules\n    };\n    callback(err, data);\n  });\n}\n\nfunction deleteBucketEncryption(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketReplication',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'encryption'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n} // Object 相关\n\n/**\r\n * 取回对应Object的元数据，Head的权限与Get的权限一致\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Key                 文件名称，必须\r\n *     @param  {String}  params.IfModifiedSince     当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          为指定 object 的元数据，如果设置了 IfModifiedSince ，且文件未修改，则返回一个对象，NotModified 属性为 true\r\n *     @return  {Boolean}  data.NotModified         是否在 IfModifiedSince 时间点之后未修改该 object，则为 true\r\n */\n\n\nfunction headObject(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:HeadObject',\n    method: 'HEAD',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) {\n      var statusCode = err.statusCode;\n\n      if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n        return callback(null, {\n          NotModified: true,\n          statusCode: statusCode\n        });\n      }\n\n      return callback(err);\n    }\n\n    data.ETag = util.attr(data.headers, 'etag', '');\n    callback(null, data);\n  });\n}\n\nfunction listObjectVersions(params, callback) {\n  var reqParams = {};\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['key-marker'] = params['KeyMarker'];\n  reqParams['version-id-marker'] = params['VersionIdMarker'];\n  reqParams['max-keys'] = params['MaxKeys'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketObjectVersions',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'versions'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListVersionsResult = data.ListVersionsResult || {};\n    var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\n    DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\n    var Versions = ListVersionsResult.Version || [];\n    Versions = util.isArray(Versions) ? Versions : [Versions];\n    var result = util.clone(ListVersionsResult);\n    delete result.DeleteMarker;\n    delete result.Version;\n    util.extend(result, {\n      DeleteMarkers: DeleteMarkers,\n      Versions: Versions,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 下载 object\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         文件名称，必须\r\n *     @param  {WriteStream}  params.Output                 文件写入流，非必须\r\n *     @param  {String}  params.IfModifiedSince             当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\r\n *     @param  {String}  params.IfUnmodifiedSince           如果文件修改时间早于或等于指定时间，才返回文件内容。否则返回 412 (precondition failed)，非必须\r\n *     @param  {String}  params.IfMatch                     当 ETag 与指定的内容一致，才返回文件。否则返回 412 (precondition failed)，非必须\r\n *     @param  {String}  params.IfNoneMatch                 当 ETag 与指定的内容不一致，才返回文件。否则返回304 (not modified)，非必须\r\n *     @param  {String}  params.ResponseContentType         设置返回头部中的 Content-Type 参数，非必须\r\n *     @param  {String}  params.ResponseContentLanguage     设置返回头部中的 Content-Language 参数，非必须\r\n *     @param  {String}  params.ResponseExpires             设置返回头部中的 Content-Expires 参数，非必须\r\n *     @param  {String}  params.ResponseCacheControl        设置返回头部中的 Cache-Control 参数，非必须\r\n *     @param  {String}  params.ResponseContentDisposition  设置返回头部中的 Content-Disposition 参数，非必须\r\n *     @param  {String}  params.ResponseContentEncoding     设置返回头部中的 Content-Encoding 参数，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @param  {Object}  err                                    请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                                   为对应的 object 数据，包括 body 和 headers\r\n */\n\n\nfunction getObject(params, callback) {\n  var reqParams = params.Query || {};\n  var reqParamsStr = params.QueryString || '';\n  var onProgress = util.throttleOnProgress.call(this, 0, params.onProgress);\n  var tracker = params.tracker;\n  tracker && tracker.setParams({\n    signStartTime: new Date().getTime()\n  });\n  reqParams['response-content-type'] = params['ResponseContentType'];\n  reqParams['response-content-language'] = params['ResponseContentLanguage'];\n  reqParams['response-expires'] = params['ResponseExpires'];\n  reqParams['response-cache-control'] = params['ResponseCacheControl'];\n  reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\n  reqParams['response-content-encoding'] = params['ResponseContentEncoding']; // 如果用户自己传入了 output\n\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObject',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    DataType: params.DataType,\n    headers: params.Headers,\n    qs: reqParams,\n    qsStr: reqParamsStr,\n    rawBody: true,\n    onDownloadProgress: onProgress,\n    tracker: tracker\n  }, function (err, data) {\n    onProgress(null, true);\n\n    if (err) {\n      var statusCode = err.statusCode;\n\n      if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n        return callback(null, {\n          NotModified: true\n        });\n      }\n\n      return callback(err);\n    }\n\n    callback(null, {\n      Body: data.body,\n      ETag: util.attr(data.headers, 'etag', ''),\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 上传 object\r\n * @param  {Object} params                                          参数对象，必须\r\n *     @param  {String}  params.Bucket                              Bucket名称，必须\r\n *     @param  {String}  params.Region                              地域名称，必须\r\n *     @param  {String}  params.Key                                 文件名称，必须\r\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串，必须\r\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\r\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\r\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\r\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\r\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\r\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {Function}  params.onProgress                        上传进度回调函数\r\n * @param  {Function}  callback                                     回调函数，必须\r\n * @return  {Object}  err                                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                          为对应的 object 数据\r\n *     @return  {String}  data.ETag                                 为对应上传文件的 ETag 值\r\n */\n\n\nfunction putObject(params, callback) {\n  var self = this;\n  var FileSize = params.ContentLength;\n  var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress); // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\n\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n  var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\n  var tracker = params.tracker;\n  needCalcMd5 && tracker && tracker.setParams({\n    md5StartTime: new Date().getTime()\n  });\n  util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n    if (md5) {\n      tracker && tracker.setParams({\n        md5EndTime: new Date().getTime()\n      });\n      if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.binaryBase64(md5);\n      if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\n    }\n\n    if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\n    onProgress(null, true); // 任务状态开始 uploading\n\n    submitRequest.call(self, {\n      Action: 'name/cos:PutObject',\n      TaskId: params.TaskId,\n      method: 'PUT',\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      headers: params.Headers,\n      qs: params.Query,\n      body: params.Body,\n      onProgress: onProgress,\n      tracker: tracker\n    }, function (err, data) {\n      if (err) {\n        onProgress(null, true);\n        return callback(err);\n      }\n\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      var url = getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: self.options.Protocol,\n        domain: self.options.Domain,\n        bucket: params.Bucket,\n        region: !self.options.UseAccelerate ? params.Region : 'accelerate',\n        object: params.Key\n      });\n      url = url.substr(url.indexOf('://') + 3);\n      data.Location = url;\n      data.ETag = util.attr(data.headers, 'etag', '');\n      callback(null, data);\n    });\n  }, params.onHashProgress);\n}\n/**\r\n * 删除 object\r\n * @param  {Object}  params                     参数对象，必须\r\n *     @param  {String}  params.Bucket          Bucket名称，必须\r\n *     @param  {String}  params.Region          地域名称，必须\r\n *     @param  {String}  params.Key             object名称，必须\r\n * @param  {Function}  callback                 回调函数，必须\r\n * @param  {Object}  err                        请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                       删除操作成功之后返回的数据\r\n */\n\n\nfunction deleteObject(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteObject',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    VersionId: params.VersionId,\n    action: params.Recursive ? 'recursive' : ''\n  }, function (err, data) {\n    if (err) {\n      var statusCode = err.statusCode;\n\n      if (statusCode && statusCode === 404) {\n        return callback(null, {\n          BucketNotFound: true,\n          statusCode: statusCode\n        });\n      } else {\n        return callback(err);\n      }\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 object 的 权限列表\r\n * @param  {Object}  params                         参数对象，必须\r\n *     @param  {String}  params.Bucket              Bucket名称，必须\r\n *     @param  {String}  params.Region              地域名称，必须\r\n *     @param  {String}  params.Key                 object名称，必须\r\n * @param  {Function}  callback                     回调函数，必须\r\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          返回的数据\r\n *     @return  {Object}  data.AccessControlPolicy  权限列表\r\n */\n\n\nfunction getObjectAcl(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObjectACL',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'acl'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var AccessControlPolicy = data.AccessControlPolicy || {};\n    var Owner = AccessControlPolicy.Owner || {};\n    var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n    var result = decodeAcl(AccessControlPolicy);\n    delete result.GrantWrite;\n\n    if (data.headers && data.headers['x-cos-acl']) {\n      result.ACL = data.headers['x-cos-acl'];\n    }\n\n    result = util.extend(result, {\n      Owner: Owner,\n      Grants: Grant,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 设置 object 的 权限列表\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\n\n\nfunction putObjectAcl(params, callback) {\n  var headers = params.Headers;\n  var xml = '';\n\n  if (params['AccessControlPolicy']) {\n    var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n    var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n    Grants = util.isArray(Grants) ? Grants : [Grants];\n    delete AccessControlPolicy.Grant;\n    delete AccessControlPolicy.Grants;\n    AccessControlPolicy.AccessControlList = {\n      Grant: Grants\n    };\n    xml = util.json2xml({\n      AccessControlPolicy: AccessControlPolicy\n    });\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  } // Grant Header 去重\n\n\n  util.each(headers, function (val, key) {\n    if (key.indexOf('x-cos-grant-') === 0) {\n      headers[key] = uniqGrant(headers[key]);\n    }\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:PutObjectACL',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    action: 'acl',\n    headers: headers,\n    body: xml\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * Options Object请求实现跨域访问的预请求。即发出一个 OPTIONS 请求给服务器以确认是否可以进行跨域操作。\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              返回的数据\r\n */\n\n\nfunction optionsObject(params, callback) {\n  var headers = params.Headers;\n  headers['Origin'] = params['Origin'];\n  headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\n  headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\n  submitRequest.call(this, {\n    Action: 'name/cos:OptionsObject',\n    method: 'OPTIONS',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: headers\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 403) {\n        return callback(null, {\n          OptionsForbidden: true,\n          statusCode: err.statusCode\n        });\n      }\n\n      return callback(err);\n    }\n\n    var headers = data.headers || {};\n    callback(null, {\n      AccessControlAllowOrigin: headers['access-control-allow-origin'],\n      AccessControlAllowMethods: headers['access-control-allow-methods'],\n      AccessControlAllowHeaders: headers['access-control-allow-headers'],\n      AccessControlExposeHeaders: headers['access-control-expose-headers'],\n      AccessControlMaxAge: headers['access-control-max-age'],\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * @param  {Object}                                     参数列表\r\n *     @param  {String}  Bucket                         Bucket 名称\r\n *     @param  {String}  Region                         地域名称\r\n *     @param  {String}  Key                            文件名称\r\n *     @param  {String}  CopySource                     源文件URL绝对路径，可以通过versionid子资源指定历史版本\r\n *     @param  {String}  ACL                            允许用户自定义文件权限。有效值：private，public-read默认值：private。\r\n *     @param  {String}  GrantRead                      赋予被授权者读的权限，格式 x-cos-grant-read: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  GrantWrite                     赋予被授权者写的权限，格式 x-cos-grant-write: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  GrantFullControl               赋予被授权者读写权限，格式 x-cos-grant-full-control: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\r\n *     @param  {String}  MetadataDirective              是否拷贝元数据，枚举值：Copy, Replaced，默认值Copy。假如标记为Copy，忽略Header中的用户元数据信息直接复制；假如标记为Replaced，按Header信息修改元数据。当目标路径和原路径一致，即用户试图修改元数据时，必须为Replaced\r\n *     @param  {String}  CopySourceIfModifiedSince      当Object在指定时间后被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-None-Match一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfUnmodifiedSince    当Object在指定时间后未被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-Match一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfMatch              当Object的ETag和给定一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Unmodified-Since一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  CopySourceIfNoneMatch          当Object的ETag和给定不一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Modified-Since一起使用，与其他条件联合使用返回冲突。\r\n *     @param  {String}  StorageClass                   存储级别，枚举值：存储级别，枚举值：Standard, Standard_IA，Archive；默认值：Standard\r\n *     @param  {String}  CacheControl                   指定所有缓存机制在整个请求/响应链中必须服从的指令。\r\n *     @param  {String}  ContentDisposition             MIME 协议的扩展，MIME 协议指示 MIME 用户代理如何显示附加的文件\r\n *     @param  {String}  ContentEncoding                HTTP 中用来对「采用何种编码格式传输正文」进行协定的一对头部字段\r\n *     @param  {String}  ContentLength                  设置响应消息的实体内容的大小，单位为字节\r\n *     @param  {String}  ContentType                    RFC 2616 中定义的 HTTP 请求内容类型（MIME），例如text/plain\r\n *     @param  {String}  Expect                         请求的特定的服务器行为\r\n *     @param  {String}  Expires                        响应过期的日期和时间\r\n *     @param  {String}  params.ServerSideEncryption   支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {String}  ContentLanguage                指定内容语言\r\n *     @param  {String}  x-cos-meta-*                   允许用户自定义的头部信息，将作为 Object 元数据返回。大小限制2K。\r\n */\n\n\nfunction putObjectCopy(params, callback) {\n  // 特殊处理 Cache-Control\n  var self = this;\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  var CopySource = params.CopySource || '';\n  var m = util.getSourceParams.call(this, CopySource);\n\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n\n  var SourceBucket = m[1];\n  var SourceRegion = m[3];\n  var SourceKey = decodeURIComponent(m[4]);\n  submitRequest.call(this, {\n    Scope: [{\n      action: 'name/cos:GetObject',\n      bucket: SourceBucket,\n      region: SourceRegion,\n      prefix: SourceKey\n    }, {\n      action: 'name/cos:PutObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: params.Key\n    }],\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var result = util.clone(data.CopyObjectResult || {});\n    var url = getUrl({\n      ForcePathStyle: self.options.ForcePathStyle,\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      object: params.Key,\n      isLocation: true\n    });\n    util.extend(result, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\nfunction uploadPartCopy(params, callback) {\n  var CopySource = params.CopySource || '';\n  var m = util.getSourceParams.call(this, CopySource);\n\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n\n  var SourceBucket = m[1];\n  var SourceRegion = m[3];\n  var SourceKey = decodeURIComponent(m[4]);\n  submitRequest.call(this, {\n    Scope: [{\n      action: 'name/cos:GetObject',\n      bucket: SourceBucket,\n      region: SourceRegion,\n      prefix: SourceKey\n    }, {\n      action: 'name/cos:PutObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: params.Key\n    }],\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    qs: {\n      partNumber: params['PartNumber'],\n      uploadId: params['UploadId']\n    },\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var result = util.clone(data.CopyPartResult || {});\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\nfunction deleteMultipleObject(params, callback) {\n  var Objects = params.Objects || [];\n  var Quiet = params.Quiet;\n  Objects = util.isArray(Objects) ? Objects : [Objects];\n  var xml = util.json2xml({\n    Delete: {\n      Object: Objects,\n      Quiet: Quiet || false\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  var Scope = util.map(Objects, function (v) {\n    return {\n      action: 'name/cos:DeleteObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: v.Key\n    };\n  });\n  submitRequest.call(this, {\n    Scope: Scope,\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'delete',\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var DeleteResult = data.DeleteResult || {};\n    var Deleted = DeleteResult.Deleted || [];\n    var Errors = DeleteResult.Error || [];\n    Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\n    Errors = util.isArray(Errors) ? Errors : [Errors];\n    var result = util.clone(DeleteResult);\n    util.extend(result, {\n      Error: Errors,\n      Deleted: Deleted,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\nfunction restoreObject(params, callback) {\n  var headers = params.Headers;\n\n  if (!params['RestoreRequest']) {\n    callback(util.error(new Error('missing param RestoreRequest')));\n    return;\n  }\n\n  var RestoreRequest = params.RestoreRequest || {};\n  var xml = util.json2xml({\n    RestoreRequest: RestoreRequest\n  });\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:RestoreObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    body: xml,\n    action: 'restore',\n    headers: headers\n  }, callback);\n}\n/**\r\n * 设置 Object 的标签\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Object名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n *     @param  {Array}   params.TagSet  标签设置，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction putObjectTagging(params, callback) {\n  var Tagging = params['Tagging'] || {};\n  var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n  Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n  var xml = util.json2xml({\n    Tagging: {\n      TagSet: {\n        Tag: Tags\n      }\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutObjectTagging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Key: params.Key,\n    Region: params.Region,\n    body: xml,\n    action: 'tagging',\n    headers: headers,\n    VersionId: params.VersionId\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 获取 Object 的标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Bucket名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              返回数据\r\n */\n\n\nfunction getObjectTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObjectTagging',\n    method: 'GET',\n    Key: params.Key,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging',\n    VersionId: params.VersionId\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n        var result = {\n          Tags: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Tags = [];\n\n    try {\n      Tags = data.Tagging.TagSet.Tag || [];\n    } catch (e) {}\n\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    callback(null, {\n      Tags: Tags,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 删除 Object 的 标签设置\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Bucket  Object名称，必须\r\n *     @param  {String}  params.Region  地域名称，必须\r\n * @param  {Function}  callback         回调函数，必须\r\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              返回的数据\r\n */\n\n\nfunction deleteObjectTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteObjectTagging',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'tagging',\n    VersionId: params.VersionId\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 使用 SQL 语句从指定对象（CSV 格式或者 JSON 格式）中检索内容\r\n * @param  {Object}  params                   参数对象，必须\r\n *     @param  {String}  params.Bucket        Object名称，必须\r\n *     @param  {String}  params.Region        地域名称，必须\r\n *     @param  {Object}  params.SelectRequest 地域名称，必须\r\n * @param  {Function}  callback               回调函数，必须\r\n * @return  {Object}  err                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data                    返回的数据\r\n */\n\n\nfunction selectObjectContent(params, callback) {\n  var SelectType = params['SelectType'];\n  if (!SelectType) return callback(util.error(new Error('missing param SelectType')));\n  var SelectRequest = params['SelectRequest'] || {};\n  var xml = util.json2xml({\n    SelectRequest: SelectRequest\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'select',\n    qs: {\n      'select-type': params['SelectType']\n    },\n    VersionId: params.VersionId,\n    body: xml,\n    DataType: 'arraybuffer',\n    rawBody: true\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    var result = util.parseSelectPayload(data.body);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers,\n      Body: result.body,\n      Payload: result.payload\n    });\n  });\n} // 分块上传\n\n/**\r\n * 初始化分块上传\r\n * @param  {Object}  params                                     参数对象，必须\r\n *     @param  {String}  params.Bucket                          Bucket名称，必须\r\n *     @param  {String}  params.Region                          地域名称，必须\r\n *     @param  {String}  params.Key                             object名称，必须\r\n *     @param  {String}  params.UploadId                        object名称，必须\r\n *     @param  {String}  params.CacheControl                    RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition              RFC 2616 中定义的文件名称，将作为 Object 元数据保存    ，非必须\r\n *     @param  {String}  params.ContentEncoding                 RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentType                     RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expires                         RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                             允许用户自定义文件权限，非必须\r\n *     @param  {String}  params.GrantRead                       赋予被授权者读的权限 ，非必须\r\n *     @param  {String}  params.GrantWrite                      赋予被授权者写的权限 ，非必须\r\n *     @param  {String}  params.GrantFullControl                赋予被授权者读写权限 ，非必须\r\n *     @param  {String}  params.StorageClass                    设置Object的存储级别，枚举值：Standard，Standard_IA，Archive，非必须\r\n *     @param  {String}  params.ServerSideEncryption           支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n * @param  {Function}  callback                                 回调函数，必须\r\n * @return  {Object}  err                                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                      返回的数据\r\n */\n\n\nfunction multipartInit(params, callback) {\n  var self = this; // 特殊处理 Cache-Control\n\n  var headers = params.Headers;\n  var tracker = params.tracker; // 特殊处理 Cache-Control、Content-Type\n\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n  var needCalcMd5 = params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5);\n  needCalcMd5 && tracker && tracker.setParams({\n    md5StartTime: new Date().getTime()\n  });\n  util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n    if (md5) params.Headers['x-cos-meta-md5'] = md5;\n    needCalcMd5 && tracker && tracker.setParams({\n      md5EndTime: new Date().getTime()\n    });\n    submitRequest.call(self, {\n      Action: 'name/cos:InitiateMultipartUpload',\n      method: 'POST',\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      action: 'uploads',\n      headers: params.Headers,\n      qs: params.Query,\n      tracker: tracker\n    }, function (err, data) {\n      if (err) {\n        tracker && tracker.parent && tracker.parent.setParams({\n          errorNode: 'multipartInit'\n        });\n        return callback(err);\n      }\n\n      data = util.clone(data || {});\n\n      if (data && data.InitiateMultipartUploadResult) {\n        return callback(null, util.extend(data.InitiateMultipartUploadResult, {\n          statusCode: data.statusCode,\n          headers: data.headers\n        }));\n      }\n\n      callback(null, data);\n    });\n  }, params.onHashProgress);\n}\n/**\r\n * 分块上传\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         object名称，必须\r\n *     @param  {File || Blob || String}  params.Body        上传文件对象或字符串\r\n *     @param  {String} params.ContentLength                RFC 2616 中定义的 HTTP 请求内容长度（字节），非必须\r\n *     @param  {String} params.Expect                       当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String} params.ServerSideEncryption         支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n *     @param  {String} params.ContentSha1                  RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验值，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n *     @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}  data                              返回的数据\r\n *     @return  {Object}  data.ETag                         返回的文件分块 sha1 值\r\n */\n\n\nfunction multipartUpload(params, callback) {\n  var self = this;\n  util.getFileSize('multipartUpload', params, function () {\n    var tracker = params.tracker;\n    var needCalcMd5 = self.options.UploadCheckContentMd5;\n    needCalcMd5 && tracker && tracker.setParams({\n      md5StartTime: new Date().getTime()\n    });\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n      if (md5) params.Headers['Content-MD5'] = util.binaryBase64(md5);\n      needCalcMd5 && tracker && tracker.setParams({\n        md5EndTime: new Date().getTime()\n      });\n      tracker && tracker.setParams({\n        partNumber: params.PartNumber\n      });\n      submitRequest.call(self, {\n        Action: 'name/cos:UploadPart',\n        TaskId: params.TaskId,\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        qs: {\n          partNumber: params['PartNumber'],\n          uploadId: params['UploadId']\n        },\n        headers: params.Headers,\n        onProgress: params.onProgress,\n        body: params.Body || null,\n        tracker: tracker\n      }, function (err, data) {\n        if (err) {\n          tracker && tracker.parent && tracker.parent.setParams({\n            errorNode: 'multipartUpload'\n          });\n          return callback(err);\n        }\n\n        callback(null, {\n          ETag: util.attr(data.headers, 'etag', ''),\n          statusCode: data.statusCode,\n          headers: data.headers\n        });\n      });\n    });\n  });\n}\n/**\r\n * 完成分块上传\r\n * @param  {Object}  params                             参数对象，必须\r\n *     @param  {String}  params.Bucket                  Bucket名称，必须\r\n *     @param  {String}  params.Region                  地域名称，必须\r\n *     @param  {String}  params.Key                     object名称，必须\r\n *     @param  {Array}   params.Parts                   分块信息列表，必须\r\n *     @param  {String}  params.Parts[i].PartNumber     块编号，必须\r\n *     @param  {String}  params.Parts[i].ETag           分块的 sha1 校验值\r\n * @param  {Function}  callback                         回调函数，必须\r\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              返回的数据\r\n *     @return  {Object}  data.CompleteMultipartUpload  完成分块上传后的文件信息，包括Location, Bucket, Key 和 ETag\r\n */\n\n\nfunction multipartComplete(params, callback) {\n  var self = this;\n  var UploadId = params.UploadId;\n  var Parts = params['Parts'];\n  var tracker = params.tracker;\n\n  for (var i = 0, len = Parts.length; i < len; i++) {\n    if (Parts[i]['ETag'] && Parts[i]['ETag'].indexOf('\"') === 0) {\n      continue;\n    }\n\n    Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\n  }\n\n  var xml = util.json2xml({\n    CompleteMultipartUpload: {\n      Part: Parts\n    }\n  }); // CSP/ceph CompleteMultipartUpload 接口 body 写死了限制 1MB，这里醉倒 10000 片时，xml 字符串去掉空格853KB\n\n  xml = xml.replace(/\\n\\s*/g, '');\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:CompleteMultipartUpload',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    qs: {\n      uploadId: UploadId\n    },\n    body: xml,\n    headers: headers,\n    tracker: tracker\n  }, function (err, data) {\n    if (err) {\n      tracker && tracker.parent && tracker.parent.setParams({\n        errorNode: 'multipartComplete'\n      });\n      return callback(err);\n    }\n\n    var url = getUrl({\n      ForcePathStyle: self.options.ForcePathStyle,\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      object: params.Key,\n      isLocation: true\n    });\n    var res = data.CompleteMultipartUploadResult || {};\n\n    if (res.ProcessResults) {\n      if (res && res.ProcessResults) {\n        res.UploadResult = {\n          OriginalInfo: {\n            Key: res.Key,\n            Location: url,\n            ETag: res.ETag,\n            ImageInfo: res.ImageInfo\n          },\n          ProcessResults: res.ProcessResults\n        };\n        delete res.ImageInfo;\n        delete res.ProcessResults;\n      }\n    }\n\n    var result = util.extend(res, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 分块上传任务列表查询\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Delimiter                   定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，定义为Common Prefix，然后列出所有Common Prefix。如果没有Prefix，则从路径起点开始，非必须\r\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\r\n *     @param  {String}  params.Prefix                      前缀匹配，用来规定返回的文件前缀地址，非必须\r\n *     @param  {String}  params.MaxUploads                  单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.KeyMarker                   与upload-id-marker一起使用 </Br>当upload-id-marker未被指定时，ObjectName字母顺序大于key-marker的条目将被列出 </Br>当upload-id-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\r\n *     @param  {String}  params.UploadIdMarker              与key-marker一起使用 </Br>当key-marker未被指定时，upload-id-marker将被忽略 </Br>当key-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  返回的数据\r\n *     @return  {Object}  data.ListMultipartUploadsResult   分块上传任务信息\r\n */\n\n\nfunction multipartList(params, callback) {\n  var reqParams = {};\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['max-uploads'] = params['MaxUploads'];\n  reqParams['key-marker'] = params['KeyMarker'];\n  reqParams['upload-id-marker'] = params['UploadIdMarker'];\n  reqParams = util.clearKey(reqParams);\n  var tracker = params.tracker;\n  tracker && tracker.setParams({\n    signStartTime: new Date().getTime()\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:ListMultipartUploads',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'uploads',\n    tracker: tracker\n  }, function (err, data) {\n    if (err) {\n      tracker && tracker.parent && tracker.parent.setParams({\n        errorNode: 'multipartList'\n      });\n      return callback(err);\n    }\n\n    if (data && data.ListMultipartUploadsResult) {\n      var Upload = data.ListMultipartUploadsResult.Upload || [];\n      Upload = util.isArray(Upload) ? Upload : [Upload];\n      data.ListMultipartUploadsResult.Upload = Upload;\n    }\n\n    var result = util.clone(data.ListMultipartUploadsResult || {});\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 上传的分块列表查询\r\n * @param  {Object}  params                                 参数对象，必须\r\n *     @param  {String}  params.Bucket                      Bucket名称，必须\r\n *     @param  {String}  params.Region                      地域名称，必须\r\n *     @param  {String}  params.Key                         object名称，必须\r\n *     @param  {String}  params.UploadId                    标示本次分块上传的ID，必须\r\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\r\n *     @param  {String}  params.MaxParts                    单次返回最大的条目数量，默认1000，非必须\r\n *     @param  {String}  params.PartNumberMarker            默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\r\n * @param  {Function}  callback                             回调函数，必须\r\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  返回的数据\r\n *     @return  {Object}  data.ListMultipartUploadsResult   分块信息\r\n */\n\n\nfunction multipartListPart(params, callback) {\n  var reqParams = {};\n  var tracker = params.tracker;\n  reqParams['uploadId'] = params['UploadId'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  reqParams['max-parts'] = params['MaxParts'];\n  reqParams['part-number-marker'] = params['PartNumberMarker'];\n  submitRequest.call(this, {\n    Action: 'name/cos:ListParts',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams\n  }, function (err, data) {\n    if (err) {\n      tracker && tracker.parent && tracker.parent.setParams({\n        errorNode: 'multipartListPart'\n      });\n      return callback(err);\n    }\n\n    var ListPartsResult = data.ListPartsResult || {};\n    var Part = ListPartsResult.Part || [];\n    Part = util.isArray(Part) ? Part : [Part];\n    ListPartsResult.Part = Part;\n    var result = util.clone(ListPartsResult);\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\r\n * 抛弃分块上传\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\n\n\nfunction multipartAbort(params, callback) {\n  var reqParams = {};\n  reqParams['uploadId'] = params['UploadId'];\n  submitRequest.call(this, {\n    Action: 'name/cos:AbortMultipartUpload',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\r\n * 抛弃分块上传\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\n\n\nfunction request(params, callback) {\n  submitRequest.call(this, {\n    method: params.Method,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    action: params.Action,\n    headers: params.Headers,\n    qs: params.Query,\n    body: params.Body,\n    Url: params.Url,\n    rawBody: params.RawBody,\n    DataType: params.DataType\n  }, function (err, data) {\n    if (err) return callback(err);\n\n    if (data && data.body) {\n      data.Body = data.body;\n      delete data.body;\n    }\n\n    callback(err, data);\n  });\n}\n/**\r\n * 追加上传\r\n * @param  {Object}  params                                         参数对象，必须\r\n *     @param  {String}  params.Bucket                              Bucket名称，必须\r\n *     @param  {String}  params.Region                              地域名称，必须\r\n *     @param  {String}  params.Key                                 object名称，必须\r\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串\r\n *     @param  {Number}  params.Position                            追加操作的起始点，单位为字节，必须\r\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\r\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\r\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\r\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\r\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\r\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\r\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\r\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\r\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\r\n * @param  {Function}  callback                                     回调函数，必须\r\n *     @return  {Object}    err                                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data                                    返回的数据\r\n */\n\n\nfunction appendObject(params, callback) {\n  // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n  submitRequest.call(this, {\n    Action: 'name/cos:AppendObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'append',\n    Key: params.Key,\n    body: params.Body,\n    qs: {\n      position: params.Position\n    },\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, data);\n  });\n}\n/**\r\n * 获取签名\r\n * @param  {Object}  params             参数对象，必须\r\n *     @param  {String}  params.Method  请求方法，必须\r\n *     @param  {String}  params.Key     object名称，必须\r\n *     @param  {String}  params.Expires 名超时时间，单位秒，可选\r\n * @return  {String}  data              返回签名字符串\r\n */\n\n\nfunction getAuth(params) {\n  var self = this;\n  return util.getAuth({\n    SecretId: params.SecretId || this.options.SecretId || '',\n    SecretKey: params.SecretKey || this.options.SecretKey || '',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Method: params.Method,\n    Key: params.Key,\n    Query: params.Query,\n    Headers: params.Headers,\n    Expires: params.Expires,\n    UseRawKey: self.options.UseRawKey,\n    SystemClockOffset: self.options.SystemClockOffset\n  });\n}\n/**\r\n * 获取文件下载链接\r\n * @param  {Object}  params                 参数对象，必须\r\n *     @param  {String}  params.Bucket      Bucket名称，必须\r\n *     @param  {String}  params.Region      地域名称，必须\r\n *     @param  {String}  params.Key         object名称，必须\r\n *     @param  {String}  params.Method      请求的方法，可选\r\n *     @param  {String}  params.Expires     签名超时时间，单位秒，可选\r\n * @param  {Function}  callback             回调函数，必须\r\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            返回的数据\r\n */\n\n\nfunction getObjectUrl(params, callback) {\n  var self = this;\n  var useAccelerate = params.UseAccelerate === undefined ? self.options.UseAccelerate : params.UseAccelerate;\n  var url = getUrl({\n    ForcePathStyle: self.options.ForcePathStyle,\n    protocol: params.Protocol || self.options.Protocol,\n    domain: params.Domain || self.options.Domain,\n    bucket: params.Bucket,\n    region: useAccelerate ? 'accelerate' : params.Region,\n    object: params.Key\n  });\n  var queryParamsStr = '';\n\n  if (params.Query) {\n    queryParamsStr += util.obj2str(params.Query);\n  }\n\n  if (params.QueryString) {\n    queryParamsStr += (queryParamsStr ? '&' : '') + params.QueryString;\n  }\n\n  var syncUrl = url;\n\n  if (params.Sign !== undefined && !params.Sign) {\n    queryParamsStr && (syncUrl += '?' + queryParamsStr);\n    callback(null, {\n      Url: syncUrl\n    });\n    return syncUrl;\n  } // 签名加上 Host，避免跨桶访问\n\n\n  var SignHost = getSignHost.call(this, {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    UseAccelerate: params.UseAccelerate,\n    Url: url\n  });\n  var AuthData = getAuthorizationAsync.call(this, {\n    Action: (params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject',\n    Bucket: params.Bucket || '',\n    Region: params.Region || '',\n    Method: params.Method || 'get',\n    Key: params.Key,\n    Expires: params.Expires,\n    Headers: params.Headers,\n    Query: params.Query,\n    SignHost: SignHost,\n    ForceSignHost: params.ForceSignHost === false ? false : self.options.ForceSignHost // getObjectUrl支持传参ForceSignHost\n\n  }, function (err, AuthData) {\n    if (!callback) return;\n\n    if (err) {\n      callback(err);\n      return;\n    } // 兼容万象url qUrlParamList需要再encode一次\n\n\n    var replaceUrlParamList = function replaceUrlParamList(url) {\n      var urlParams = url.match(/q-url-param-list.*?(?=&)/g)[0];\n      var encodedParams = 'q-url-param-list=' + encodeURIComponent(urlParams.replace(/q-url-param-list=/, '')).toLowerCase();\n      var reg = new RegExp(urlParams, 'g');\n      var replacedUrl = url.replace(reg, encodedParams);\n      return replacedUrl;\n    };\n\n    var signUrl = url;\n    signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ? replaceUrlParamList(AuthData.Authorization) : 'sign=' + encodeURIComponent(AuthData.Authorization));\n    AuthData.SecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.SecurityToken);\n    AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\n    AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\n    AuthData.Token && (signUrl += '&token=' + AuthData.Token);\n    queryParamsStr && (signUrl += '&' + queryParamsStr);\n    setTimeout(function () {\n      callback(null, {\n        Url: signUrl\n      });\n    });\n  });\n\n  if (AuthData) {\n    syncUrl += '?' + AuthData.Authorization + (AuthData.SecurityToken ? '&x-cos-security-token=' + AuthData.SecurityToken : '');\n    queryParamsStr && (syncUrl += '&' + queryParamsStr);\n  } else {\n    queryParamsStr && (syncUrl += '?' + queryParamsStr);\n  }\n\n  return syncUrl;\n}\n/**\r\n * 私有方法\r\n */\n\n\nfunction decodeAcl(AccessControlPolicy) {\n  var result = {\n    GrantFullControl: [],\n    GrantWrite: [],\n    GrantRead: [],\n    GrantReadAcp: [],\n    GrantWriteAcp: [],\n    ACL: ''\n  };\n  var GrantMap = {\n    'FULL_CONTROL': 'GrantFullControl',\n    'WRITE': 'GrantWrite',\n    'READ': 'GrantRead',\n    'READ_ACP': 'GrantReadAcp',\n    'WRITE_ACP': 'GrantWriteAcp'\n  };\n  var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\n  var Grant = AccessControlList.Grant;\n\n  if (Grant) {\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n  }\n\n  var PublicAcl = {\n    READ: 0,\n    WRITE: 0,\n    FULL_CONTROL: 0\n  };\n  Grant && Grant.length && util.each(Grant, function (item) {\n    if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\n      PublicAcl[item.Permission] = 1;\n    } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\n      result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\n    }\n  });\n\n  if (PublicAcl.FULL_CONTROL || PublicAcl.WRITE && PublicAcl.READ) {\n    result.ACL = 'public-read-write';\n  } else if (PublicAcl.READ) {\n    result.ACL = 'public-read';\n  } else {\n    result.ACL = 'private';\n  }\n\n  util.each(GrantMap, function (item) {\n    result[item] = uniqGrant(result[item].join(','));\n  });\n  return result;\n} // Grant 去重\n\n\nfunction uniqGrant(str) {\n  var arr = str.split(',');\n  var exist = {};\n  var i, item;\n\n  for (i = 0; i < arr.length;) {\n    item = arr[i].trim();\n\n    if (exist[item]) {\n      arr.splice(i, 1);\n    } else {\n      exist[item] = true;\n      arr[i] = item;\n      i++;\n    }\n  }\n\n  return arr.join(',');\n} // 生成操作 url\n\n\nfunction getUrl(params) {\n  var region = params.region || '';\n  var longBucket = params.bucket || '';\n  var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\n  var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\n  var domain = params.domain;\n  var object = params.object;\n\n  if (typeof domain === 'function') {\n    domain = domain({\n      Bucket: longBucket,\n      Region: region\n    });\n  }\n\n  var protocol = params.protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n\n  if (!domain) {\n    if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\n      domain = '{Region}.myqcloud.com';\n    } else {\n      domain = 'cos.{Region}.myqcloud.com';\n    }\n\n    if (!params.ForcePathStyle) {\n      domain = '{Bucket}.' + domain;\n    }\n  }\n\n  domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId).replace(/\\{\\{Bucket\\}\\}/ig, shortBucket).replace(/\\{\\{Region\\}\\}/ig, region).replace(/\\{\\{.*?\\}\\}/ig, '');\n  domain = domain.replace(/\\{AppId\\}/ig, appId).replace(/\\{BucketName\\}/ig, shortBucket).replace(/\\{Bucket\\}/ig, longBucket).replace(/\\{Region\\}/ig, region).replace(/\\{.*?\\}/ig, '');\n\n  if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n    domain = protocol + '//' + domain;\n  } // 去掉域名最后的斜杆\n\n\n  if (domain.slice(-1) === '/') {\n    domain = domain.slice(0, -1);\n  }\n\n  var url = domain;\n\n  if (params.ForcePathStyle) {\n    url += '/' + longBucket;\n  }\n\n  url += '/';\n\n  if (object) {\n    url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\n  }\n\n  if (params.isLocation) {\n    url = url.replace(/^https?:\\/\\//, '');\n  }\n\n  return url;\n}\n\nvar getSignHost = function getSignHost(opt) {\n  if (!opt.Bucket || !opt.Region) return '';\n  var useAccelerate = opt.UseAccelerate === undefined ? this.options.UseAccelerate : opt.UseAccelerate;\n  var url = opt.Url || getUrl({\n    ForcePathStyle: this.options.ForcePathStyle,\n    protocol: this.options.Protocol,\n    domain: this.options.Domain,\n    bucket: opt.Bucket,\n    region: useAccelerate ? 'accelerate' : opt.Region\n  });\n  var urlHost = url.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n  var standardHostReg = new RegExp('^([a-z\\\\d-]+-\\\\d+\\\\.)?(cos|cosv6|ci|pic)\\\\.([a-z\\\\d-]+)\\\\.myqcloud\\\\.com$');\n  if (standardHostReg.test(urlHost)) return urlHost;\n  return '';\n}; // 异步获取签名\n\n\nfunction getAuthorizationAsync(params, callback) {\n  var headers = util.clone(params.Headers);\n  var headerHost = '';\n  util.each(headers, function (v, k) {\n    (v === '' || ['content-type', 'cache-control', 'expires'].indexOf(k.toLowerCase()) > -1) && delete headers[k];\n    if (k.toLowerCase() === 'host') headerHost = v;\n  }); // ForceSignHost明确传入false才不加入host签名\n\n  var forceSignHost = params.ForceSignHost === false ? false : true; // Host 加入签名计算\n\n  if (!headerHost && params.SignHost && forceSignHost) headers.Host = params.SignHost; // 获取凭证的回调，避免用户 callback 多次\n\n  var cbDone = false;\n\n  var cb = function cb(err, AuthData) {\n    if (cbDone) return;\n    cbDone = true;\n\n    if (AuthData && AuthData.XCosSecurityToken && !AuthData.SecurityToken) {\n      AuthData = util.clone(AuthData);\n      AuthData.SecurityToken = AuthData.XCosSecurityToken;\n      delete AuthData.XCosSecurityToken;\n    }\n\n    callback && callback(err, AuthData);\n  };\n\n  var self = this;\n  var Bucket = params.Bucket || '';\n  var Region = params.Region || ''; // PathName\n\n  var KeyName = params.Key || '';\n\n  if (self.options.ForcePathStyle && Bucket) {\n    KeyName = Bucket + '/' + KeyName;\n  }\n\n  var Pathname = '/' + KeyName; // Action、ResourceKey\n\n  var StsData = {};\n  var Scope = params.Scope;\n\n  if (!Scope) {\n    var Action = params.Action || '';\n    var ResourceKey = params.ResourceKey || params.Key || '';\n    Scope = params.Scope || [{\n      action: Action,\n      bucket: Bucket,\n      region: Region,\n      prefix: ResourceKey\n    }];\n  }\n\n  var ScopeKey = util.md5(JSON.stringify(Scope)); // STS\n\n  self._StsCache = self._StsCache || [];\n\n  (function () {\n    var i, AuthData;\n\n    for (i = self._StsCache.length - 1; i >= 0; i--) {\n      AuthData = self._StsCache[i];\n      var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\n\n      if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\n        self._StsCache.splice(i, 1);\n\n        continue;\n      }\n\n      if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\n        StsData = AuthData;\n        break;\n      }\n    }\n  })();\n\n  var calcAuthByTmpKey = function calcAuthByTmpKey() {\n    var KeyTime = '';\n    if (StsData.StartTime && params.Expires) KeyTime = StsData.StartTime + ';' + (StsData.StartTime + params.Expires * 1);else if (StsData.StartTime && StsData.ExpiredTime) KeyTime = StsData.StartTime + ';' + StsData.ExpiredTime;\n    var Authorization = util.getAuth({\n      SecretId: StsData.TmpSecretId,\n      SecretKey: StsData.TmpSecretKey,\n      Method: params.Method,\n      Pathname: Pathname,\n      Query: params.Query,\n      Headers: headers,\n      Expires: params.Expires,\n      UseRawKey: self.options.UseRawKey,\n      SystemClockOffset: self.options.SystemClockOffset,\n      KeyTime: KeyTime,\n      ForceSignHost: forceSignHost\n    });\n    var AuthData = {\n      Authorization: Authorization,\n      SecurityToken: StsData.SecurityToken || StsData.XCosSecurityToken || '',\n      Token: StsData.Token || '',\n      ClientIP: StsData.ClientIP || '',\n      ClientUA: StsData.ClientUA || ''\n    };\n    cb(null, AuthData);\n  };\n\n  var checkAuthError = function checkAuthError(AuthData) {\n    if (AuthData.Authorization) {\n      // 检查签名格式\n      var formatAllow = false;\n      var auth = AuthData.Authorization;\n\n      if (auth) {\n        if (auth.indexOf(' ') > -1) {\n          formatAllow = false;\n        } else if (auth.indexOf('q-sign-algorithm=') > -1 && auth.indexOf('q-ak=') > -1 && auth.indexOf('q-sign-time=') > -1 && auth.indexOf('q-key-time=') > -1 && auth.indexOf('q-url-param-list=') > -1) {\n          formatAllow = true;\n        } else {\n          try {\n            auth = atob(auth);\n\n            if (auth.indexOf('a=') > -1 && auth.indexOf('k=') > -1 && auth.indexOf('t=') > -1 && auth.indexOf('r=') > -1 && auth.indexOf('b=') > -1) {\n              formatAllow = true;\n            }\n          } catch (e) {}\n        }\n      }\n\n      if (!formatAllow) return util.error(new Error('getAuthorization callback params format error'));\n    } else {\n      if (!AuthData.TmpSecretId) return util.error(new Error('getAuthorization callback params missing \"TmpSecretId\"'));\n      if (!AuthData.TmpSecretKey) return util.error(new Error('getAuthorization callback params missing \"TmpSecretKey\"'));\n      if (!AuthData.SecurityToken && !AuthData.XCosSecurityToken) return util.error(new Error('getAuthorization callback params missing \"SecurityToken\"'));\n      if (!AuthData.ExpiredTime) return util.error(new Error('getAuthorization callback params missing \"ExpiredTime\"'));\n      if (AuthData.ExpiredTime && AuthData.ExpiredTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"ExpiredTime\" should be 10 digits'));\n      if (AuthData.StartTime && AuthData.StartTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"StartTime\" should be 10 StartTime'));\n    }\n\n    return false;\n  }; // 先判断是否有临时密钥\n\n\n  if (StsData.ExpiredTime && StsData.ExpiredTime - util.getSkewTime(self.options.SystemClockOffset) / 1000 > 60) {\n    // 如果缓存的临时密钥有效，并还有超过60秒有效期就直接使用\n    calcAuthByTmpKey();\n  } else if (self.options.getAuthorization) {\n    // 外部计算签名或获取临时密钥\n    self.options.getAuthorization.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Method: params.Method,\n      Key: KeyName,\n      Pathname: Pathname,\n      Query: params.Query,\n      Headers: headers,\n      Scope: Scope,\n      SystemClockOffset: self.options.SystemClockOffset,\n      ForceSignHost: forceSignHost\n    }, function (AuthData) {\n      if (typeof AuthData === 'string') AuthData = {\n        Authorization: AuthData\n      };\n      var AuthError = checkAuthError(AuthData);\n      if (AuthError) return cb(AuthError);\n\n      if (AuthData.Authorization) {\n        cb(null, AuthData);\n      } else {\n        StsData = AuthData || {};\n        StsData.Scope = Scope;\n        StsData.ScopeKey = ScopeKey;\n\n        self._StsCache.push(StsData);\n\n        calcAuthByTmpKey();\n      }\n    });\n  } else if (self.options.getSTS) {\n    // 外部获取临时密钥\n    self.options.getSTS.call(self, {\n      Bucket: Bucket,\n      Region: Region\n    }, function (data) {\n      StsData = data || {};\n      StsData.Scope = Scope;\n      StsData.ScopeKey = ScopeKey;\n      if (!StsData.TmpSecretId) StsData.TmpSecretId = StsData.SecretId;\n      if (!StsData.TmpSecretKey) StsData.TmpSecretKey = StsData.SecretKey;\n      var AuthError = checkAuthError(StsData);\n      if (AuthError) return cb(AuthError);\n\n      self._StsCache.push(StsData);\n\n      calcAuthByTmpKey();\n    });\n  } else {\n    // 内部计算获取签名\n    return function () {\n      var Authorization = util.getAuth({\n        SecretId: params.SecretId || self.options.SecretId,\n        SecretKey: params.SecretKey || self.options.SecretKey,\n        Method: params.Method,\n        Pathname: Pathname,\n        Query: params.Query,\n        Headers: headers,\n        Expires: params.Expires,\n        UseRawKey: self.options.UseRawKey,\n        SystemClockOffset: self.options.SystemClockOffset,\n        ForceSignHost: forceSignHost\n      });\n      var AuthData = {\n        Authorization: Authorization,\n        SecurityToken: self.options.SecurityToken || self.options.XCosSecurityToken\n      };\n      cb(null, AuthData);\n      return AuthData;\n    }();\n  }\n\n  return '';\n} // 调整时间偏差\n\n\nfunction allowRetry(err) {\n  var allowRetry = false;\n  var isTimeError = false;\n  var serverDate = err.headers && (err.headers.date || err.headers.Date) || err.error && err.error.ServerTime;\n\n  try {\n    var errorCode = err.error.Code;\n    var errorMessage = err.error.Message;\n\n    if (errorCode === 'RequestTimeTooSkewed' || errorCode === 'AccessDenied' && errorMessage === 'Request has expired') {\n      isTimeError = true;\n    }\n  } catch (e) {}\n\n  if (err) {\n    if (isTimeError && serverDate) {\n      var serverTime = Date.parse(serverDate);\n\n      if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\n        console.error('error: Local time is too skewed.');\n        this.options.SystemClockOffset = serverTime - Date.now();\n        allowRetry = true;\n      }\n    } else if (Math.floor(err.statusCode / 100) === 5) {\n      allowRetry = true;\n    }\n  }\n\n  return allowRetry;\n} // 获取签名并发起请求\n\n\nfunction submitRequest(params, callback) {\n  var self = this; // 处理 headers\n\n  !params.headers && (params.headers = {}); // 处理 query\n\n  !params.qs && (params.qs = {});\n  params.VersionId && (params.qs.versionId = params.VersionId);\n  params.qs = util.clearKey(params.qs); // 清理 undefined 和 null 字段\n\n  params.headers && (params.headers = util.clearKey(params.headers));\n  params.qs && (params.qs = util.clearKey(params.qs));\n  var Query = util.clone(params.qs);\n  params.action && (Query[params.action] = '');\n  var paramsUrl = params.url || params.Url;\n  var SignHost = params.SignHost || getSignHost.call(this, {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Url: paramsUrl\n  });\n  var tracker = params.tracker;\n\n  var next = function next(tryTimes) {\n    var oldClockOffset = self.options.SystemClockOffset;\n    tracker && tracker.setParams({\n      signStartTime: new Date().getTime(),\n      retryTimes: tryTimes - 1\n    });\n    getAuthorizationAsync.call(self, {\n      Bucket: params.Bucket || '',\n      Region: params.Region || '',\n      Method: params.method,\n      Key: params.Key,\n      Query: Query,\n      Headers: params.headers,\n      SignHost: SignHost,\n      Action: params.Action,\n      ResourceKey: params.ResourceKey,\n      Scope: params.Scope,\n      ForceSignHost: self.options.ForceSignHost\n    }, function (err, AuthData) {\n      if (err) {\n        callback(err);\n        return;\n      }\n\n      tracker && tracker.setParams({\n        signEndTime: new Date().getTime(),\n        httpStartTime: new Date().getTime()\n      });\n      params.AuthData = AuthData;\n\n      _submitRequest.call(self, params, function (err, data) {\n        tracker && tracker.setParams({\n          httpEndTime: new Date().getTime()\n        });\n\n        if (err && tryTimes < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\n          if (params.headers) {\n            delete params.headers.Authorization;\n            delete params.headers['token'];\n            delete params.headers['clientIP'];\n            delete params.headers['clientUA'];\n            params.headers['x-cos-security-token'] && delete params.headers['x-cos-security-token'];\n            params.headers['x-ci-security-token'] && delete params.headers['x-ci-security-token'];\n          }\n\n          next(tryTimes + 1);\n        } else {\n          callback(err, data);\n        }\n      });\n    });\n  };\n\n  next(1);\n} // 发起请求\n\n\nfunction _submitRequest(params, callback) {\n  var self = this;\n  var TaskId = params.TaskId;\n  if (TaskId && !self._isRunningTask(TaskId)) return;\n  var bucket = params.Bucket;\n  var region = params.Region;\n  var object = params.Key;\n  var method = params.method || 'GET';\n  var url = params.Url || params.url;\n  var body = params.body;\n  var rawBody = params.rawBody; // url\n\n  if (self.options.UseAccelerate) {\n    region = 'accelerate';\n  }\n\n  url = url || getUrl({\n    ForcePathStyle: self.options.ForcePathStyle,\n    protocol: self.options.Protocol,\n    domain: self.options.Domain,\n    bucket: bucket,\n    region: region,\n    object: object\n  });\n\n  if (params.action) {\n    url = url + '?' + params.action;\n  }\n\n  if (params.qsStr) {\n    if (url.indexOf('?') > -1) {\n      url = url + '&' + params.qsStr;\n    } else {\n      url = url + '?' + params.qsStr;\n    }\n  }\n\n  var opt = {\n    method: method,\n    url: url,\n    headers: params.headers,\n    qs: params.qs,\n    body: body\n  }; // 兼容ci接口\n\n  var token = 'x-cos-security-token';\n\n  if (util.isCIHost(url)) {\n    token = 'x-ci-security-token';\n  } // 获取签名\n\n\n  opt.headers.Authorization = params.AuthData.Authorization;\n  params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\n  params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\n  params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\n  params.AuthData.SecurityToken && (opt.headers[token] = params.AuthData.SecurityToken); // 清理 undefined 和 null 字段\n\n  opt.headers && (opt.headers = util.clearKey(opt.headers));\n  opt = util.clearKey(opt); // progress\n\n  if (params.onProgress && typeof params.onProgress === 'function') {\n    var contentLength = body && (body.size || body.length) || 0;\n\n    opt.onProgress = function (e) {\n      if (TaskId && !self._isRunningTask(TaskId)) return;\n      var loaded = e ? e.loaded : 0;\n      params.onProgress({\n        loaded: loaded,\n        total: contentLength\n      });\n    };\n  }\n\n  if (params.onDownloadProgress) {\n    opt.onDownloadProgress = params.onDownloadProgress;\n  }\n\n  if (params.DataType) {\n    opt.dataType = params.DataType;\n  }\n\n  if (this.options.Timeout) {\n    opt.timeout = this.options.Timeout;\n  }\n\n  self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\n  self.emit('before-send', opt);\n  var useAccelerate = opt.url.includes('accelerate.');\n  var queryString = opt.qs ? Object.keys(opt.qs).map(function (key) {\n    return \"\".concat(key, \"=\").concat(opt.qs[key]);\n  }).join('&') : '';\n  var fullUrl = queryString ? opt.url + '?' + queryString : opt.url;\n  params.tracker && params.tracker.setParams({\n    reqUrl: fullUrl,\n    accelerate: useAccelerate ? 'Y' : 'N'\n  }); // 分块上传时给父级tracker设置url信息\n\n  params.tracker && params.tracker.parent && params.tracker.parent.setParams({\n    reqUrl: fullUrl,\n    accelerate: useAccelerate ? 'Y' : 'N'\n  });\n  var sender = (self.options.Request || REQUEST)(opt, function (r) {\n    if (r.error === 'abort') return;\n    var receive = {\n      options: opt,\n      error: err,\n      statusCode: response && response.statusCode || 0,\n      headers: response && response.headers || {},\n      body: body\n    };\n    self.emit('after-receive', receive);\n    err = receive.error;\n    body = receive.body;\n    response = {\n      statusCode: receive.statusCode,\n      headers: receive.headers\n    }; // 抛出事件，允许修改返回值的 error、statusCode、statusMessage、body\n\n    self.emit('after-receive', r);\n    var response = {\n      statusCode: r.statusCode,\n      statusMessage: r.statusMessage,\n      headers: r.headers\n    };\n    var err = r.error;\n    var body = r.body; // 返回内容添加 状态码 和 headers\n\n    var hasReturned;\n\n    var cb = function cb(err, data) {\n      TaskId && self.off('inner-kill-task', killTask);\n      if (hasReturned) return;\n      hasReturned = true;\n      var attrs = {};\n      response && response.statusCode && (attrs.statusCode = response.statusCode);\n      response && response.headers && (attrs.headers = response.headers);\n\n      if (err) {\n        err = util.extend(err || {}, attrs);\n        callback(err, null);\n      } else {\n        data = util.extend(data || {}, attrs);\n        callback(null, data);\n      }\n\n      sender = null;\n    }; // 请求错误，发生网络错误\n\n\n    if (err) return cb(util.error(err)); // 请求返回码不为 200\n\n    var statusCode = response.statusCode;\n    var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\n    // 不对 body 进行转换，body 直接挂载返回\n\n    if (rawBody && statusSuccess) return cb(null, {\n      body: body\n    }); // 解析 xml body\n\n    var json;\n\n    try {\n      json = body && body.indexOf('<') > -1 && body.indexOf('>') > -1 && util.xml2json(body) || {};\n    } catch (e) {\n      json = {};\n    } // 处理返回值\n\n\n    var xmlError = json && json.Error;\n\n    if (statusSuccess) {\n      // 正确返回，状态码 2xx 时，body 不会有 Error\n      cb(null, json);\n    } else if (xmlError) {\n      // 正常返回了 xml body，且有 Error 节点\n      cb(util.error(new Error(xmlError.Message), {\n        code: xmlError.Code,\n        error: xmlError\n      }));\n    } else if (statusCode) {\n      // 有错误的状态码\n      cb(util.error(new Error(response.statusMessage), {\n        code: '' + statusCode\n      }));\n    } else if (statusCode) {\n      // 无状态码，或者获取不到状态码\n      cb(util.error(new Error('statusCode error')));\n    }\n  }); // kill task\n\n  var killTask = function killTask(data) {\n    if (data.TaskId === TaskId) {\n      sender && sender.abort && sender.abort();\n      self.off('inner-kill-task', killTask);\n    }\n  };\n\n  TaskId && self.on('inner-kill-task', killTask);\n}\n\nvar API_MAP = {\n  // Bucket 相关方法\n  getService: getService,\n  // Bucket\n  putBucket: putBucket,\n  headBucket: headBucket,\n  // Bucket\n  getBucket: getBucket,\n  deleteBucket: deleteBucket,\n  putBucketAcl: putBucketAcl,\n  // BucketACL\n  getBucketAcl: getBucketAcl,\n  putBucketCors: putBucketCors,\n  // BucketCors\n  getBucketCors: getBucketCors,\n  deleteBucketCors: deleteBucketCors,\n  getBucketLocation: getBucketLocation,\n  // BucketLocation\n  getBucketPolicy: getBucketPolicy,\n  // BucketPolicy\n  putBucketPolicy: putBucketPolicy,\n  deleteBucketPolicy: deleteBucketPolicy,\n  putBucketTagging: putBucketTagging,\n  // BucketTagging\n  getBucketTagging: getBucketTagging,\n  deleteBucketTagging: deleteBucketTagging,\n  putBucketLifecycle: putBucketLifecycle,\n  // BucketLifecycle\n  getBucketLifecycle: getBucketLifecycle,\n  deleteBucketLifecycle: deleteBucketLifecycle,\n  putBucketVersioning: putBucketVersioning,\n  // BucketVersioning\n  getBucketVersioning: getBucketVersioning,\n  putBucketReplication: putBucketReplication,\n  // BucketReplication\n  getBucketReplication: getBucketReplication,\n  deleteBucketReplication: deleteBucketReplication,\n  putBucketWebsite: putBucketWebsite,\n  // BucketWebsite\n  getBucketWebsite: getBucketWebsite,\n  deleteBucketWebsite: deleteBucketWebsite,\n  putBucketReferer: putBucketReferer,\n  // BucketReferer\n  getBucketReferer: getBucketReferer,\n  putBucketDomain: putBucketDomain,\n  // BucketDomain\n  getBucketDomain: getBucketDomain,\n  deleteBucketDomain: deleteBucketDomain,\n  putBucketOrigin: putBucketOrigin,\n  // BucketOrigin\n  getBucketOrigin: getBucketOrigin,\n  deleteBucketOrigin: deleteBucketOrigin,\n  putBucketLogging: putBucketLogging,\n  // BucketLogging\n  getBucketLogging: getBucketLogging,\n  putBucketInventory: putBucketInventory,\n  // BucketInventory\n  getBucketInventory: getBucketInventory,\n  listBucketInventory: listBucketInventory,\n  deleteBucketInventory: deleteBucketInventory,\n  putBucketAccelerate: putBucketAccelerate,\n  getBucketAccelerate: getBucketAccelerate,\n  putBucketEncryption: putBucketEncryption,\n  getBucketEncryption: getBucketEncryption,\n  deleteBucketEncryption: deleteBucketEncryption,\n  // Object 相关方法\n  getObject: getObject,\n  headObject: headObject,\n  listObjectVersions: listObjectVersions,\n  putObject: putObject,\n  deleteObject: deleteObject,\n  getObjectAcl: getObjectAcl,\n  putObjectAcl: putObjectAcl,\n  optionsObject: optionsObject,\n  putObjectCopy: putObjectCopy,\n  deleteMultipleObject: deleteMultipleObject,\n  restoreObject: restoreObject,\n  putObjectTagging: putObjectTagging,\n  getObjectTagging: getObjectTagging,\n  deleteObjectTagging: deleteObjectTagging,\n  selectObjectContent: selectObjectContent,\n  appendObject: appendObject,\n  // 分块上传相关方法\n  uploadPartCopy: uploadPartCopy,\n  multipartInit: multipartInit,\n  multipartUpload: multipartUpload,\n  multipartComplete: multipartComplete,\n  multipartList: multipartList,\n  multipartListPart: multipartListPart,\n  multipartAbort: multipartAbort,\n  // 工具方法\n  request: request,\n  getObjectUrl: getObjectUrl,\n  getAuth: getAuth\n};\n\nfunction warnOldApi(apiName, fn, proto) {\n  util.each(['Cors', 'Acl'], function (suffix) {\n    if (apiName.slice(-suffix.length) === suffix) {\n      var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\n      var apiFn = util.apiWrapper(apiName, fn);\n      var warned = false;\n\n      proto[oldName] = function () {\n        !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\n        warned = true;\n        apiFn.apply(this, arguments);\n      };\n    }\n  });\n}\n\nmodule.exports.init = function (COS, task) {\n  task.transferToTaskMethod(API_MAP, 'putObject');\n  util.each(API_MAP, function (fn, apiName) {\n    COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n    warnOldApi(apiName, fn, COS.prototype);\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/cos.js\":\n/*!********************!*\\\n  !*** ./src/cos.js ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\nvar event = __webpack_require__(/*! ./event */ \"./src/event.js\");\n\nvar task = __webpack_require__(/*! ./task */ \"./src/task.js\");\n\nvar base = __webpack_require__(/*! ./base */ \"./src/base.js\");\n\nvar advance = __webpack_require__(/*! ./advance */ \"./src/advance.js\");\n\nvar pkg = __webpack_require__(/*! ../package.json */ \"./package.json\");\n\nvar defaultOptions = {\n  AppId: '',\n  // AppId 已废弃，请拼接到 Bucket 后传入，例如：test-1250000000\n  SecretId: '',\n  SecretKey: '',\n  SecurityToken: '',\n  // 使用临时密钥需要注意自行刷新 Token\n  ChunkRetryTimes: 2,\n  FileParallelLimit: 3,\n  ChunkParallelLimit: 3,\n  ChunkSize: 1024 * 1024,\n  SliceSize: 1024 * 1024,\n  CopyChunkParallelLimit: 20,\n  CopyChunkSize: 1024 * 1024 * 10,\n  CopySliceSize: 1024 * 1024 * 10,\n  MaxPartNumber: 10000,\n  ProgressInterval: 1000,\n  Domain: '',\n  ServiceDomain: '',\n  Protocol: '',\n  CompatibilityMode: false,\n  ForcePathStyle: false,\n  UseRawKey: false,\n  Timeout: 0,\n  // 单位毫秒，0 代表不设置超时时间\n  CorrectClockSkew: true,\n  SystemClockOffset: 0,\n  // 单位毫秒，ms\n  UploadCheckContentMd5: false,\n  UploadQueueSize: 10000,\n  UploadAddMetaMd5: false,\n  UploadIdCacheLimit: 50,\n  UseAccelerate: false,\n  ForceSignHost: true,\n  // 默认将host加入签名计算，关闭后可能导致越权风险，建议保持为true\n  EnableTracker: false,\n  // 默认关闭上报\n  DeepTracker: false,\n  // 上报时是否对每个分块上传做单独上报\n  TrackerDelay: 5000,\n  // 周期性上报，单位毫秒。0代表实时上报\n  CustomId: '' // 自定义上报id\n\n}; // 对外暴露的类\n\nvar COS = function COS(options) {\n  this.options = util.extend(util.clone(defaultOptions), options || {});\n  this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\n  this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\n  this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\n  this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\n  this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\n  this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\n  this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\n  this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\n  this.options.Timeout = Math.max(0, this.options.Timeout);\n\n  if (this.options.AppId) {\n    console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\n  }\n\n  if (this.options.SecretId && this.options.SecretId.indexOf(' ') > -1) {\n    console.error('error: SecretId格式错误，请检查');\n    console.error('error: SecretId format is incorrect. Please check');\n  }\n\n  if (this.options.SecretKey && this.options.SecretKey.indexOf(' ') > -1) {\n    console.error('error: SecretKey格式错误，请检查');\n    console.error('error: SecretKey format is incorrect. Please check');\n  }\n\n  if (util.isNode()) {\n    console.warn('warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629');\n    console.warn('warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629');\n  }\n\n  event.init(this);\n  task.init(this);\n};\n\nbase.init(COS, task);\nadvance.init(COS, task);\nCOS.util = {\n  md5: util.md5,\n  xml2json: util.xml2json,\n  json2xml: util.json2xml\n};\nCOS.getAuthorization = util.getAuth;\nCOS.version = pkg.version;\nmodule.exports = COS;\n\n/***/ }),\n\n/***/ \"./src/event.js\":\n/*!**********************!*\\\n  !*** ./src/event.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar initEvent = function initEvent(cos) {\n  var listeners = {};\n\n  var getList = function getList(action) {\n    !listeners[action] && (listeners[action] = []);\n    return listeners[action];\n  };\n\n  cos.on = function (action, callback) {\n    if (action === 'task-list-update') {\n      console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n    }\n\n    getList(action).push(callback);\n  };\n\n  cos.off = function (action, callback) {\n    var list = getList(action);\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      callback === list[i] && list.splice(i, 1);\n    }\n  };\n\n  cos.emit = function (action, data) {\n    var list = getList(action).map(function (cb) {\n      return cb;\n    });\n\n    for (var i = 0; i < list.length; i++) {\n      list[i](data);\n    }\n  };\n};\n\nvar EventProxy = function EventProxy() {\n  initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;\n\n/***/ }),\n\n/***/ \"./src/session.js\":\n/*!************************!*\\\n  !*** ./src/session.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\"); // 按照文件特征值，缓存 UploadId\n\n\nvar cacheKey = 'cos_sdk_upload_cache';\nvar expires = 30 * 24 * 3600;\nvar cache;\nvar timer;\n\nvar getCache = function getCache() {\n  try {\n    var val = JSON.parse(localStorage.getItem(cacheKey));\n  } catch (e) {}\n\n  if (!val) val = [];\n  cache = val;\n};\n\nvar setCache = function setCache() {\n  try {\n    if (cache.length) localStorage.setItem(cacheKey, JSON.stringify(cache));else localStorage.removeItem(cacheKey);\n  } catch (e) {}\n};\n\nvar init = function init() {\n  if (cache) return;\n  getCache.call(this); // 清理太老旧的数据\n\n  var changed = false;\n  var now = Math.round(Date.now() / 1000);\n\n  for (var i = cache.length - 1; i >= 0; i--) {\n    var mtime = cache[i][2];\n\n    if (!mtime || mtime + expires < now) {\n      cache.splice(i, 1);\n      changed = true;\n    }\n  }\n\n  changed && setCache();\n}; // 把缓存存到本地\n\n\nvar save = function save() {\n  if (timer) return;\n  timer = setTimeout(function () {\n    setCache();\n    timer = null;\n  }, 400);\n};\n\nvar mod = {\n  using: {},\n  // 标记 UploadId 正在使用\n  setUsing: function setUsing(uuid) {\n    mod.using[uuid] = true;\n  },\n  // 标记 UploadId 已经没在使用\n  removeUsing: function removeUsing(uuid) {\n    delete mod.using[uuid];\n  },\n  // 用上传参数生成哈希值\n  getFileId: function getFileId(file, ChunkSize, Bucket, Key) {\n    if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\n      return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\n    } else {\n      return null;\n    }\n  },\n  // 用上传参数生成哈希值\n  getCopyFileId: function getCopyFileId(copySource, sourceHeaders, ChunkSize, Bucket, Key) {\n    var size = sourceHeaders['content-length'];\n    var etag = sourceHeaders.etag || '';\n    var lastModified = sourceHeaders['last-modified'];\n\n    if (copySource && ChunkSize) {\n      return util.md5([copySource, size, etag, lastModified, ChunkSize, Bucket, Key].join('::'));\n    } else {\n      return null;\n    }\n  },\n  // 获取文件对应的 UploadId 列表\n  getUploadIdList: function getUploadIdList(uuid) {\n    if (!uuid) return null;\n    init.call(this);\n    var list = [];\n\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i][0] === uuid) list.push(cache[i][1]);\n    }\n\n    return list.length ? list : null;\n  },\n  // 缓存 UploadId\n  saveUploadId: function saveUploadId(uuid, UploadId, limit) {\n    init.call(this);\n    if (!uuid) return; // 清理没用的 UploadId，js 文件没有 FilePath ，只清理相同记录\n\n    for (var i = cache.length - 1; i >= 0; i--) {\n      var item = cache[i];\n\n      if (item[0] === uuid && item[1] === UploadId) {\n        cache.splice(i, 1);\n      }\n    }\n\n    cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\n    if (cache.length > limit) cache.splice(limit);\n    save();\n  },\n  // UploadId 已用完，移除掉\n  removeUploadId: function removeUploadId(UploadId) {\n    init.call(this);\n    delete mod.using[UploadId];\n\n    for (var i = cache.length - 1; i >= 0; i--) {\n      if (cache[i][1] === UploadId) cache.splice(i, 1);\n    }\n\n    save();\n  }\n};\nmodule.exports = mod;\n\n/***/ }),\n\n/***/ \"./src/task.js\":\n/*!*********************!*\\\n  !*** ./src/task.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar session = __webpack_require__(/*! ./session */ \"./src/session.js\");\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\nvar originApiMap = {};\n\nvar transferToTaskMethod = function transferToTaskMethod(apiMap, apiName) {\n  originApiMap[apiName] = apiMap[apiName];\n\n  apiMap[apiName] = function (params, callback) {\n    if (params.SkipTask) {\n      originApiMap[apiName].call(this, params, callback);\n    } else {\n      this._addTask(apiName, params, callback);\n    }\n  };\n};\n\nvar initTask = function initTask(cos) {\n  var queue = [];\n  var tasks = {};\n  var uploadingFileCount = 0;\n  var nextUploadIndex = 0; // 接口返回简略的任务信息\n\n  var formatTask = function formatTask(task) {\n    var t = {\n      id: task.id,\n      Bucket: task.Bucket,\n      Region: task.Region,\n      Key: task.Key,\n      FilePath: task.FilePath,\n      state: task.state,\n      loaded: task.loaded,\n      size: task.size,\n      speed: task.speed,\n      percent: task.percent,\n      hashPercent: task.hashPercent,\n      error: task.error\n    };\n    if (task.FilePath) t.FilePath = task.FilePath;\n    if (task._custom) t._custom = task._custom; // 控制台使用\n\n    return t;\n  };\n\n  var emitListUpdate = function () {\n    var timer;\n\n    var emit = function emit() {\n      timer = 0;\n      cos.emit('task-list-update', {\n        list: util.map(queue, formatTask)\n      });\n      cos.emit('list-update', {\n        list: util.map(queue, formatTask)\n      });\n    };\n\n    return function () {\n      if (!timer) timer = setTimeout(emit);\n    };\n  }();\n\n  var clearQueue = function clearQueue() {\n    if (queue.length <= cos.options.UploadQueueSize) return;\n\n    for (var i = 0; i < nextUploadIndex && // 小于当前操作的 index 才清理\n    i < queue.length && // 大于队列才清理\n    queue.length > cos.options.UploadQueueSize // 如果还太多，才继续清理\n    ;) {\n      var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\n\n      if (!queue[i] || !isActive) {\n        tasks[queue[i].id] && delete tasks[queue[i].id];\n        queue.splice(i, 1);\n        nextUploadIndex--;\n      } else {\n        i++;\n      }\n    }\n\n    emitListUpdate();\n  };\n\n  var startNextTask = function startNextTask() {\n    // 检查是否允许增加执行进程\n    if (uploadingFileCount >= cos.options.FileParallelLimit) return; // 跳过不可执行的任务\n\n    while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') {\n      nextUploadIndex++;\n    } // 检查是否已遍历结束\n\n\n    if (nextUploadIndex >= queue.length) return; // 上传该遍历到的任务\n\n    var task = queue[nextUploadIndex];\n    nextUploadIndex++;\n    uploadingFileCount++;\n    task.state = 'checking';\n    task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\n    !task.params.UploadData && (task.params.UploadData = {});\n    var apiParams = util.formatParams(task.api, task.params);\n    originApiMap[task.api].call(cos, apiParams, function (err, data) {\n      if (!cos._isRunningTask(task.id)) return;\n\n      if (task.state === 'checking' || task.state === 'uploading') {\n        task.state = err ? 'error' : 'success';\n        err && (task.error = err);\n        uploadingFileCount--;\n        emitListUpdate();\n        startNextTask();\n        task.callback && task.callback(err, data);\n\n        if (task.state === 'success') {\n          if (task.params) {\n            delete task.params.UploadData;\n            delete task.params.Body;\n            delete task.params;\n          }\n\n          delete task.callback;\n        }\n      }\n\n      clearQueue();\n    });\n    emitListUpdate(); // 异步执行下一个任务\n\n    setTimeout(startNextTask);\n  };\n\n  var killTask = function killTask(id, switchToState) {\n    var task = tasks[id];\n    if (!task) return;\n    var waiting = task && task.state === 'waiting';\n    var running = task && (task.state === 'checking' || task.state === 'uploading');\n\n    if (switchToState === 'canceled' && task.state !== 'canceled' || switchToState === 'paused' && waiting || switchToState === 'paused' && running) {\n      if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\n        console.error('stream not support pause');\n        return;\n      }\n\n      task.state = switchToState;\n      cos.emit('inner-kill-task', {\n        TaskId: id,\n        toState: switchToState\n      });\n\n      try {\n        var UploadId = task && task.params && task.params.UploadData.UploadId;\n      } catch (e) {}\n\n      if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId);\n      emitListUpdate();\n\n      if (running) {\n        uploadingFileCount--;\n        startNextTask();\n      }\n\n      if (switchToState === 'canceled') {\n        if (task.params) {\n          delete task.params.UploadData;\n          delete task.params.Body;\n          delete task.params;\n        }\n\n        delete task.callback;\n      }\n    }\n\n    clearQueue();\n  };\n\n  cos._addTasks = function (taskList) {\n    util.each(taskList, function (task) {\n      cos._addTask(task.api, task.params, task.callback, true);\n    });\n    emitListUpdate();\n  };\n\n  var isTaskReadyWarning = true;\n\n  cos._addTask = function (api, params, callback, ignoreAddEvent) {\n    // 复制参数对象\n    params = util.formatParams(api, params); // 生成 id\n\n    var id = util.uuid();\n    params.TaskId = id;\n    params.onTaskReady && params.onTaskReady(id);\n\n    if (params.TaskReady) {\n      params.TaskReady(id);\n      isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\n      isTaskReadyWarning = false;\n    }\n\n    var task = {\n      // env\n      params: params,\n      callback: callback,\n      api: api,\n      index: queue.length,\n      // task\n      id: id,\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      FilePath: params.FilePath || '',\n      state: 'waiting',\n      loaded: 0,\n      size: 0,\n      speed: 0,\n      percent: 0,\n      hashPercent: 0,\n      error: null,\n      _custom: params._custom\n    };\n    var onHashProgress = params.onHashProgress;\n\n    params.onHashProgress = function (info) {\n      if (!cos._isRunningTask(task.id)) return;\n      task.hashPercent = info.percent;\n      onHashProgress && onHashProgress(info);\n      emitListUpdate();\n    };\n\n    var onProgress = params.onProgress;\n\n    params.onProgress = function (info) {\n      if (!cos._isRunningTask(task.id)) return;\n      task.state === 'checking' && (task.state = 'uploading');\n      task.loaded = info.loaded;\n      task.speed = info.speed;\n      task.percent = info.percent;\n      onProgress && onProgress(info);\n      emitListUpdate();\n    }; // 异步获取 filesize\n\n\n    util.getFileSize(api, params, function (err, size) {\n      // 开始处理上传\n      if (err) return callback(util.error(err)); // 如果获取大小出错，不加入队列\n      // 获取完文件大小再把任务加入队列\n\n      tasks[id] = task;\n      queue.push(task);\n      task.size = size;\n      !ignoreAddEvent && emitListUpdate();\n      startNextTask();\n      clearQueue();\n    });\n    return id;\n  };\n\n  cos._isRunningTask = function (id) {\n    var task = tasks[id];\n    return !!(task && (task.state === 'checking' || task.state === 'uploading'));\n  };\n\n  cos.getTaskList = function () {\n    return util.map(queue, formatTask);\n  };\n\n  cos.cancelTask = function (id) {\n    killTask(id, 'canceled');\n  };\n\n  cos.pauseTask = function (id) {\n    killTask(id, 'paused');\n  };\n\n  cos.restartTask = function (id) {\n    var task = tasks[id];\n\n    if (task && (task.state === 'paused' || task.state === 'error')) {\n      task.state = 'waiting';\n      emitListUpdate();\n      nextUploadIndex = Math.min(nextUploadIndex, task.index);\n      startNextTask();\n    }\n  };\n\n  cos.isUploadRunning = function () {\n    return uploadingFileCount || nextUploadIndex < queue.length;\n  };\n};\n\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\nmodule.exports.init = initTask;\n\n/***/ }),\n\n/***/ \"./src/tracker.js\":\n/*!************************!*\\\n  !*** ./src/tracker.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _classCallCheck = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n\nvar _createClass = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar pkg = __webpack_require__(/*! ../package.json */ \"./package.json\");\n\nvar BeaconAction = __webpack_require__(/*! ../lib/beacon.min */ \"./lib/beacon.min.js\");\n\nvar beacon = null;\n\nvar getBeacon = function getBeacon(delay) {\n  if (!beacon) {\n    beacon = new BeaconAction({\n      appkey: \"0AND0VEVB24UBGDU\",\n      versionCode: pkg.version,\n      channelID: 'js_sdk',\n      //渠道,选填\n      openid: 'openid',\n      // 用户id, 选填\n      unionid: 'unid',\n      //用户unionid , 类似idfv,选填\n      strictMode: false,\n      //严苛模式开关, 打开严苛模式会主动抛出异常, 上线请务必关闭!!!\n      delay: delay,\n      // 普通事件延迟上报时间(单位毫秒), 默认1000(1秒),选填\n      sessionDuration: 60 * 1000 // session变更的时间间隔, 一个用户持续30分钟(默认值)没有任何上报则算另一次 session,每变更一次session上报一次启动事件(rqd_applaunched),使用毫秒(ms),最小值30秒,选填\n\n    });\n  }\n\n  return beacon;\n};\n\nvar utils = {\n  // 生成uid 每个链路对应唯一一条uid\n  getUid: function getUid() {\n    var S4 = function S4() {\n      return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n    };\n\n    return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\n  },\n  // 获取网络类型\n  getNetType: function getNetType() {\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object') {\n      var connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n      return (connection === null || connection === void 0 ? void 0 : connection.type) || (connection === null || connection === void 0 ? void 0 : connection.effectiveType) || 'unknown';\n    }\n\n    return 'unknown';\n  },\n  // 获取pc端操作系统类型\n  getOsType: function getOsType() {\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) !== 'object') {\n      return 'unknown os';\n    }\n\n    var agent = navigator.userAgent.toLowerCase();\n    var isMac = /macintosh|mac os x/i.test(navigator.userAgent);\n\n    if (agent.indexOf(\"win32\") >= 0 || agent.indexOf(\"wow32\") >= 0) {\n      return 'win32';\n    }\n\n    if (agent.indexOf(\"win64\") >= 0 || agent.indexOf(\"wow64\") >= 0) {\n      return 'win64';\n    }\n\n    if (isMac) {\n      return 'mac';\n    }\n\n    return 'unknown os';\n  },\n  isMobile: function isMobile() {\n    var exp = /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;\n\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && navigator.userAgent.match(exp)) {\n      return true; // 移动端\n    }\n\n    return false; // PC端\n  },\n  isAndroid: function isAndroid() {\n    var exp = /(Android|Adr|Linux)/i;\n\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && navigator.userAgent.match(exp)) {\n      return true;\n    }\n\n    return false;\n  },\n  isIOS: function isIOS() {\n    var exp = /(iPhone|iPod|iPad|iOS)/i;\n\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && navigator.userAgent.match(exp)) {\n      return true;\n    }\n\n    return false;\n  },\n  isOtherMobile: function isOtherMobile() {\n    return isMobile && !isAndroid && !isIOS;\n  },\n  // 获取浏览器类型\n  getDeviceName: function getDeviceName() {\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) !== 'object') {\n      return 'unknown device';\n    }\n\n    var explorer = navigator.userAgent.toLowerCase(); // 腾讯会议内置浏览器\n\n    if (explorer.includes('app/tencent_wemeet')) {\n      return 'tencent_wemeet';\n    } // 遨游浏览器\n\n\n    if (explorer.indexOf('maxthon') >= 0) {\n      var match = explorer.match(/maxthon\\/([\\d.]+)/);\n      var ver = match && match[1] || '';\n      return \"\\u50B2\\u6E38\\u6D4F\\u89C8\\u5668 \".concat(ver).trim();\n    } // QQ浏览器\n\n\n    if (explorer.indexOf('qqbrowser') >= 0) {\n      var _match = explorer.match(/qqbrowser\\/([\\d.]+)/);\n\n      var _ver = _match && _match[1] || '';\n\n      return \"QQ\\u6D4F\\u89C8\\u5668 \".concat(_ver).trim();\n    } // 搜狗浏览器\n\n\n    if (explorer.indexOf('se 2.x') >= 0) {\n      return '搜狗浏览器';\n    } // 微信浏览器\n\n\n    if (explorer.indexOf('wxwork') >= 0) {\n      return '微信内置浏览器';\n    } // ie\n\n\n    if (explorer.indexOf('msie') >= 0) {\n      var _match2 = explorer.match(/msie ([\\d.]+)/);\n\n      var _ver2 = _match2 && _match2[1] || '';\n\n      return \"IE \".concat(_ver2).trim();\n    } // firefox\n\n\n    if (explorer.indexOf('firefox') >= 0) {\n      var _match3 = explorer.match(/firefox\\/([\\d.]+)/);\n\n      var _ver3 = _match3 && _match3[1] || '';\n\n      return \"Firefox \".concat(_ver3).trim();\n    } // Chrome\n\n\n    if (explorer.indexOf('chrome') >= 0) {\n      var _match4 = explorer.match(/chrome\\/([\\d.]+)/);\n\n      var _ver4 = _match4 && _match4[1] || '';\n\n      return \"Chrome \".concat(_ver4).trim();\n    } // Opera\n\n\n    if (explorer.indexOf('opera') >= 0) {\n      var _match5 = explorer.match(/opera.([\\d.]+)/);\n\n      var _ver5 = _match5 && _match5[1] || '';\n\n      return \"Opera \".concat(_ver5).trim();\n    } // Safari\n\n\n    if (explorer.indexOf('safari') >= 0) {\n      var _match6 = explorer.match(/version\\/([\\d.]+)/);\n\n      var _ver6 = _match6 && _match6[1] || '';\n\n      return \"Safari \".concat(_ver6).trim();\n    }\n\n    if (explorer.indexOf('edge') >= 0) {\n      var _match7 = explorer.match(/edge\\/([\\d.]+)/);\n\n      var _ver7 = _match7 && _match7[1] || '';\n\n      return \"edge \".concat(_ver7).trim();\n    }\n\n    return explorer.substr(0, 200);\n  }\n};\nvar constant = {\n  isMobile: utils.isMobile(),\n  isBrowser: !utils.isMobile(),\n  mobileOsType: utils.isAndroid() ? 'android' : utils.isIOS ? 'ios' : 'other_mobile',\n  pcOsType: utils.getOsType()\n}; // 设备信息，只取一次值\n\nvar deviceInfo = {\n  // ↓上报项\n  deviceType: constant.isMobile ? 'mobile' : constant.isBrowser ? 'browser' : 'unknown',\n  devicePlatform: constant.isMobile ? constant.mobileOsType : constant.pcOsType,\n  deviceName: utils.getDeviceName() //浏览器名称\n\n}; // 分块上传原子方法\n\nvar sliceUploadMethods = ['multipartInit', 'multipartUpload', 'multipartComplete', 'multipartList', 'multipartListPart', 'multipartAbort'];\nvar uploadApi = ['putObject', 'postObject', 'appendObject', 'sliceUploadFile', 'uploadFile', 'uploadFiles'].concat(sliceUploadMethods);\nvar downloadApi = ['getObject'];\n\nfunction getEventCode(apiName) {\n  if (uploadApi.includes(apiName)) {\n    return 'cos_upload';\n  }\n\n  if (downloadApi.includes(apiName)) {\n    return 'cos_download';\n  }\n\n  return 'base_service';\n} // 上报参数驼峰改下划线\n\n\nfunction camel2underline(key) {\n  return key.replace(/([A-Z])/g, \"_$1\").toLowerCase();\n}\n\nfunction formatParams(params) {\n  var formattedParams = {};\n  var allReporterKeys = ['tracePlatform', 'cossdkVersion', 'region', 'networkType', 'host', 'accelerate', 'requestPath', 'size', 'httpMd5', 'httpSign', 'httpFull', 'name', 'result', 'tookTime', 'errorNode', 'errorCode', 'errorMessage', 'errorRequestId', 'errorStatusCode', 'errorServiceName', 'errorType', 'traceId', 'bucket', 'appid', 'partNumber', 'retryTimes', 'reqUrl', 'customId', 'fullError', 'deviceType', 'devicePlatform', 'deviceName'];\n  var successKeys = ['tracePlatform', 'cossdkVersion', 'region', 'bucket', 'appid', 'networkType', 'host', 'accelerate', 'requestPath', 'partNumber', 'size', 'name', 'result', 'tookTime', 'errorRequestId', 'retryTimes', 'reqUrl', 'customId', 'deviceType', 'devicePlatform', 'deviceName']; // 需要上报的参数字段\n\n  var reporterKeys = params.result === 'Success' ? successKeys : allReporterKeys;\n\n  for (var key in params) {\n    if (!reporterKeys.includes(key)) continue;\n    var formattedKey = camel2underline(key);\n    formattedParams[formattedKey] = params[key];\n  }\n\n  return formattedParams;\n} // 链路追踪器\n\n\nvar Tracker = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function Tracker(opt) {\n    _classCallCheck(this, Tracker);\n\n    var parent = opt.parent,\n        traceId = opt.traceId,\n        bucket = opt.bucket,\n        region = opt.region,\n        apiName = opt.apiName,\n        fileKey = opt.fileKey,\n        fileSize = opt.fileSize,\n        accelerate = opt.accelerate,\n        customId = opt.customId,\n        delay = opt.delay,\n        deepTracker = opt.deepTracker;\n    var appid = bucket && bucket.substr(bucket.lastIndexOf('-') + 1) || '';\n    this.parent = parent;\n    this.deepTracker = deepTracker; // 上报用到的字段\n\n    this.params = {\n      // 通用字段\n      cossdkVersion: pkg.version,\n      region: region,\n      networkType: '',\n      host: '',\n      accelerate: accelerate ? 'Y' : 'N',\n      requestPath: fileKey || '',\n      size: fileSize || -1,\n      httpMd5: 0,\n      // MD5耗时\n      httpSign: 0,\n      // 计算签名耗时\n      httpFull: 0,\n      // http请求耗时\n      name: apiName || '',\n      result: '',\n      // sdk api调用结果Success、Fail\n      tookTime: 0,\n      // 总耗时\n      errorNode: '',\n      errorCode: '',\n      errorMessage: '',\n      errorRequestId: '',\n      errorStatusCode: 0,\n      errorServiceName: '',\n      // js补充字段\n      tracePlatform: 'cos-js-sdk-v5',\n      // 上报平台=js\n      traceId: traceId || utils.getUid(),\n      // 每条上报唯一标识\n      bucket: bucket,\n      appid: appid,\n      partNumber: 0,\n      // 分块上传编号\n      retryTimes: 0,\n      // sdk内部发起的请求重试\n      reqUrl: '',\n      // 请求url\n      customId: customId || '',\n      // 业务id\n      deviceType: deviceInfo.deviceType,\n      // 设备类型 移动端浏览器、web浏览器\n      devicePlatform: deviceInfo.devicePlatform,\n      deviceName: deviceInfo.deviceName,\n      md5StartTime: 0,\n      // md5计算开始时间\n      md5EndTime: 0,\n      // md5计算结束时间\n      signStartTime: 0,\n      // 计算签名开始时间\n      signEndTime: 0,\n      // 计算签名结束时间\n      httpStartTime: 0,\n      // 发起网络请求开始时间\n      httpEndTime: 0,\n      // 网路请求结束时间\n      startTime: new Date().getTime(),\n      // sdk api调用起始时间，不是纯网络耗时\n      endTime: 0 //  sdk api调用结束时间，不是纯网络耗时\n\n    };\n    this.beacon = getBeacon(delay);\n  } // 格式化sdk回调\n\n\n  _createClass(Tracker, [{\n    key: \"formatResult\",\n    value: function formatResult(err, data) {\n      var _err$error, _err$error2, _err$error3, _err$error4, _err$error5, _err$error6;\n\n      var now = new Date().getTime();\n      var tookTime = now - this.params.startTime;\n      var networkType = utils.getNetType();\n      var errorCode = err ? (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : (_err$error = err.error) === null || _err$error === void 0 ? void 0 : _err$error.code) || (err === null || err === void 0 ? void 0 : (_err$error2 = err.error) === null || _err$error2 === void 0 ? void 0 : _err$error2.Code) : '';\n      var errorMessage = err ? (err === null || err === void 0 ? void 0 : err.message) || (err === null || err === void 0 ? void 0 : (_err$error3 = err.error) === null || _err$error3 === void 0 ? void 0 : _err$error3.message) || (err === null || err === void 0 ? void 0 : (_err$error4 = err.error) === null || _err$error4 === void 0 ? void 0 : _err$error4.Message) : '';\n      var errorServiceName = err ? (err === null || err === void 0 ? void 0 : err.resource) || (err === null || err === void 0 ? void 0 : (_err$error5 = err.error) === null || _err$error5 === void 0 ? void 0 : _err$error5.resource) || (err === null || err === void 0 ? void 0 : (_err$error6 = err.error) === null || _err$error6 === void 0 ? void 0 : _err$error6.Resource) : '';\n      var errorStatusCode = err ? err === null || err === void 0 ? void 0 : err.statusCode : data.statusCode;\n      var requestId = err ? (err === null || err === void 0 ? void 0 : err.headers) && (err === null || err === void 0 ? void 0 : err.headers['x-cos-request-id']) : (data === null || data === void 0 ? void 0 : data.headers) && (data === null || data === void 0 ? void 0 : data.headers['x-cos-request-id']);\n      var errorType = err ? requestId ? 'Server' : 'Client' : '';\n      Object.assign(this.params, {\n        tookTime: tookTime,\n        networkType: networkType,\n        httpMd5: this.params.md5EndTime - this.params.md5StartTime,\n        httpSign: this.params.signEndTime - this.params.signStartTime,\n        httpFull: this.params.httpEndTime - this.params.httpStartTime,\n        result: err ? 'Fail' : 'Success',\n        errorType: errorType,\n        errorCode: errorCode,\n        errorStatusCode: errorStatusCode,\n        errorMessage: errorMessage,\n        errorServiceName: errorServiceName,\n        errorRequestId: requestId\n      });\n\n      if (err && (!errorCode || !errorMessage)) {\n        // 暂存全量err一段时间 观察是否所有err格式都可被解析\n        this.params.fullError = err ? JSON.stringify(err) : '';\n      }\n\n      if (this.params.name === 'getObject') {\n        this.params.size = data ? data.headers && data.headers['content-length'] : -1;\n      }\n\n      if (this.params.reqUrl) {\n        try {\n          var execRes = /^http(s)?:\\/\\/(.*?)\\//.exec(this.params.reqUrl);\n          this.params.host = execRes[2];\n        } catch (e) {\n          this.params.host = this.params.reqUrl;\n        }\n      }\n\n      this.sendEvents();\n    } // 设置当前链路的参数\n\n  }, {\n    key: \"setParams\",\n    value: function setParams(params) {\n      Object.assign(this.params, params);\n    } // 使用灯塔延时上报\n\n  }, {\n    key: \"sendEvents\",\n    value: function sendEvents() {\n      // DeepTracker模式下才会上报分块上传内部细节\n      if (sliceUploadMethods.includes(this.params.name) && !this.deepTracker) {\n        return;\n      }\n\n      var eventCode = getEventCode(this.params.name);\n      var formattedParams = formatParams(this.params);\n\n      if (this.params.delay === 0) {\n        // 实时上报\n        this.beacon.onDirectUserAction(eventCode, formattedParams);\n      } else {\n        // 周期性上报\n        this.beacon.onUserAction(eventCode, formattedParams);\n      } // 上报结束即销毁\n\n\n      this.destroy();\n    } // 生成子实例，与父所属一个链路，可用于分块上传内部流程上报单个分块操作\n\n  }, {\n    key: \"generateSubTracker\",\n    value: function generateSubTracker(subParams) {\n      Object.assign(subParams, {\n        parent: this,\n        deepTracker: this.deepTracker,\n        traceId: this.params.traceId,\n        bucket: this.params.bucket,\n        region: this.params.region,\n        fileKey: this.params.requestPath,\n        customId: this.params.customId,\n        delay: this.params.delay\n      });\n      return new Tracker(subParams);\n    } // 链路结束后销毁实例\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.beacon = null;\n      this.params = {};\n    }\n  }]);\n\n  return Tracker;\n}();\n\nmodule.exports = Tracker;\n\n/***/ }),\n\n/***/ \"./src/util.js\":\n/*!*********************!*\\\n  !*** ./src/util.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n\nvar md5 = __webpack_require__(/*! ../lib/md5 */ \"./lib/md5.js\");\n\nvar CryptoJS = __webpack_require__(/*! ../lib/crypto */ \"./lib/crypto.js\");\n\nvar xml2json = __webpack_require__(/*! ../lib/xml2json */ \"./lib/xml2json.js\");\n\nvar json2xml = __webpack_require__(/*! ../lib/json2xml */ \"./lib/json2xml.js\");\n\nvar Tracker = __webpack_require__(/*! ./tracker */ \"./src/tracker.js\");\n\nfunction camSafeUrlEncode(str) {\n  return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/\\*/g, '%2A');\n}\n\nfunction getObjectKeys(obj, forKey) {\n  var list = [];\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\n    }\n  }\n\n  return list.sort(function (a, b) {\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n    return a === b ? 0 : a > b ? 1 : -1;\n  });\n}\n\n;\n/**\r\n * obj转为string\r\n * @param  {Object}  obj                需要转的对象，必须\r\n * @param  {Boolean} lowerCaseKey       key是否转为小写，默认false，非必须\r\n * @return {String}  data               返回字符串\r\n */\n\nvar obj2str = function obj2str(obj, lowerCaseKey) {\n  var i, key, val;\n  var list = [];\n  var keyList = getObjectKeys(obj);\n\n  for (i = 0; i < keyList.length; i++) {\n    key = keyList[i];\n    val = obj[key] === undefined || obj[key] === null ? '' : '' + obj[key];\n    key = lowerCaseKey ? camSafeUrlEncode(key).toLowerCase() : camSafeUrlEncode(key);\n    val = camSafeUrlEncode(val) || '';\n    list.push(key + '=' + val);\n  }\n\n  return list.join('&');\n}; // 可以签入签名的headers\n\n\nvar signHeaders = ['content-disposition', 'content-encoding', 'content-length', 'content-md5', 'expect', 'host', 'if-match', 'if-modified-since', 'if-none-match', 'if-unmodified-since', 'origin', 'range', 'response-cache-control', 'response-content-disposition', 'response-content-encoding', 'response-content-language', 'response-content-type', 'response-expires', 'transfer-encoding', 'versionid'];\n\nvar getSignHeaderObj = function getSignHeaderObj(headers) {\n  var signHeaderObj = {};\n\n  for (var i in headers) {\n    var key = i.toLowerCase();\n\n    if (key.indexOf('x-cos-') > -1 || signHeaders.indexOf(key) > -1) {\n      signHeaderObj[i] = headers[i];\n    }\n  }\n\n  return signHeaderObj;\n}; //测试用的key后面可以去掉\n\n\nvar getAuth = function getAuth(opt) {\n  opt = opt || {};\n  var SecretId = opt.SecretId;\n  var SecretKey = opt.SecretKey;\n  var KeyTime = opt.KeyTime;\n  var method = (opt.method || opt.Method || 'get').toLowerCase();\n  var queryParams = clone(opt.Query || opt.params || {});\n  var headers = getSignHeaderObj(clone(opt.Headers || opt.headers || {}));\n  var Key = opt.Key || '';\n  var pathname;\n\n  if (opt.UseRawKey) {\n    pathname = opt.Pathname || opt.pathname || '/' + Key;\n  } else {\n    pathname = opt.Pathname || opt.pathname || Key;\n    pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\n  } // ForceSignHost明确传入false才不加入host签名\n\n\n  var forceSignHost = opt.ForceSignHost === false ? false : true; // 如果有传入存储桶且需要强制签名，那么签名默认加 Host 参与计算，避免跨桶访问\n\n  if (!headers.Host && !headers.host && opt.Bucket && opt.Region && forceSignHost) headers.Host = opt.Bucket + '.cos.' + opt.Region + '.myqcloud.com';\n  if (!SecretId) throw new Error('missing param SecretId');\n  if (!SecretKey) throw new Error('missing param SecretKey'); // 签名有效起止时间\n\n  var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\n  var exp = now;\n  var Expires = opt.Expires || opt.expires;\n\n  if (Expires === undefined) {\n    exp += 900; // 签名过期时间为当前 + 900s\n  } else {\n    exp += Expires * 1 || 0;\n  } // 要用到的 Authorization 参数列表\n\n\n  var qSignAlgorithm = 'sha1';\n  var qAk = SecretId;\n  var qSignTime = KeyTime || now + ';' + exp;\n  var qKeyTime = KeyTime || now + ';' + exp;\n  var qHeaderList = getObjectKeys(headers, true).join(';').toLowerCase();\n  var qUrlParamList = getObjectKeys(queryParams, true).join(';').toLowerCase(); // 签名算法说明文档：https://www.qcloud.com/document/product/436/7778\n  // 步骤一：计算 SignKey\n\n  var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString(); // 步骤二：构成 FormatString\n\n  var formatString = [method, pathname, util.obj2str(queryParams, true), util.obj2str(headers, true), ''].join('\\n'); // 步骤三：计算 StringToSign\n\n  var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n'); // 步骤四：计算 Signature\n\n  var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString(); // 步骤五：构造 Authorization\n\n  var authorization = ['q-sign-algorithm=' + qSignAlgorithm, 'q-ak=' + qAk, 'q-sign-time=' + qSignTime, 'q-key-time=' + qKeyTime, 'q-header-list=' + qHeaderList, 'q-url-param-list=' + qUrlParamList, 'q-signature=' + qSignature].join('&');\n  return authorization;\n};\n\nvar readIntBE = function readIntBE(chunk, size, offset) {\n  var bytes = size / 8;\n  var buf = chunk.slice(offset, offset + bytes);\n  new Uint8Array(buf).reverse();\n  return new {\n    8: Uint8Array,\n    16: Uint16Array,\n    32: Uint32Array\n  }[size](buf)[0];\n};\n\nvar buf2str = function buf2str(chunk, start, end, isUtf8) {\n  var buf = chunk.slice(start, end);\n  var str = '';\n  new Uint8Array(buf).forEach(function (charCode) {\n    str += String.fromCharCode(charCode);\n  });\n  if (isUtf8) str = decodeURIComponent(escape(str));\n  return str;\n};\n\nvar parseSelectPayload = function parseSelectPayload(chunk) {\n  var header = {};\n  var body = buf2str(chunk);\n  var result = {\n    records: []\n  };\n\n  while (chunk.byteLength) {\n    var totalLength = readIntBE(chunk, 32, 0);\n    var headerLength = readIntBE(chunk, 32, 4);\n    var payloadRestLength = totalLength - headerLength - 16;\n    var offset = 0;\n    var content;\n    chunk = chunk.slice(12); // 获取 Message 的 header 信息\n\n    while (offset < headerLength) {\n      var headerNameLength = readIntBE(chunk, 8, offset);\n      var headerName = buf2str(chunk, offset + 1, offset + 1 + headerNameLength);\n      var headerValueLength = readIntBE(chunk, 16, offset + headerNameLength + 2);\n      var headerValue = buf2str(chunk, offset + headerNameLength + 4, offset + headerNameLength + 4 + headerValueLength);\n      header[headerName] = headerValue;\n      offset += headerNameLength + 4 + headerValueLength;\n    }\n\n    if (header[':event-type'] === 'Records') {\n      content = buf2str(chunk, offset, offset + payloadRestLength, true);\n      result.records.push(content);\n    } else if (header[':event-type'] === 'Stats') {\n      content = buf2str(chunk, offset, offset + payloadRestLength, true);\n      result.stats = util.xml2json(content).Stats;\n    } else if (header[':event-type'] === 'error') {\n      var errCode = header[':error-code'];\n      var errMessage = header[':error-message'];\n      var err = new Error(errMessage);\n      err.message = errMessage;\n      err.name = err.code = errCode;\n      result.error = err;\n    } else if (['Progress', 'Continuation', 'End'].includes(header[':event-type'])) {// do nothing\n    }\n\n    chunk = chunk.slice(offset + payloadRestLength + 4);\n  }\n\n  return {\n    payload: result.records.join(''),\n    body: body\n  };\n};\n\nvar getSourceParams = function getSourceParams(source) {\n  var parser = this.options.CopySourceParser;\n  if (parser) return parser(source);\n  var m = source.match(/^([^.]+-\\d+)\\.cos(v6|-cdc)?\\.([^.]+)\\.myqcloud\\.com\\/(.+)$/);\n  if (!m) return null;\n  return {\n    Bucket: m[1],\n    Region: m[3],\n    Key: m[4]\n  };\n};\n\nvar noop = function noop() {}; // 清除对象里值为的 undefined 或 null 的属性\n\n\nvar clearKey = function clearKey(obj) {\n  var retObj = {};\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n      retObj[key] = obj[key];\n    }\n  }\n\n  return retObj;\n};\n\nvar readAsBinaryString = function readAsBinaryString(blob, callback) {\n  var readFun;\n  var fr = new FileReader();\n\n  if (FileReader.prototype.readAsBinaryString) {\n    readFun = FileReader.prototype.readAsBinaryString;\n\n    fr.onload = function () {\n      callback(this.result);\n    };\n  } else if (FileReader.prototype.readAsArrayBuffer) {\n    // 在 ie11 添加 readAsBinaryString 兼容\n    readFun = function readFun(fileData) {\n      var binary = \"\";\n      var pt = this;\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var bytes = new Uint8Array(reader.result);\n        var length = bytes.byteLength;\n\n        for (var i = 0; i < length; i++) {\n          binary += String.fromCharCode(bytes[i]);\n        }\n\n        callback(binary);\n      };\n\n      reader.readAsArrayBuffer(fileData);\n    };\n  } else {\n    console.error('FileReader not support readAsBinaryString');\n  }\n\n  readFun.call(fr, blob);\n};\n\nvar fileSliceNeedCopy = function () {\n  var compareVersion = function compareVersion(a, b) {\n    a = a.split('.');\n    b = b.split('.');\n\n    for (var i = 0; i < b.length; i++) {\n      if (a[i] !== b[i]) {\n        return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\n      }\n    }\n\n    return 0;\n  };\n\n  var check = function check(ua) {\n    if (!ua) return false;\n    var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\n    var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\n    var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\n    var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0 && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0 && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\n    return need;\n  };\n\n  return check(typeof navigator !== 'undefined' && navigator.userAgent);\n}(); // 获取文件分片\n\n\nvar fileSlice = function fileSlice(file, start, end, isUseToUpload, callback) {\n  var blob;\n\n  if (file.slice) {\n    blob = file.slice(start, end);\n  } else if (file.mozSlice) {\n    blob = file.mozSlice(start, end);\n  } else if (file.webkitSlice) {\n    blob = file.webkitSlice(start, end);\n  }\n\n  if (isUseToUpload && fileSliceNeedCopy) {\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n      blob = null;\n      callback(new Blob([reader.result]));\n    };\n\n    reader.readAsArrayBuffer(blob);\n  } else {\n    callback(blob);\n  }\n}; // 获取文件内容的 MD5\n\n\nvar getBodyMd5 = function getBodyMd5(UploadCheckContentMd5, Body, callback, onProgress) {\n  callback = callback || noop;\n\n  if (UploadCheckContentMd5) {\n    if (typeof Body === 'string') {\n      callback(util.md5(Body, true));\n    } else if (Blob && Body instanceof Blob) {\n      util.getFileMd5(Body, function (err, md5) {\n        callback(md5);\n      }, onProgress);\n    } else {\n      callback();\n    }\n  } else {\n    callback();\n  }\n}; // 获取文件 md5 值\n\n\nvar md5ChunkSize = 1024 * 1024;\n\nvar getFileMd5 = function getFileMd5(blob, callback, onProgress) {\n  var size = blob.size;\n  var loaded = 0;\n  var md5ctx = md5.getCtx();\n\n  var next = function next(start) {\n    if (start >= size) {\n      var hash = md5ctx.digest('hex');\n      callback(null, hash);\n      return;\n    }\n\n    var end = Math.min(size, start + md5ChunkSize);\n    util.fileSlice(blob, start, end, false, function (chunk) {\n      readAsBinaryString(chunk, function (content) {\n        chunk = null;\n        md5ctx = md5ctx.update(content, true);\n        loaded += content.length;\n        content = null;\n        if (onProgress) onProgress({\n          loaded: loaded,\n          total: size,\n          percent: Math.round(loaded / size * 10000) / 10000\n        });\n        next(start + md5ChunkSize);\n      });\n    });\n  };\n\n  next(0);\n};\n\nfunction clone(obj) {\n  return map(obj, function (v) {\n    return _typeof(v) === 'object' && v !== null ? clone(v) : v;\n  });\n}\n\nfunction attr(obj, name, defaultValue) {\n  return obj && name in obj ? obj[name] : defaultValue;\n}\n\nfunction extend(target, source) {\n  each(source, function (val, key) {\n    target[key] = source[key];\n  });\n  return target;\n}\n\nfunction isArray(arr) {\n  return arr instanceof Array;\n}\n\nfunction isInArray(arr, item) {\n  var flag = false;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (item === arr[i]) {\n      flag = true;\n      break;\n    }\n  }\n\n  return flag;\n}\n\nfunction makeArray(arr) {\n  return isArray(arr) ? arr : [arr];\n}\n\nfunction each(obj, fn) {\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      fn(obj[i], i);\n    }\n  }\n}\n\nfunction map(obj, fn) {\n  var o = isArray(obj) ? [] : {};\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = fn(obj[i], i);\n    }\n  }\n\n  return o;\n}\n\nfunction filter(obj, fn) {\n  var iaArr = isArray(obj);\n  var o = iaArr ? [] : {};\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (fn(obj[i], i)) {\n        if (iaArr) {\n          o.push(obj[i]);\n        } else {\n          o[i] = obj[i];\n        }\n      }\n    }\n  }\n\n  return o;\n}\n\nvar binaryBase64 = function binaryBase64(str) {\n  var i,\n      len,\n      char,\n      res = '';\n\n  for (i = 0, len = str.length / 2; i < len; i++) {\n    char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\n    res += String.fromCharCode(char);\n  }\n\n  return btoa(res);\n};\n\nvar uuid = function uuid() {\n  var S4 = function S4() {\n    return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n  };\n\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\n};\n\nvar hasMissingParams = function hasMissingParams(apiName, params) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var Domain = this.options.Domain;\n  var checkBucket = !Domain || typeof Domain === 'string' && Domain.indexOf('{Bucket}') > -1;\n  var checkRegion = !Domain || typeof Domain === 'string' && Domain.indexOf('{Region}') > -1;\n\n  if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\n    if (checkBucket && !Bucket) return 'Bucket';\n    if (checkRegion && !Region) return 'Region';\n  } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\n    if (checkBucket && !Bucket) return 'Bucket';\n    if (checkRegion && !Region) return 'Region';\n    if (!Key) return 'Key';\n  }\n\n  return false;\n};\n\nvar formatParams = function formatParams(apiName, params) {\n  // 复制参数对象\n  params = extend({}, params); // 统一处理 Headers\n\n  if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\n    var Headers = params.Headers || {};\n\n    if (params && _typeof(params) === 'object') {\n      (function () {\n        for (var key in params) {\n          if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\n            Headers[key] = params[key];\n          }\n        }\n      })();\n\n      var headerMap = {\n        // params headers\n        'x-cos-mfa': 'MFA',\n        'Content-MD5': 'ContentMD5',\n        'Content-Length': 'ContentLength',\n        'Content-Type': 'ContentType',\n        'Expect': 'Expect',\n        'Expires': 'Expires',\n        'Cache-Control': 'CacheControl',\n        'Content-Disposition': 'ContentDisposition',\n        'Content-Encoding': 'ContentEncoding',\n        'Range': 'Range',\n        'If-Modified-Since': 'IfModifiedSince',\n        'If-Unmodified-Since': 'IfUnmodifiedSince',\n        'If-Match': 'IfMatch',\n        'If-None-Match': 'IfNoneMatch',\n        'x-cos-copy-source': 'CopySource',\n        'x-cos-copy-source-Range': 'CopySourceRange',\n        'x-cos-metadata-directive': 'MetadataDirective',\n        'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\n        'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\n        'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\n        'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\n        'x-cos-acl': 'ACL',\n        'x-cos-grant-read': 'GrantRead',\n        'x-cos-grant-write': 'GrantWrite',\n        'x-cos-grant-full-control': 'GrantFullControl',\n        'x-cos-grant-read-acp': 'GrantReadAcp',\n        'x-cos-grant-write-acp': 'GrantWriteAcp',\n        'x-cos-storage-class': 'StorageClass',\n        'x-cos-traffic-limit': 'TrafficLimit',\n        'x-cos-mime-limit': 'MimeLimit',\n        // SSE-C\n        'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\n        'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\n        'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\n        // SSE-COS、SSE-KMS\n        'x-cos-server-side-encryption': 'ServerSideEncryption',\n        'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\n        'x-cos-server-side-encryption-context': 'SSEContext'\n      };\n      util.each(headerMap, function (paramKey, headerKey) {\n        if (params[paramKey] !== undefined) {\n          Headers[headerKey] = params[paramKey];\n        }\n      });\n      params.Headers = clearKey(Headers);\n    }\n  }\n\n  return params;\n};\n\nvar apiWrapper = function apiWrapper(apiName, apiFn) {\n  return function (params, callback) {\n    var self = this; // 处理参数\n\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    } // 整理参数格式\n\n\n    params = formatParams(apiName, params); // tracker传递\n\n    var tracker;\n\n    if (self.options.EnableTracker) {\n      if (params.calledBySdk === 'sliceUploadFile') {\n        // 分块上传内部方法使用sliceUploadFile的子链路\n        tracker = params.tracker && params.tracker.generateSubTracker({\n          apiName: apiName\n        });\n      } else if (['uploadFile', 'uploadFiles'].includes(apiName)) {\n        // uploadFile、uploadFiles方法在内部处理，此处不处理\n        tracker = null;\n      } else {\n        var fileSize = -1;\n\n        if (params.Body) {\n          fileSize = typeof params.Body === 'string' ? params.Body.length : params.Body.size || params.Body.byteLength || -1;\n        }\n\n        tracker = new Tracker({\n          bucket: params.Bucket,\n          region: params.Region,\n          apiName: apiName,\n          fileKey: params.Key,\n          fileSize: fileSize,\n          deepTracker: self.options.DeepTracker,\n          customId: self.options.CustomId,\n          delay: self.options.TrackerDelay\n        });\n      }\n    }\n\n    params.tracker = tracker; // 代理回调函数\n\n    var formatResult = function formatResult(result) {\n      if (result && result.headers) {\n        result.headers['x-cos-request-id'] && (result.RequestId = result.headers['x-cos-request-id']);\n        result.headers['x-ci-request-id'] && (result.RequestId = result.headers['x-ci-request-id']);\n        result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\n        result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\n      }\n\n      return result;\n    };\n\n    var _callback = function _callback(err, data) {\n      // 格式化上报参数并上报\n      tracker && tracker.formatResult(err, data);\n      callback && callback(formatResult(err), formatResult(data));\n    };\n\n    var checkParams = function checkParams() {\n      if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\n        // 判断参数是否完整\n        var missingResult = hasMissingParams.call(self, apiName, params);\n\n        if (missingResult) {\n          return 'missing param ' + missingResult;\n        } // 判断 region 格式\n\n\n        if (params.Region) {\n          if (self.options.CompatibilityMode) {\n            if (!/^([a-z\\d-.]+)$/.test(params.Region)) {\n              return 'Region format error.';\n            }\n          } else {\n            if (params.Region.indexOf('cos.') > -1) {\n              return 'param Region should not be start with \"cos.\"';\n            } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\n              return 'Region format error.';\n            }\n          } // 判断 region 格式\n\n\n          if (!self.options.CompatibilityMode && params.Region.indexOf('-') === -1 && params.Region !== 'yfb' && params.Region !== 'default' && params.Region !== 'accelerate') {\n            console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\n          }\n        } // 兼容不带 AppId 的 Bucket\n\n\n        if (params.Bucket) {\n          if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\n            if (params.AppId) {\n              params.Bucket = params.Bucket + '-' + params.AppId;\n            } else if (self.options.AppId) {\n              params.Bucket = params.Bucket + '-' + self.options.AppId;\n            } else {\n              return 'Bucket should format as \"test-1250000000\".';\n            }\n          }\n\n          if (params.AppId) {\n            console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\n            delete params.AppId;\n          }\n        } // 如果 Key 是 / 开头，强制去掉第一个 /\n\n\n        if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\n          params.Key = params.Key.substr(1);\n        }\n      }\n    };\n\n    var errMsg = checkParams();\n    var isSync = apiName === 'getAuth' || apiName === 'getObjectUrl';\n\n    if (typeof Promise === 'function' && !isSync && !callback) {\n      return new Promise(function (resolve, reject) {\n        callback = function callback(err, data) {\n          err ? reject(err) : resolve(data);\n        };\n\n        if (errMsg) return _callback(util.error(new Error(errMsg)));\n        apiFn.call(self, params, _callback);\n      });\n    } else {\n      if (errMsg) return _callback(util.error(new Error(errMsg)));\n      var res = apiFn.call(self, params, _callback);\n      if (isSync) return res;\n    }\n  };\n};\n\nvar throttleOnProgress = function throttleOnProgress(total, onProgress) {\n  var self = this;\n  var size0 = 0;\n  var size1 = 0;\n  var time0 = Date.now();\n  var time1;\n  var timer;\n\n  function update() {\n    timer = 0;\n\n    if (onProgress && typeof onProgress === 'function') {\n      time1 = Date.now();\n      var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\n      var percent;\n\n      if (size1 === 0 && total === 0) {\n        percent = 1;\n      } else {\n        percent = Math.floor(size1 / total * 100) / 100 || 0;\n      }\n\n      time0 = time1;\n      size0 = size1;\n\n      try {\n        onProgress({\n          loaded: size1,\n          total: total,\n          speed: speed,\n          percent: percent\n        });\n      } catch (e) {}\n    }\n  }\n\n  return function (info, immediately) {\n    if (info) {\n      size1 = info.loaded;\n      total = info.total;\n    }\n\n    if (immediately) {\n      clearTimeout(timer);\n      update();\n    } else {\n      if (timer) return;\n      timer = setTimeout(update, self.options.ProgressInterval);\n    }\n  };\n};\n\nvar getFileSize = function getFileSize(api, params, callback) {\n  var size;\n\n  if (typeof params.Body === 'string') {\n    params.Body = new Blob([params.Body], {\n      type: 'text/plain'\n    });\n  } else if (params.Body instanceof ArrayBuffer) {\n    params.Body = new Blob([params.Body]);\n  }\n\n  if (params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]')) {\n    size = params.Body.size;\n  } else {\n    callback(util.error(new Error('params body format error, Only allow File|Blob|String.')));\n    return;\n  }\n\n  params.ContentLength = size;\n  callback(null, size);\n}; // 获取调正的时间戳\n\n\nvar getSkewTime = function getSkewTime(offset) {\n  return Date.now() + (offset || 0);\n};\n\nvar error = function error(err, opt) {\n  var sourceErr = err;\n  err.message = err.message || null;\n\n  if (typeof opt === 'string') {\n    err.error = opt;\n    err.message = opt;\n  } else if (_typeof(opt) === 'object' && opt !== null) {\n    extend(err, opt);\n    if (opt.code || opt.name) err.code = opt.code || opt.name;\n    if (opt.message) err.message = opt.message;\n    if (opt.stack) err.stack = opt.stack;\n  }\n\n  if (typeof Object.defineProperty === 'function') {\n    Object.defineProperty(err, 'name', {\n      writable: true,\n      enumerable: false\n    });\n    Object.defineProperty(err, 'message', {\n      enumerable: true\n    });\n  }\n\n  err.name = opt && opt.name || err.name || err.code || 'Error';\n  if (!err.code) err.code = err.name;\n  if (!err.error) err.error = clone(sourceErr); // 兼容老的错误格式\n\n  return err;\n};\n\nvar isWebWorker = function isWebWorker() {\n  // 有限判断 worker 环境的 constructor name 其次用 worker 独有的 FileReaderSync 兜底 详细参考 https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Using_web_workers\n  return (typeof globalThis === \"undefined\" ? \"undefined\" : _typeof(globalThis)) === 'object' && (globalThis.constructor.name === 'DedicatedWorkerGlobalScope' || globalThis.FileReaderSync);\n};\n\nvar isNode = function isNode() {\n  // 得兜底 web worker 环境中 webpack 用了 process 插件之类的情况\n  return (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) !== 'object' && (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && \"function\" === 'function' && !isWebWorker();\n};\n\nvar isCIHost = function isCIHost(url) {\n  return /^https?:\\/\\/([^/]+\\.)?ci\\.[^/]+/.test(url);\n};\n\nvar util = {\n  noop: noop,\n  formatParams: formatParams,\n  apiWrapper: apiWrapper,\n  xml2json: xml2json,\n  json2xml: json2xml,\n  md5: md5,\n  clearKey: clearKey,\n  fileSlice: fileSlice,\n  getBodyMd5: getBodyMd5,\n  getFileMd5: getFileMd5,\n  binaryBase64: binaryBase64,\n  extend: extend,\n  isArray: isArray,\n  isInArray: isInArray,\n  makeArray: makeArray,\n  each: each,\n  map: map,\n  filter: filter,\n  clone: clone,\n  attr: attr,\n  uuid: uuid,\n  camSafeUrlEncode: camSafeUrlEncode,\n  throttleOnProgress: throttleOnProgress,\n  getFileSize: getFileSize,\n  getSkewTime: getSkewTime,\n  error: error,\n  obj2str: obj2str,\n  getAuth: getAuth,\n  parseSelectPayload: parseSelectPayload,\n  getSourceParams: getSourceParams,\n  isBrowser: true,\n  isNode: isNode,\n  isCIHost: isCIHost\n};\nmodule.exports = util;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ })\n\n/******/ });\n});","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-upload',{staticClass:\"one\",class:{disabled: _vm.isDisabled},staticStyle:{\"margin-left\":\"4px\"},attrs:{\"action\":\"\",\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"on-preview\":_vm.handlePictureCardPreview,\"limit\":_vm.limit,\"on-remove\":_vm.handleRemove,\"http-request\":_vm.handleUpload,\"on-change\":_vm.handleChange,\"before-upload\":_vm.handleBeforeUpload}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <div>\r\n\r\n    <el-upload\r\n      :class=\"{disabled: isDisabled}\"\r\n      style=\"margin-left: 4px\"\r\n      class=\"one\"\r\n      action=\"\"\r\n\r\n      list-type=\"picture-card\"\r\n      :file-list=\"fileList\"\r\n      :on-preview=\"handlePictureCardPreview\"\r\n      :limit=\"limit\"\r\n      :on-remove=\"handleRemove\"\r\n      :http-request=\"handleUpload\"\r\n      :on-change=\"handleChange\"\r\n      :before-upload=\"handleBeforeUpload\"\r\n    >\r\n\r\n    </el-upload>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport COS from 'cos-js-sdk-v5' // 导入腾讯云的包(sdk)\r\n\r\nconst cos = new COS({\r\n  SecretId: 'AKIDfPzJOEo8D3cwc2CAvfFZdRzIKOErHRL0', // 身份识别ID\r\n  SecretKey: 'VmnY3IpAF4dw3wZw3uVL4cvyoRpzxhDV' // 身份秘钥\r\n})\r\nexport default {\r\n  props: {\r\n    // 图片上传的最大数量\r\n    limit: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      fileList: [\r\n\r\n      ],\r\n      //  图片预览对话框显示/隐藏\r\n      dialogVisible: false,\r\n      //  用于展示的图片地址,\r\n      dialogImageUrl: ''\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    // 控制上传按钮显示/隐藏\r\n    isDisabled () {\r\n      return this.fileList.length >= this.limit\r\n    },\r\n    // 该组件的所有图片是否都上传完毕(都上传完毕返回true, 只要存在没有传完的都返回false)\r\n    isUploadAll () {\r\n      return this.fileList.every(item => item.status === 'success')\r\n    }\r\n  },\r\n  methods: {\r\n    // 1. 图片预览\r\n    handlePictureCardPreview (file) {\r\n      // console.log(file)\r\n      this.dialogImageUrl = file.url\r\n      this.dialogVisible = true\r\n    },\r\n    // 删除\r\n    handleRemove (file, fileList) {\r\n      console.log(file, fileList, this.fileList)\r\n\r\n      this.fileList = [...fileList]\r\n    },\r\n    // 上传\r\n    handleUpload (obj) {\r\n      // 0. 找到对应的图片文件\r\n      const uid = obj.file.uid\r\n      const file = this.fileList.find(item => item.uid === uid)\r\n\r\n      file.status = 'uploading'\r\n      // 使用腾讯云SDK上传图片文件到存储桶\r\n      cos.putObject({\r\n        Bucket: 'hrsass-1313596731', /* 存储桶, 必填字段 */\r\n        Region: 'ap-shanghai', /* 存储桶所在区域, 必填字段 */\r\n        Key: 'hrsass' + parseInt(Math.random() * 99999) + obj.file.name, /* 存储在桶里的对象键, 必填字段 */\r\n        StorageClass: 'STANDARD',\r\n        Body: obj.file, // 上传的文件对象\r\n        onProgress: (progressData) => {\r\n          file.percentage = parseInt(progressData.percent * 100)\r\n        }\r\n      }, (err, data) => {\r\n        if (err) {\r\n          this.$message.error('图片上传失败')\r\n          return\r\n        }\r\n        // 1. 更新当前上传的对应图片的status为sucess\r\n        // console.log(obj, data)\r\n\r\n        setTimeout(() => {\r\n          file.status = 'success'\r\n        }, 1000)\r\n        // 2. 把本地预览地址更新成图片服务器返回的url地址\r\n        file.url = 'https://' + data.Location\r\n      })\r\n    },\r\n    // 当文件操作时，同步本地文件数组\r\n    handleChange (file, fileList) {\r\n      this.fileList = [...fileList]\r\n    },\r\n    // 上传前图片文件校验\r\n    handleBeforeUpload (file) {\r\n      const isLt2M = file.size / 1024 / 1024 <= 2\r\n      if (!isLt2M) {\r\n        this.$message.warning('上传图片过大')\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.disabled{\r\n  ::v-deep{\r\n    .el-upload--picture-card {\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploda-image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploda-image.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploda-image.vue?vue&type=template&id=fda85362&scoped=true&\"\nimport script from \"./uploda-image.vue?vue&type=script&lang=js&\"\nexport * from \"./uploda-image.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploda-image.vue?vue&type=style&index=0&id=fda85362&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fda85362\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}