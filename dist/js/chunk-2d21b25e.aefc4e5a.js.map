{"version":3,"sources":["webpack:///./src/module-hmmm/pages/companys/citys.vue?555c","webpack:///src/module-hmmm/pages/companys/citys.vue","webpack:///./src/module-hmmm/pages/companys/citys.vue?f3a5","webpack:///./src/module-hmmm/pages/companys/citys.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","staticClass","attrs","on","handleProvince","model","value","provAndCity","callback","$$v","$set","expression","_l","item","key","_v","handleCity","staticRenderFns","name","props","data","province","city","provinceList","cityList","created","getCityData","methods","$emit","e","watch","handler","newVal","deep","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,CAAC,QAAU,OAAO,cAAc,aAAa,CAACF,EAAG,YAAY,CAACG,YAAY,cAAcD,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,UAAY,IAAIC,GAAG,CAAC,OAAST,EAAIU,gBAAgBC,MAAM,CAACC,MAAOZ,EAAIa,YAAoB,SAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,YAAa,WAAYE,IAAME,WAAW,yBAAyBjB,EAAIkB,GAAIlB,EAAgB,cAAE,SAASmB,GAAM,OAAOf,EAAG,YAAY,CAACgB,IAAID,EAAKX,MAAM,CAAC,MAAQW,EAAK,MAAQA,QAAU,GAAGf,EAAG,QAAQ,CAACE,YAAY,CAAC,OAAS,SAAS,cAAc,WAAW,CAACN,EAAIqB,GAAG,OAAOjB,EAAG,YAAY,CAACG,YAAY,cAAcD,YAAY,CAAC,MAAQ,SAASE,MAAM,CAAC,UAAY,IAAIC,GAAG,CAAC,OAAST,EAAIsB,YAAYX,MAAM,CAACC,MAAOZ,EAAIa,YAAgB,KAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,YAAa,OAAQE,IAAME,WAAW,qBAAqBjB,EAAIkB,GAAIlB,EAAY,UAAE,SAASmB,GAAM,OAAOf,EAAG,YAAY,CAACgB,IAAID,EAAKX,MAAM,CAAC,MAAQW,EAAK,MAAQA,QAAU,IAAI,IACt+BI,EAAkB,G,YCwBtB,GACEC,KAAM,QACNC,MAAO,CAAC,SACRC,KAHF,WAII,MAAO,CACLb,YAAa,CACXc,SAAU1B,KAAKW,MAAMe,SACrBC,KAAM3B,KAAKW,MAAMgB,MAEnBC,aAAc,GACdC,SAAU,KAGdC,QAbF,WAcI9B,KAAK+B,eAEPC,QAAS,CAEPD,YAAa,WACX/B,KAAK4B,aAAe,OAA1B,OAA0B,GAChB5B,KAAKY,YAAYc,WACnB1B,KAAK6B,SAAW,OAAxB,OAAwB,CAAxB,6BAIIR,WAAY,SAAhB,GACMrB,KAAK6B,SAAW,OAAtB,OAAsB,CAAtB,GAEM7B,KAAKiC,MAAM,QAAS,CAClBP,SAAU1B,KAAKY,YAAYc,SAC3BC,KAAMO,KAIVzB,eAAgB,SAApB,GACMT,KAAK6B,SAAW,OAAtB,OAAsB,CAAtB,GACM7B,KAAKiC,MAAM,QAAS,CAClBP,SAAU1B,KAAKY,YAAYc,SAC3BC,KAAM3B,KAAK6B,SAAS,OAI1BM,MAAO,CAaLxB,MAAO,CACLyB,QADN,SACA,KAEQpC,KAAKY,YAAYc,SAAWW,EAAOX,SAEnC1B,KAAK6B,SAAW,OAAxB,OAAwB,CAAxB,YAEQ7B,KAAKY,YAAYe,KAAOU,EAAOV,MAEjCW,MAAM,KCzFiW,I,YCOzWC,EAAY,eACd,EACAzC,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E","file":"js/chunk-2d21b25e.aefc4e5a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.handleProvince},model:{value:(_vm.provAndCity.province),callback:function ($$v) {_vm.$set(_vm.provAndCity, \"province\", $$v)},expression:\"provAndCity.province\"}},_vm._l((_vm.provinceList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1),_c('label',{staticStyle:{\"margin\":\"0 10px\",\"font-weight\":\"normal\"}},[_vm._v(\"市\")]),_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"130px\"},attrs:{\"clearable\":\"\"},on:{\"change\":_vm.handleCity},model:{value:(_vm.provAndCity.city),callback:function ($$v) {_vm.$set(_vm.provAndCity, \"city\", $$v)},expression:\"provAndCity.city\"}},_vm._l((_vm.cityList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"display: flex;align-items: baseline;\">\r\n    <el-select\r\n      class=\"filter-item\"\r\n      style=\"width: 130px;\"\r\n      v-model=\"provAndCity.province\"\r\n      @change=\"handleProvince\"\r\n      clearable\r\n    >\r\n      <el-option v-for=\"item in provinceList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n    </el-select><label style=\"margin:0 10px; font-weight:normal\">市</label>\r\n    <el-select\r\n      class=\"filter-item\"\r\n      style=\"width: 130px;\"\r\n      v-model=\"provAndCity.city\"\r\n      @change=\"handleCity\"\r\n      clearable\r\n    >\r\n      <el-option v-for=\"item in cityList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n    </el-select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { provinces as getProvinces, citys as getCitys } from '@/api/hmmm/citys.js'\r\nexport default {\r\n  name: 'citys',\r\n  props: ['value'],\r\n  data () {\r\n    return {\r\n      provAndCity: {\r\n        province: this.value.province,\r\n        city: this.value.city\r\n      },\r\n      provinceList: [],\r\n      cityList: []\r\n    }\r\n  },\r\n  created () {\r\n    this.getCityData()\r\n  },\r\n  methods: {\r\n    // 获取省\r\n    getCityData: function () {\r\n      this.provinceList = getProvinces()\r\n      if (this.provAndCity.province) {\r\n        this.cityList = getCitys(this.provAndCity.province)\r\n      }\r\n    },\r\n    // 选省获取到市\r\n    handleCity: function (e) {\r\n      this.cityList = getCitys(e)\r\n      // this.value.city = this.cityList[0]\r\n      this.$emit('input', {\r\n        province: this.provAndCity.province,\r\n        city: e\r\n      })\r\n    },\r\n    // 选省获取到市\r\n    handleProvince: function (e) {\r\n      this.cityList = getCitys(e)\r\n      this.$emit('input', {\r\n        province: this.provAndCity.province,\r\n        city: this.cityList[0]\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    // 由于父组件中传入的v-model=\"XXXX\",这里的xxxx是通过ajax取回来的数据\r\n    // 所以，在传值的过程中是有一个变化：\r\n    // 1. 初始值是\"\"\r\n    // 2. ajax回来之后，取到了，自动传入子组件（v-model是响应式）\r\n    // 所以，要用watch监听这个变化\r\n    // 格式是：\r\n    // 字符段： {\r\n    //   handler:(newVal, oldVal) {\r\n\r\n    //   },\r\n    //   deep: true\r\n    // }\r\n    value: {\r\n      handler (newVal, oldVal) {\r\n        // 更新省份\r\n        this.provAndCity.province = newVal.province\r\n        // 获取对应市级的数据\r\n        this.cityList = getCitys(newVal.province)\r\n        // 更新市\r\n        this.provAndCity.city = newVal.city\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citys.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./citys.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./citys.vue?vue&type=template&id=6b801638&\"\nimport script from \"./citys.vue?vue&type=script&lang=js&\"\nexport * from \"./citys.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}