{"version":3,"sources":["webpack:///./src/module-hmmm/pages/companys/companys.vue?32be","webpack:///./src/api/hmmm/constants.js","webpack:///./src/module-hmmm/pages/companys/companys.vue?3cf4","webpack:///./src/module-hmmm/pages/companys/companys.vue","webpack:///src/module-hmmm/pages/companys/companys.vue","webpack:///./src/module-hmmm/pages/companys/companys.vue?87e0","webpack:///./src/module-hmmm/pages/companys/companys.vue?a18e"],"names":["status","value","label","difficulty","questionType","direction","render","_vm","this","_c","_self","staticClass","attrs","ref","form","staticStyle","on","$event","type","indexOf","_k","keyCode","key","hQuery","apply","arguments","model","tags","callback","$$v","$set","expression","provAndCity","shortName","trim","state","_l","item","isLoading","_v","hResetForm","hAddComponey","cResultTip","_e","directives","name","rawName","companys","scopedSlots","_u","fn","scope","_s","row","id","number","creatorID","addDate","remarks","substring","hEdit","hSwitchStatus","hDelete","total","Number","page","pagesize","hSizeChange","hCurrentChange","isShowDialog","cTitle","curCompanyId","loadCompanys","staticRenderFns","components","CompanysAdd","MyCity","data","province","city","created","computed","methods","buildParams","paramsObj","getCompanys","res","console","val","curPage","doDelete","remove","userId","then","catch","doSwitch","disabled","component"],"mappings":"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","file":"js/chunk-03d6923c.4ff4011e.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=style&index=0&id=1d2d2f3a&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","/*\r\n * @Author: taoshiwei\r\n * @Date: 2019-04-09 14:26:41\r\n * @Last Modified by: taoshiwei\r\n * @Last Modified time: 2019-04-29 10:57:59\r\n *\r\n * 通用常量\r\n */\r\n\r\n// 状态\r\nexport const status = [\r\n  {\r\n    value: 1,\r\n    label: '启用'\r\n  },\r\n  {\r\n    value: 0,\r\n    label: '禁用'\r\n  }\r\n]\r\n\r\n// 难度\r\nexport const difficulty = [\r\n  {\r\n    value: 1,\r\n    label: '简单'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: '一般'\r\n  },\r\n  {\r\n    value: 3,\r\n    label: '困难'\r\n  }\r\n]\r\n\r\n// 题型\r\nexport const questionType = [\r\n  {\r\n    value: 1,\r\n    label: '单选'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: '多选'\r\n  },\r\n  {\r\n    value: 3,\r\n    label: '简答'\r\n  }\r\n]\r\n\r\n// 方向\r\nexport const direction = [\r\n  'o2o',\r\n  '外包服务',\r\n  '企业服务',\r\n  '互联网金融',\r\n  '企业咨询',\r\n  '互联网',\r\n  '电子商务',\r\n  '其他'\r\n]\r\n\r\n// 精品审核\r\nexport const chkType = [\r\n  {\r\n    value: 1,\r\n    label: '待审核'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: '通过'\r\n  },\r\n  {\r\n    value: 3,\r\n    label: '拒绝'\r\n  }\r\n]\r\n\r\n// 发布状态\r\nexport const publishType = [\r\n  {\r\n    value: 1,\r\n    label: '待发布'\r\n  },\r\n  {\r\n    value: 2,\r\n    label: '已发布'\r\n  },\r\n  {\r\n    value: 3,\r\n    label: '已下架'\r\n  }\r\n]\r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=style&index=1&id=1d2d2f3a&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-container\"},[_c('div',{staticClass:\"app-container\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form}},[_c('div',{staticClass:\"filter-container\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"标签名称：\",\"prop\":\"tags\"}},[_c('el-input',{staticClass:\"filter-item\",staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"请输入\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.hQuery.apply(null, arguments)}},model:{value:(_vm.form.tags),callback:function ($$v) {_vm.$set(_vm.form, \"tags\", $$v)},expression:\"form.tags\"}})],1)],1),_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{attrs:{\"label\":\"城市\"}},[_c('MyCity',{model:{value:(_vm.form.provAndCity),callback:function ($$v) {_vm.$set(_vm.form, \"provAndCity\", $$v)},expression:\"form.provAndCity\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"企业简称：\",\"prop\":\"shortName\"}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},model:{value:(_vm.form.shortName),callback:function ($$v) {_vm.$set(_vm.form, \"shortName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.shortName\"}})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-form-item',{attrs:{\"label\":\"状态：\",\"prop\":\"state\"}},[_c('el-select',{staticClass:\"filter-item\",staticStyle:{\"width\":\"100px\"},attrs:{\"clearable\":\"\"},model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},_vm._l((_vm.status),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('el-button',{attrs:{\"loading\":_vm.isLoading,\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.hQuery}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.hResetForm}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-button',{staticClass:\"filter-item fr\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.hAddComponey}},[_vm._v(\"新增公司\")])],1)]),(_vm.cResultTip)?_c('el-alert',{staticClass:\"alert\",attrs:{\"title\":_vm.cResultTip,\"type\":\"info\",\"closable\":false,\"show-icon\":\"\"}}):_vm._e(),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.companys,\"element-loading-text\":\"给我一点时间\",\"fit\":\"\",\"highlight-current-row\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"序号\",\"width\":\"70\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"企业编号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.number))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"企业简称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.shortName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"标签\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.tags))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建者\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.creatorID))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"创建日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.addDate))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"备注\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.remarks.substring(0,3)))])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.state==1)?_c('span',[_vm._v(\"启用\")]):_c('span',[_vm._v(\"禁用\")])]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"280\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.hEdit(scope.row.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.hSwitchStatus(scope.row)}}},[_c('span',[_vm._v(_vm._s(scope.row.state ===0 ? '启用' : '禁用'))])]),(scope.row.status!='deleted')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.hDelete(scope.row.id)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total),expression:\"total\"}],staticClass:\"pagination\"},[_c('div',{staticClass:\"pages\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":Number(_vm.form.page),\"total\":Number(_vm.total),\"page-size\":Number(_vm.form.pagesize),\"page-sizes\":[10,20,30, 50],\"layout\":\"sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.hSizeChange,\"current-change\":_vm.hCurrentChange}})],1)])],1),(_vm.isShowDialog)?_c('el-dialog',{attrs:{\"title\":_vm.cTitle,\"visible\":_vm.isShowDialog},on:{\"update:visible\":function($event){_vm.isShowDialog=$event}}},[_c('CompanysAdd',{ref:\"editUser\",attrs:{\"companyId\":_vm.curCompanyId},on:{\"close\":function($event){_vm.isShowDialog=false},\"refresh\":_vm.loadCompanys}})],1):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"dashboard-container\">\r\n    <div class=\"app-container\">\r\n      <el-card shadow=\"never\">\r\n        <!-- 搜索 -->\r\n        <el-form :model=\"form\" ref=\"form\">\r\n          <div class=\"filter-container\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"标签名称：\" prop=\"tags\">\r\n                  <el-input\r\n                    @keyup.enter=\"hQuery\"\r\n                    style=\"width: 180px;\"\r\n                    placeholder=\"请输入\"\r\n                    class=\"filter-item\"\r\n                    v-model=\"form.tags\"\r\n                  ></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"8\">\r\n                <el-form-item label=\"城市\">\r\n                  <MyCity v-model=\"form.provAndCity\"/>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item label=\"企业简称：\" prop=\"shortName\">\r\n                  <el-input v-model.trim=\"form.shortName\" style=\"width: 180px;\"></el-input>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"4\">\r\n                <el-form-item label=\"状态：\" prop=\"state\">\r\n                  <el-select\r\n                    class=\"filter-item\"\r\n                    style=\"width: 100px;\"\r\n                    v-model=\"form.state\"\r\n                    clearable\r\n                  >\r\n                    <el-option\r\n                      v-for=\"item in status\"\r\n                      :key=\"item.value\"\r\n                      :label=\"item.label\"\r\n                      :value=\"item.value\"\r\n                    ></el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <el-form-item>\r\n                  <el-button\r\n                    :loading=\"isLoading\"\r\n                    size=\"small\"\r\n                    type=\"primary\"\r\n                    @click=\"hQuery\"\r\n                  >查询</el-button>\r\n                  <el-button\r\n                  size=\"small\"\r\n                  @click=\"hResetForm\">重置</el-button>\r\n                </el-form-item>\r\n              </el-col>\r\n            </el-row>\r\n\r\n            <el-button\r\n              class=\"filter-item fr\"\r\n              size=\"small\"\r\n              style=\"margin-left: 10px;\"\r\n              @click=\"hAddComponey\"\r\n              type=\"primary\"\r\n              icon=\"el-icon-edit\"\r\n            >新增公司</el-button>\r\n          </div>\r\n        </el-form>\r\n        <!-- 数据记录 -->\r\n        <el-alert\r\n          v-if=\"cResultTip\"\r\n          :title=\"cResultTip\"\r\n          type=\"info\"\r\n          class=\"alert\"\r\n          :closable=\"false\"\r\n          show-icon\r\n        ></el-alert>\r\n        <!-- end -->\r\n        <!-- 数据列表 -->\r\n        <el-table\r\n          :data=\"companys\"\r\n          v-loading=\"isLoading\"\r\n          element-loading-text=\"给我一点时间\"\r\n          fit\r\n          highlight-current-row\r\n          style=\"width: 100%\"\r\n          border\r\n        >\r\n          <el-table-column align=\"center\" label=\"序号\" width=\"70\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.id}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"企业编号\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.number}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"企业简称\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.shortName}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"标签\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.tags}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"创建者\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.creatorID}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"创建日期\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.addDate}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"备注\">\r\n            <template slot-scope=\"scope\">\r\n              <span>{{scope.row.remarks.substring(0,3)}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"状态\" width=\"80\">\r\n            <template slot-scope=\"scope\">\r\n              <span v-if=\"scope.row.state==1\">启用</span>\r\n              <span v-else>禁用</span>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- 操作按钮 -->\r\n          <el-table-column\r\n            align=\"center\"\r\n            label=\"操作\"\r\n            width=\"280\"\r\n            class-name=\"small-padding fixed-width\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"primary\" size=\"mini\" @click=\"hEdit(scope.row.id)\">编辑</el-button>\r\n              <el-button type=\"primary\" size=\"mini\" @click=\"hSwitchStatus(scope.row)\">\r\n                <span >{{scope.row.state ===0 ? '启用' : '禁用'}}</span>\r\n              </el-button>\r\n              <el-button\r\n                v-if=\"scope.row.status!='deleted'\"\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"hDelete(scope.row.id)\"\r\n              >删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <!-- end -->\r\n        <!-- 分页 -->\r\n        <div class=\"pagination\" v-show=\"total\">\r\n          <div class=\"pages\">\r\n            <el-pagination\r\n              background\r\n              @size-change=\"hSizeChange\"\r\n              @current-change=\"hCurrentChange\"\r\n              :current-page=\"Number(form.page)\"\r\n              :total=\"Number(total)\"\r\n              :page-size=\"Number(form.pagesize)\"\r\n              :page-sizes=\"[10,20,30, 50]\"\r\n              layout=\"sizes, prev, pager, next, jumper\"\r\n            ></el-pagination>\r\n          </div>\r\n        </div>\r\n        <!-- end -->\r\n      </el-card>\r\n\r\n      <!-- 新增标签弹层\r\n\r\n        把对话框留在父组件中，把对话框中的核心内容提出来，封装成一个组件。\r\n\r\n        为什么不把对话框一起封装？\r\n        (1) 便于复用。如果与对话框绑定了，则后期如果要单独拿做一个页面，则无法复用。\r\n        (2) 对话框留在父组件，操作更方便。\r\n      -->\r\n      <el-dialog :title=\"cTitle\"\r\n        :visible.sync=\"isShowDialog\"\r\n        v-if=\"isShowDialog\"\r\n        >\r\n        <CompanysAdd ref=\"editUser\"\r\n        :companyId=\"curCompanyId\"\r\n        @close=\"isShowDialog=false\"\r\n        @refresh=\"loadCompanys\"></CompanysAdd>\r\n\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { status } from '@/api/hmmm/constants'\r\nimport { list as getCompanys, remove, disabled } from '@/api/hmmm/companys'\r\nimport CompanysAdd from './companys-add'\r\nimport MyCity from './citys'\r\nexport default {\r\n  name: 'CompanysList',\r\n  components: {\r\n    CompanysAdd,\r\n    MyCity\r\n  },\r\n  data () {\r\n    return {\r\n      companys: [],\r\n      total: 0,\r\n\r\n      curCompanyId: null, // 区别于是否是编辑，还是添加\r\n\r\n      isLoading: false,\r\n      isShowDialog: false,\r\n\r\n      // 查询表单中的参数\r\n      form: {\r\n        shortName: '',\r\n        state: null,\r\n        tags: '',\r\n        provAndCity: {\r\n          province: '',\r\n          city: ''\r\n        },\r\n        page: 1,\r\n        pagesize: 10\r\n      }\r\n    }\r\n  },\r\n  // 创建完毕,做一次查询\r\n  created () {\r\n    this.loadCompanys()\r\n  },\r\n  computed: {\r\n    status () {\r\n      return status\r\n    },\r\n    cResultTip () {\r\n      return `共 ${this.total} 条记录`\r\n    },\r\n    cTitle () {\r\n      return this.curCompanyId ? '编辑公司' : '添加新公司'\r\n    }\r\n  },\r\n  methods: {\r\n    buildParams () {\r\n      const paramsObj = {}\r\n      const { page, pagesize, provAndCity, tags, state } = this.form\r\n      // 如果某一个参数是null,则axios就不会发这个参数\r\n      // 如果某一个参数是\"\"，axios是会发出这个参数\r\n      paramsObj.page = page || null\r\n      paramsObj.pagesize = pagesize || null\r\n      paramsObj.tags = tags || null\r\n      paramsObj.province = provAndCity.city || null\r\n      paramsObj.city = provAndCity.city || null\r\n      paramsObj.state = state === '' ? null : state\r\n      return paramsObj\r\n    },\r\n    // 获取列表数据\r\n    async loadCompanys () {\r\n      this.isLoading = true\r\n      // 构建查询参数\r\n      const paramsObj = this.buildParams()\r\n\r\n      try {\r\n        const { data: res } = await getCompanys(paramsObj)\r\n        // 获取数据给companys\r\n        this.companys = res.items\r\n        // 获取总条数\r\n        this.total = res.counts\r\n\r\n        this.isLoading = false\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.isLoading = true\r\n      }\r\n    },\r\n    // 重置整个表单\r\n    hResetForm () {\r\n      // el 表单组件上有一个resetFields方法\r\n      this.$refs.form.resetFields()\r\n\r\n      // 由于provAndCity传给了自定义组件，它们并不是在当前表单中直接\r\n      // 使用的，所以，这里要去做手动清空\r\n      this.form.provAndCity.province = ''\r\n      this.form.provAndCity.city = ''\r\n    },\r\n    // 搜索信息\r\n    hQuery () {\r\n      // 重置页码\r\n      this.form.page = 1\r\n      // 重发请求\r\n      this.loadCompanys()\r\n    },\r\n    // 更改每页显示的条数\r\n    hSizeChange (val) {\r\n      this.form.pagesize = val\r\n\r\n      if (this.form.page === 1) {\r\n        this.loadCompanys()\r\n      }\r\n    },\r\n    // 点击某一个页码\r\n    hCurrentChange (curPage) {\r\n      this.form.page = curPage\r\n      this.loadCompanys()\r\n    },\r\n\r\n    // 新增用户、编辑用户\r\n    hAddComponey () {\r\n      this.curCompanyId = ''\r\n      this.isShowDialog = true\r\n    },\r\n    hEdit (id) {\r\n      this.curCompanyId = id\r\n      this.isShowDialog = true\r\n    },\r\n    async doDelete (id) {\r\n      try {\r\n        await remove({ id })\r\n        this.$message.success('成功删除了用户!')\r\n        this.loadCompanys()\r\n      } catch (err) {\r\n        this.$message.error('删除失败!')\r\n      }\r\n    },\r\n    // 删除\r\n    hDelete (userId) {\r\n      this.$confirm('此操作将永久删除用户 ' + ', 是否继续?', '提示', {\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          this.doDelete(userId)\r\n        })\r\n        .catch(() => {\r\n          this.$message.info('已取消操作!')\r\n        })\r\n    },\r\n    async doSwitch (row) {\r\n      var data = {\r\n        id: row.id,\r\n        state: Number(!row.state)\r\n      }\r\n      console.log(data)\r\n      await disabled(data)\r\n        .then(response => {\r\n          this.$message.success('操作成功!')\r\n          this.loadCompanys(this.form)\r\n        })\r\n        .catch(response => {\r\n          this.$message.error(status + '失败!')\r\n        })\r\n    },\r\n    // 启用、禁用\r\n    hSwitchStatus (row) {\r\n      const tip = '已成功' + (row.state ? '禁用' : '启用') + ', 是否继续?'\r\n      this.$confirm(tip, '提示', {\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          this.doSwitch(row)\r\n        })\r\n        .catch(() => {\r\n          this.$message.info('已取消操作!')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n.alert {\r\n  margin: 10px 0px;\r\n}\r\n.pagination {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n\r\n<style>\r\n.el-table th {\r\n  background-color: #fafafa;\r\n}\r\n.el-table th.is-leaf {\r\n  border-bottom: 2px solid #e8e8e8;\r\n}\r\n.disabled td {\r\n  background-color: #f9f9f9;\r\n  color: #c1c1c1;\r\n}\r\n.disabled .el-button--primary,\r\n.disabled .el-button--danger {\r\n  background-color: #dbdada;\r\n  border: 1px solid #dbdada;\r\n  color: #999;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./companys.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./companys.vue?vue&type=template&id=1d2d2f3a&scoped=true&\"\nimport script from \"./companys.vue?vue&type=script&lang=js&\"\nexport * from \"./companys.vue?vue&type=script&lang=js&\"\nimport style0 from \"./companys.vue?vue&type=style&index=0&id=1d2d2f3a&prod&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\nimport style1 from \"./companys.vue?vue&type=style&index=1&id=1d2d2f3a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d2d2f3a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}