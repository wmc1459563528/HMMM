{"version":3,"sources":["webpack:///./src/module-hmmm/components/articles-add.vue?68b5","webpack:///./src/module-hmmm/pages/articles.vue","webpack:///src/module-hmmm/pages/articles.vue","webpack:///./src/module-hmmm/pages/articles.vue?cec9","webpack:///./src/module-hmmm/pages/articles.vue?0c51","webpack:///./src/module-hmmm/pages/articles.vue?77ae","webpack:///./src/module-hmmm/components/articles-preview.vue?3abe","webpack:///./src/module-hmmm/components/articles-preview.vue","webpack:///src/module-hmmm/components/articles-preview.vue","webpack:///./src/module-hmmm/components/articles-preview.vue?87f8","webpack:///./src/module-hmmm/components/articles-preview.vue?7215","webpack:///./src/api/hmmm/articles.js","webpack:///./src/module-hmmm/components/articles-add.vue","webpack:///src/module-hmmm/components/articles-add.vue","webpack:///./src/module-hmmm/components/articles-add.vue?d545","webpack:///./src/module-hmmm/components/articles-add.vue?a739"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticStyle","model","value","form","keyword","callback","$$v","$set","expression","state","on","$event","handleClear","_v","handleSearch","handleOpenDialog","total","directives","name","rawName","loading","ArticlesList","indexMethod","scopedSlots","_u","key","fn","scope","_s","row","title","videoURL","handleVideo","_e","_f","createTime","handlePreview","handletoggleState","totals","handleDelArticle","pagesize","page","handleCurrentChange","handleSizeChange","ref","currArticle","handelUpdateList","isShowDialogVisible","handleClose","staticRenderFns","components","ArticlesAdd","ArticlesPreview","data","created","methods","getAtricleList","list","items","counts","index","val","size","article","changeState","id","url","console","articleData","type","remove","component","isShow","username","domProps","articleBody","props","default","createAPI","add","update","show","formModel","formRules","editorOptions","slot","confirm","quillEditor","required","message","tirgger","placeholder","modules","toolbar","open","flag"],"mappings":"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","file":"js/chunk-3896c3e2.cfbe5b0b.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=style&index=0&id=54a36e56&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"articles-container\"},[_c('el-card',[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('el-form',{attrs:{\"label-width\":\"80px\",\"size\":\"small\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"关键字\"}},[_c('el-input',{staticStyle:{},model:{value:(_vm.form.keyword),callback:function ($$v) {_vm.$set(_vm.form, \"keyword\", $$v)},expression:\"form.keyword\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{model:{value:(_vm.form.state),callback:function ($$v) {_vm.$set(_vm.form, \"state\", $$v)},expression:\"form.state\"}},[_c('el-option',{attrs:{\"value\":1,\"label\":\"启用\"}}),_c('el-option',{attrs:{\"value\":0,\"label\":\"禁用\"}})],1)],1),_c('el-form-item',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{on:{\"click\":function($event){return _vm.handleClear()}}},[_vm._v(\"清除\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleSearch()}}},[_vm._v(\"搜索\")])],1)],1)],1),_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":2}},[_c('el-button',{attrs:{\"icon\":\"el-icon-edit\",\"type\":\"success\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleOpenDialog()}}},[_vm._v(\"新增技巧\")])],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-alert',{attrs:{\"title\":`数据一共${_vm.total}条`,\"type\":\"info\",\"show-icon\":\"\",\"closable\":false}})],1)],1),_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"element-loading-text\":\"拼命加载中\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.ArticlesList}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"index\":_vm.indexMethod,\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"label\":\"文章标题\",\"width\":\"400px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.title)+\" \"),(scope.row.videoURL)?_c('a',{staticClass:\"el-icon-film\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.handleVideo(scope.row.videoURL)}}}):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"阅读数\",\"prop\":\"visits\"}}),_c('el-table-column',{attrs:{\"label\":\"录入人\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"录入时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(_vm._f(\"parseTimeByString\")(scope.row.createTime)))]}}])}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.state===1?'已启用':'已禁用'))]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handlePreview(scope.row)}}},[_vm._v(\"预览\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.handletoggleState(scope.row)}}},[_vm._v(_vm._s(scope.row.state===1?'禁用':'启用'))]),_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":scope.row.state===1},on:{\"click\":function($event){return _vm.handleOpenDialog(scope.row)}}},[_vm._v(\"修改\")]),_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":scope.row.state===1||scope.row.totals > 0},on:{\"click\":function($event){return _vm.handleDelArticle(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\",\"text-align\":\"right\"},attrs:{\"background\":\"\",\"layout\":\"prev, pager, next, sizes, jumper\",\"total\":_vm.total,\"page-size\":_vm.pagesize,\"current-page\":_vm.page,\"page-sizes\":[5,10,20,30]},on:{\"current-change\":_vm.handleCurrentChange,\"size-change\":_vm.handleSizeChange}})],1),_c('articles-add',{ref:\"articlesAdd\",attrs:{\"data\":_vm.currArticle},on:{\"updateList\":function($event){return _vm.handelUpdateList()}}}),_c('articles-preview',{attrs:{\"articles-list\":_vm.currArticle,\"isShow\":_vm.isShowDialogVisible},on:{\"update:isShow\":function($event){_vm.isShowDialogVisible=$event},\"update:is-show\":function($event){_vm.isShowDialogVisible=$event}}}),(_vm.videoURL)?_c('div',[_c('div',{staticClass:\"el-icon-close\",on:{\"click\":_vm.handleClose}},[_c('video',{ref:\"video\",attrs:{\"src\":_vm.videoURL,\"controls\":\"\"}})])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"articles-container\">\r\n    <el-card>\r\n      <!-- 顶部表单部分 -->\r\n      <el-row>\r\n        <el-col :span=\"22\">\r\n          <el-form label-width=\"80px\" size=\"small\" :inline=\"true\">\r\n            <el-form-item label=\"关键字\">\r\n              <el-input style=\"200px\" v-model=\"form.keyword\"></el-input>\r\n           </el-form-item>\r\n            <el-form-item label=\"状态\">\r\n              <el-select v-model=\"form.state\">\r\n                <el-option :value=\"1\" label=\"启用\"></el-option>\r\n                <el-option :value=\"0\" label=\"禁用\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item style=\"text-align:right\">\r\n              <el-button @click=\"handleClear()\">清除</el-button>\r\n              <el-button @click=\"handleSearch()\" type=\"primary\">搜索</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n        <el-col :span=\"2\" style=\"text-align:right\">\r\n          <el-button icon=\"el-icon-edit\" @click=\"handleOpenDialog()\" type=\"success\" size=\"small\">新增技巧</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n            <!-- 利用模板字符串来显示信息 :closable='false'不可关闭 -->\r\n            <el-alert\r\n              :title=\"`数据一共${total}条`\"\r\n              type=\"info\"\r\n              show-icon\r\n              :closable=\"false\"\r\n            ></el-alert>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 表格 -->\r\n    <el-row v-loading=\"loading\"  element-loading-text=\"拼命加载中\">\r\n      <el-col :span=\"24\">\r\n       <el-table :data=\"ArticlesList\" style=\"width: 100%\">\r\n              <el-table-column\r\n                type=\"index\"\r\n                label=\"序号\"\r\n                :index=\"indexMethod\"\r\n                width=\"80\"\r\n              />\r\n          <el-table-column label=\"文章标题\" width=\"400px\">\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.title}}\r\n               <!-- href=\"javascript:;\"阻止a链接的默认行为 也可以给click绑定prevent  -->\r\n              <a @click=\"handleVideo(scope.row.videoURL)\" v-if=\"scope.row.videoURL\" href=\"javascript:;\" class=\"el-icon-film\"></a>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"阅读数\" prop=\"visits\"></el-table-column>\r\n          <el-table-column label=\"录入人\" prop=\"username\"></el-table-column>\r\n          <el-table-column label=\"录入时间\">\r\n            <!--\r\n              如果和父组件中先用到子组件中的数据 就需要用到 slot-scope\r\n              scope可以获取到 row, column, $index 和 store（table 内部的状态管理）的数据\r\n             -->\r\n            <!-- 利用管道符来修改时间格式 -->\r\n            <template slot-scope=\"scope\">{{scope.row.createTime|parseTimeByString}}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"状态\" width=\"100px\">\r\n            <template slot-scope=\"scope\">{{scope.row.state===1?'已启用':'已禁用'}}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\" width=\"180px\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"text\" @click=\"handlePreview(scope.row)\">预览</el-button>\r\n              <el-button type=\"text\" @click=\"handletoggleState(scope.row)\">{{scope.row.state===1?'禁用':'启用'}}</el-button>\r\n              <el-button type=\"text\" @click=\"handleOpenDialog(scope.row)\" :disabled=\"scope.row.state===1\">修改</el-button>\r\n              <el-button type=\"text\" @click=\"handleDelArticle(scope.row)\" :disabled=\"scope.row.state===1||scope.row.totals > 0\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n      <!-- 分页 -->\r\n      <el-pagination\r\n        style=\"margin-top:20px;text-align:right\"\r\n        background\r\n        layout=\"prev, pager, next, sizes, jumper\"\r\n        :total=\"total\"\r\n        :page-size=\"pagesize\"\r\n        :current-page=\"page\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :page-sizes=\"[5,10,20,30]\"\r\n        @size-change=\"handleSizeChange\"\r\n      ></el-pagination>\r\n    </el-card>\r\n    <!-- 添加/修改 -->\r\n    <articles-add ref=\"articlesAdd\" :data=\"currArticle\" @updateList=\"handelUpdateList()\" />\r\n        <!-- 预览框 -->\r\n      <articles-preview\r\n        :articles-list=\"currArticle\"\r\n        :isShow.sync=\"isShowDialogVisible\"\r\n      />\r\n      <!-- 音频 -->\r\n    <div  v-if=\"videoURL\">\r\n        <div @click=\"handleClose\" class=\"el-icon-close\">\r\n          <video ref=\"video\" :src=\"videoURL\" controls></video>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { list, changeState, remove } from '@/api/hmmm/articles'\r\nimport ArticlesAdd from '../components/articles-add'\r\nimport ArticlesPreview from '../components/articles-preview'\r\nexport default {\r\n  name: 'ArticlesList',\r\n  components: { ArticlesAdd, ArticlesPreview },\r\n  data () {\r\n    return {\r\n      form: {\r\n        keyword: '',\r\n        state: null\r\n      },\r\n      page: 1,\r\n      pagesize: 10,\r\n      total: 0,\r\n      ArticlesList: [],\r\n      currArticle: {},\r\n      videoURL: null,\r\n      // 预览状态\r\n      isShowDialogVisible: false,\r\n      loading: false\r\n    }\r\n  },\r\n  created () {\r\n    this.getAtricleList()\r\n  },\r\n  methods: {\r\n    // 查询列表\r\n    async getAtricleList () {\r\n      // 增强用户体验 数据回来之前出现个加载框\r\n      this.loading = true\r\n      const {\r\n        data: { items, counts }\r\n      } = await list({\r\n        ...this.form,\r\n        page: this.page,\r\n        pagesize: this.pagesize\r\n      })\r\n      // 将获取到的数据赋值给ArticlesList和total\r\n      // console.log(items)\r\n      this.ArticlesList = items\r\n      this.total = counts\r\n      // 还原加载框\r\n      this.loading = false\r\n    },\r\n    // 序号递增 下一页时累加\r\n    indexMethod (index) {\r\n      return index + 1 + this.pagesize * (this.page - 1)\r\n    },\r\n    // 切换分页\r\n    handleCurrentChange (val) {\r\n      this.page = val\r\n      this.getAtricleList()\r\n    },\r\n    // pageSize 改变时会触发  当前页发生变化\r\n    handleSizeChange (size) {\r\n      this.page = 1\r\n      this.pagesize = size\r\n      this.getAtricleList()\r\n    },\r\n\r\n    // 切换状态\r\n    async handletoggleState (article) {\r\n      await changeState({\r\n        id: article.id,\r\n        state: article.state === 1 ? 0 : 1\r\n      })\r\n      // 提示用户\r\n      this.$message.success('操作成功')\r\n      // 判断str.state是否是启用状态,如果是则返回true否则为false 并重新赋值给str.state\r\n      article.state = article.state === 1 ? 0 : 1\r\n    },\r\n    // 视频\r\n    handleVideo (url) {\r\n      this.videoURL = url\r\n      /*\r\n        因为this.$refs.video外层用了v-if,所以获取到的this.$refs.video值是undefined\r\n        用nextTick让它在微任务时候执行\r\n      */\r\n      console.log(this.$refs.video)\r\n      this.$nextTick(() => {\r\n        // play()开始播放视频。\r\n        this.$refs.video.play()\r\n      })\r\n    },\r\n    //  关闭视频\r\n    handleClose () {\r\n      // todo 该方法好像有BUG 有时候点击关闭之后还会有声音\r\n      this.$nextTick(() => {\r\n        // pause()暂停当前播放的视频。\r\n        this.$refs.video.pause()\r\n      })\r\n\r\n      this.videoURL = null\r\n    },\r\n    // 清除筛选条件\r\n    handleClear () {\r\n      this.form = {\r\n        keyword: '',\r\n        state: null\r\n      }\r\n      this.getAtricleList()\r\n    },\r\n    // 进行筛选\r\n    handleSearch () {\r\n      this.page = 1\r\n      this.getAtricleList()\r\n    },\r\n\r\n    // 预览\r\n    // 文章预览\r\n    handlePreview (val) {\r\n      this.isShowDialogVisible = true\r\n      this.currArticle = val\r\n      // console.log(val)\r\n    },\r\n    // 添加&&编辑\r\n    handleOpenDialog (article = {}) {\r\n      this.currArticle = article\r\n      this.$nextTick(() => {\r\n        this.$refs.articlesAdd.open()\r\n      })\r\n    },\r\n\r\n    // 删除\r\n    async handleDelArticle (articleData) {\r\n      await this.$confirm('此操作将永久删除该文章, 是否继续?', '提示', { type: 'warning' })\r\n      await remove(articleData)\r\n      // console.log(this.ArticlesList.length)\r\n      // ! 特殊处理：如果为当前页的第一项，且数组长度为1则需要当前页-1\r\n      if (this.ArticlesList.length === 1 && this.page > 1) this.page--\r\n      this.$message.success('删除成功')\r\n      this.getAtricleList()\r\n    },\r\n\r\n    // 新增&&修改 后更新列表\r\n    handelUpdateList () {\r\n      if (!this.currArticle.id) {\r\n        this.page = 1\r\n      }\r\n      this.getAtricleList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n// 顶部表单样式\r\n.demo-form-inline {\r\n  .key-word {\r\n    margin-left: 30px;\r\n  }\r\n  .state {\r\n    margin-left: 30px;\r\n  }\r\n}\r\n// 视频的图标设置\r\n.el-icon-film {\r\n  color: blue;\r\n  font-size: 18px;\r\n  // 字体图标与文字居中显示\r\n  vertical-align: middle;\r\n}\r\n//  video\r\n.el-icon-close {\r\n  position: absolute;\r\n  top: -75px;\r\n  right: 50%;\r\n  width: 50px;\r\n  height: 50px;\r\n  font-size: 30px;\r\n  text-align: center;\r\n  padding: 10px;\r\n  color: #fff;\r\n  background-color: rgba(107, 107, 107, 0.5);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  z-index: 9999;\r\n  video{\r\n    position:absolute;\r\n    left: -350px;\r\n    top: 50px;\r\n    width: 800px;\r\n    height: 500px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articles.vue?vue&type=template&id=35ad1644&scoped=true&\"\nimport script from \"./articles.vue?vue&type=script&lang=js&\"\nexport * from \"./articles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articles.vue?vue&type=style&index=0&id=35ad1644&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35ad1644\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles.vue?vue&type=style&index=0&id=35ad1644&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-preview.vue?vue&type=style&index=0&id=cecd8e26&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('el-dialog',{attrs:{\"title\":\"预览文章\",\"visible\":_vm.isShow},on:{\"close\":_vm.handleClose}},[_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(_vm._s(_vm.ArticlesList.title))])]),_c('div',{staticClass:\"message\"},[_c('span',[_vm._v(_vm._s(_vm._f(\"parseTimeByString\")(_vm.ArticlesList.createTime)))]),_c('span',[_vm._v(_vm._s(_vm.ArticlesList.username))]),_c('span',{staticClass:\"el-icon-view\"}),_c('span',[_vm._v(_vm._s(_vm.ArticlesList.state))])]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.ArticlesList.articleBody)}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class='container'>\r\n    <!-- 预览对话框 -->\r\n    <el-dialog\r\n    title=\"预览文章\"\r\n    :visible=\"isShow\"\r\n    @close=\"handleClose\"\r\n  >\r\n  <!-- 标题 -->\r\n    <div class=\"title\">\r\n      <h2>{{ ArticlesList.title }}</h2>\r\n    </div>\r\n    <!-- 描述信息 -->\r\n    <div class=\"message\">\r\n      <span>{{ ArticlesList.createTime | parseTimeByString }}</span>\r\n      <span>{{ ArticlesList.username }}</span>\r\n      <span class=\"el-icon-view\"></span>\r\n      <span>{{ ArticlesList.state }}</span>\r\n    </div>\r\n    <!-- 内容 -->\r\n    <div class=\"content\" v-html=\"ArticlesList.articleBody\" />\r\n\r\n  </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ArticlesPreview',\r\n  props: {\r\n    // dialog的状态\r\n    isShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    ArticlesList: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  methods: {\r\n    // 关闭弹窗\r\n    handleClose () {\r\n      this.$emit('update:isShow', false)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container{\r\n  width: 800px;\r\n   .message{\r\n    padding-left: 10px;\r\n    span{\r\n      margin-left:8px;\r\n    }\r\n    .el-icon-view{\r\n      // 文字与图片中线对齐\r\n      vertical-align:middle;\r\n    }\r\n  }\r\n  .content{\r\n    margin-top: 5px;\r\n    padding-left: 10px ;\r\n    border-top: 1px dashed  gray;\r\n    background-color: #f5f5f5;\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articles-preview.vue?vue&type=template&id=cecd8e26&scoped=true&\"\nimport script from \"./articles-preview.vue?vue&type=script&lang=js&\"\nexport * from \"./articles-preview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articles-preview.vue?vue&type=style&index=0&id=cecd8e26&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cecd8e26\",\n  null\n  \n)\n\nexport default component.exports","/*\r\n * @Author: taoshiwei\r\n * @Date: 2019-04-09 14:39:32\r\n * @Last Modified by: taoshiwei\r\n * @Last Modified time: 2019-04-29 15:16:53\r\n *\r\n * 文章\r\n */\r\n\r\nimport { createAPI } from '@/utils/request'\r\n\r\n// 文章列表\r\nexport const list = data => createAPI('/articles', 'get', data)\r\n\r\n// 文章简单列表\r\nexport const simple = data => createAPI('/articles/simple', 'get', data)\r\n\r\n// 文章详情\r\nexport const detail = data => createAPI(`/articles/${data.id}`, 'get', data)\r\n\r\n// 文章添加\r\nexport const add = data => createAPI('/articles', 'post', data)\r\n\r\n// 文章修改\r\nexport const update = data => createAPI(`/articles/${data.id}`, 'put', data)\r\n\r\n// 文章删除\r\nexport const remove = data => createAPI(`/articles/${data.id}`, 'delete', data)\r\n\r\n// 文章状态\r\nexport const changeState = data =>\r\n  createAPI(`/articles/${data.id}/${data.state}`, 'post', data)\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"articles-add\"},[_c('el-dialog',{attrs:{\"title\":`${_vm.data.id?'修改':'新增'}文章`,\"visible\":_vm.show,\"width\":\"800px\"},on:{\"update:visible\":function($event){_vm.show=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"size\":\"small\",\"label-width\":\"100px\",\"model\":_vm.formModel,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"文章标题：\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入文章标签\"},model:{value:(_vm.formModel.title),callback:function ($$v) {_vm.$set(_vm.formModel, \"title\", $$v)},expression:\"formModel.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章内容：\",\"prop\":\"articleBody\"}},[_c('quill-editor',{attrs:{\"options\":_vm.editorOptions},model:{value:(_vm.formModel.articleBody),callback:function ($$v) {_vm.$set(_vm.formModel, \"articleBody\", $$v)},expression:\"formModel.articleBody\"}})],1),_c('el-form-item',{attrs:{\"label\":\"视频地址：\",\"prop\":\"videoURL\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入视频地址\"},model:{value:(_vm.formModel.videoURL),callback:function ($$v) {_vm.$set(_vm.formModel, \"videoURL\", $$v)},expression:\"formModel.videoURL\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.show=false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirm()}}},[_vm._v(\"确认\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"articles-add\">\r\n    <el-dialog :title=\"`${data.id?'修改':'新增'}文章`\" :visible.sync=\"show\" width=\"800px\">\r\n      <el-form ref=\"form\" size=\"small\" label-width=\"100px\" :model=\"formModel\" :rules=\"formRules\">\r\n        <el-form-item label=\"文章标题：\" prop=\"title\">\r\n          <el-input v-model=\"formModel.title\" placeholder=\"请输入文章标签\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章内容：\" prop=\"articleBody\">\r\n          <!-- 富文本编辑器 -->\r\n          <quill-editor v-model=\"formModel.articleBody\" :options=\"editorOptions\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"视频地址：\" prop=\"videoURL\">\r\n          <el-input v-model=\"formModel.videoURL\" placeholder=\"请输入视频地址\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button @click=\"show=false\">取消</el-button>\r\n        <el-button @click=\"confirm()\" type=\"primary\">确认</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { add, update } from '@/api/hmmm/articles'\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\nimport { quillEditor } from 'vue-quill-editor'\r\nexport default {\r\n  name: 'ArticlesAdd',\r\n  components: {\r\n    // 富文本编辑器\r\n    quillEditor\r\n  },\r\n  props: {\r\n    data: {\r\n      default: () => {},\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show: false,\r\n      formModel: {\r\n        id: null,\r\n        title: null,\r\n        articleBody: null,\r\n        videoURL: null\r\n      },\r\n      formRules: {\r\n        // 校验表单必填项\r\n        title: [\r\n          { required: true, message: '请输入文章标题', tirgger: ['blur', 'change'] }\r\n        ],\r\n        articleBody: [\r\n          { required: true, message: '请输入文章内容', tirgger: ['blur', 'change'] }\r\n        ]\r\n      },\r\n      editorOptions: {\r\n        placeholder: '请输入正文',\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'], // 加粗 斜体 下划线 删除线\r\n            ['blockquote', 'code-block'], // 引用 代码块\r\n            [{ list: 'ordered' }, { list: 'bullet' }], // 有序、无序列表\r\n\r\n            // [{ header: 1 }, { header: 2 }], // 1、2 级标题\r\n            ['image', 'video', 'link'] // 图片、视频、链接\r\n            // [{ indent: '-1' }, { indent: '+1' }], // 缩进\r\n            // ['clean'] // 清除文本格式\r\n          ]\r\n\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    open () {\r\n      this.show = true\r\n      if (this.data.id) {\r\n        const { id, title, articleBody, videoURL } = this.data\r\n        this.formModel = { id, title, articleBody, videoURL }\r\n      } else {\r\n        this.formModel = {\r\n          id: null,\r\n          title: null,\r\n          articleBody: null,\r\n          videoURL: null\r\n        }\r\n      }\r\n      // 清除校验效果\r\n      this.$nextTick(() => {\r\n        this.$refs.form.clearValidate()\r\n      })\r\n    },\r\n    async confirm () {\r\n      this.$refs.form.validate(async flag => {\r\n        if (!flag) return\r\n        // 提交\r\n        if (!this.data.id) {\r\n          // 新增\r\n          await add(this.formModel)\r\n        } else {\r\n          // 修改\r\n          this.formModel.id = this.data.id\r\n          await update(this.formModel)\r\n        }\r\n        this.$message.success('操作成功')\r\n        this.show = false\r\n        this.$emit('updateList')\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.articles-add ::v-deep .ql-editor{\r\n  height: 200px;\r\n}\r\n.articles-add ::v-deep .ql-toolbar.ql-snow{\r\n  padding: 0 8px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./articles-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./articles-add.vue?vue&type=template&id=54a36e56&scoped=true&\"\nimport script from \"./articles-add.vue?vue&type=script&lang=js&\"\nexport * from \"./articles-add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./articles-add.vue?vue&type=style&index=0&id=54a36e56&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54a36e56\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}